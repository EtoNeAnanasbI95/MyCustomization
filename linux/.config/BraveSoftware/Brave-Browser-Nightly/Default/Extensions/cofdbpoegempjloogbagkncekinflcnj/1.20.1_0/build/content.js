var content=function(e){"use strict";function t(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}function n(e,n){return t({action:"dlSendNotification",payload:{type:e,options:n}})}async function o(e){if(!chrome.tabs)return;const t=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}const i=[{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google español",label:"ES",supportsFormality:!0},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0},{langCode:"ID",langCodeForSpeech:"id-ID"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0},{langCode:"ZH",langCodeForSpeech:"zh-CN"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0},{langCode:"BG",langCodeForSpeech:"bg-BG"},{langCode:"CS",langCodeForSpeech:"cs-CZ"},{langCode:"DA",langCodeForSpeech:"da-DK"},{langCode:"ET",langCodeForSpeech:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu"},{langCode:"EL",langCodeForSpeech:"el-GR"},{langCode:"HU",langCodeForSpeech:"hu-HU"},{langCode:"LV",langCodeForSpeech:"lv"},{langCode:"LT",langCodeForSpeech:"lt"},{langCode:"RO",langCodeForSpeech:"ro-RO"},{langCode:"SK",langCodeForSpeech:"sk-SK"},{langCode:"SL",langCodeForSpeech:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE"},{langCode:"TR",langCodeForSpeech:"tr-TR"},{langCode:"UK",langCodeForSpeech:"uk-UA"},{langCode:"NB",langCodeForSpeech:"nb-NO"},{langCode:"KO",langCodeForSpeech:"ko-KR"},{langCode:"AR",langCodeForSpeech:"ar-AR"}],s=["EN-GB","EN-US","EN","DE"],r=1,a=2,l={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},c=1,d=2,u="inline",p="automatic",m="manual",g="input",h={notLoggedIn:1,loggedInPro:2,loggedInFree:3},f=1500,_=5e3,v=2e3,w=2e3,b=1,y=3,E=1,$=2,x=3,T=1,S=2,C=1,L=2,k=[/[^.]+\.deepl\.com/g,/[^.]+\.figma\.com/g],M=[/docs.google\.com\/spreadsheets/g],I=[/[^.]+\.deepl\.com/g],A={deepl_inline_ui:{z_index:2147483650}},N={hintKeyboardShortcut:"HINT_KEYBOARD_SHORTCUT",inputTranslation:"INPUT_TRANSLATION",inlineTranslation:"INLINE_TRANSLATION",fullPageTranslation:"FULL_PAGE_TRANSLATION",accountSuccessfullyCreated:"ACCOUNT_SUCCESSFULLY_CREATED",successfullyLoggedIn:"SUCCESSFULLY_LOGGED_IN"},O={green_theme:"green_theme"},R={inlineTranslationTriggerIcon:"INLINE_TRANSLATION_TRIGGER_ICON",inlineTranslationSettingsIcon:"INLINE_TRANSLATION_SETTINGS_ICON",inlineTranslationSettingPopup:"INLINE_TRANSLATION_SETTING_POPUP",inputTranslationTriggerIcon:"INPUT_TRANSLATION_TRIGGER_ICON",inputImproveTriggerIcon:"INPUT_IMPROVE_TRIGGER_ICON",inputTranslationSettingsIcon:"INPUT_TRANSLATION_SETTINGS_ICON",inputTranslationSettingPopup:"INPUT_TRANSLATION_SETTING_POPUP",settingsPageFPT:"SETTINGS_PAGE_FPT",settingsPageReading:"SETTINGS_PAGE_READING",settingsPageWriting:"SETTINGS_PAGE_WRITING",settingsPageIntegrations:"SETTINGS_PAGE_INTEGRATIONS",fptHideModal:"FPT_HIDE_MODAL",inputTranslationReadMoreLink:"INPUT_TRANSLATION_READ_MORE_LINK",inlineTranslationReadMoreLink:"INLINE_TRANSLATION_READ_MORE_LINK",fptTranslationReadMoreLink:"FPT_TRANSLATION_READ_MORE_LINK",extensionHubToggleSwitch:"EXTENSION_HUB_TOGGLE_SWITCH",hubCustomizeShortcut:"HUB_CUSTOMIZE_SHORTCUT",hubLoginButton:"HUB_LOGIN_BUTTON",hubUpgradeToProLink:"HUB_UPGRADE_TO_PRO_LINK",hubTryProLink:"HUB_TRY_PRO_LINK",hubTryWriteProLink:"HUB_TRY_WRITE_PRO_LINK",settingsPageCustomizeShortcutButton:"SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",hubFPTEnableCheckbox:"HUB_FPT_ENABLE_CHECKBOX",hubFPTDisableCheckbox:"HUB_FPT_DISABLE_CHECKBOX",deeplWriteIcon:"DEEPL_WRITE_ICON",gmailOnboardingPopup:"gmailOnboardingPopup",gmailOnboardingIcon:"gmailOnboardingIcon",gmailCharLimitLogin:"gmailCharLimitLogin",gmailFeedbackSurvey:"gmailFeedbackSurvey",hubViewIntegrations:"HUB_VIEW_INTEGRATIONS",hubCloseCustomizationsWidget:"HUB_CLOSE_CUSTOMIZATIONS_WIDGET",gslidesFeedbackSurvey:"GSLIDES_FEEDBACK_SURVEY",gslidesCharLimitLogin:"GSLIDES_CHAR_LIMIT_LOGIN",zendeskTryProLink:"ZENDESK_TRY_PRO_LINK",onboardingSignUp:"ONBOARDING_SIGN_UP",onboardingSkipSignUp:"ONBOARDING_SKIP_SIGN_UP",onboardingLoginLink:"ONBOARDING_LOGIN_LINK",onboardingSeeAllIntegrations:"ONBOARDING_SEE_ALL_INTEGRATIONS",iconToggleInHubTranslator:"ICON_TOGGLE_IN_HUB_TRANSLATOR",iconToggleInHubWrite:"ICON_TOGGLE_IN_HUB_WRITE",manageIconSettings:"MANAGE_ICON_SETTINGS",writeLanguageSwitchedInHub:"WRITE_LANGUAGE_SWITCHED_IN_HUB",writeLanguageSwitchedInSettings:"WRITE_LANGUAGE_SWITCHED_IN_SETTINGS"},D="trigger-translation",P="CLICK_ON_SHORTCUT_NOTIFICATION",H="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",U="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",G="CLICK_ON_LOGOUT_MENU_ENTRY",z={disablePerSite:"DISABLE_PER_SITE",disableEverywhere:"DISABLE_EVERYWHERE",enableEverywhere:"ENABLE_EVERYWHERE",enablePerSite:"ENABLE_PER_SITE"},q="INPUT_TRANSLATION",W="INLINE_TRANSLATION",j=1,B=2,F={unspecified:0,chrome:1,edge:2,local:3,firefox:4},V={chrome:"cofdbpoegempjloogbagkncekinflcnj",edge:"fancfknaplihpclbhbpclnmmjcjanbaf",local:"ocpdpnakdghopjcifldjidbdmfobmmoi",firefox:"firefox-extension@deepl.com"},Y={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},Z={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},K={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},X={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW",gmail:"GMAIL",gslides:"GSLIDES",customer_segmentation:"CUSTOMER_SEGMENTATION",arabic_survey:"ARABIC_SURVEY"},J={close_icon:1,deepl_icon:2,outside_click:3},Q={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER",gmail:"GMAIL",gslides:"GSLIDES",linkedIn:"LINKEDIN"},ee={translate:"translate",write:"write"},te=["script","style"],ne=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],oe="OPEN_TICKET",ie="DETECT_TICKET_LANGUAGE",se="SWITCH_TICKET_LANGUAGE",re="ENABLE_AUTOTRANSLATE",ae="DISABLE_AUTOTRANSLATE",le="TRANSLATE_MESSAGE",ce="TRANSLATE_INPUT",de="ERROR",ue="TICKET",pe="LIVE_CHAT",me=50,ge={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},he={free:"free",pro:"pro",none:"none"},fe="TEXT_REFINEMENT_REQUEST",_e="GDOCS_INSERT_COPY",ve="GDOCS_DISCARD_COPY",we="GDOCS_CHAR_LIMIT_REACHED",be="RESULT_ACCEPTED",ye="RESULT_REVERTED",Ee="ERROR",$e="RESULT_ACCEPTED",xe="RESULT_REVERTED",Te="ALTERNATIVES_OPENED",Se="SEGMENTATION_SELECTED",Ce="ALTERNATIVE_SELECTED",Le="SHOWN",ke="CLICKED",Me={READING_VIEW_TRANSLATE:"READING_VIEW_TRANSLATE",COMPOSE_VIEW_TRANSLATE:"COMPOSE_VIEW_TRANSLATE",COMPOSE_VIEW_IMPROVE:"COMPOSE_VIEW_IMPROVE"},Ie="ANONYMOUS_USER_LIMIT_EXCEEDED",Ae="FREE_ACCOUNT_LIMIT_EXCEEDED",Ne="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",Oe="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",Re="PRO_TRIAL",De="LOGIN",Pe="SIGNUP",He={ANONYMOUS:"ANONYMOUS",FREE:"FREE"},Ue={WORD:"word",SENTENCE:"sentence"},Ge=["JA","ZH"],ze={none:"None",pro:"Pro",free:"Free"},qe=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!Object.keys(ge).includes(t))throw new Error("Unidentified service name supplied to getServiceType");if(!e.isLoggedIn)return he.free;switch(t){case ge.TRANSLATOR:return e.translatorServiceType;case ge.WRITE:return e.writeServiceType;case ge.API:return e.apiServiceType;case ge.DOC_TRANSLATOR:return e.docTranslatorServiceType}},We=(e,t)=>qe(e,t)===he.pro,je=(e,t)=>qe(e,t)===he.none,Be=e=>!!e.isLoggedIn&&((e,t)=>qe(e,t)===he.free)(e,ge.WRITE),Fe={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function Ve(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Ye(e,t){let n;try{switch(e){case Fe.chrome:case Fe.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case Fe.edge:n=t.split("Edg/")[1].split(" ")[0];break;case Fe.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case Fe.opera:n=t.split("OPR/")[1].split(" ")[0];break;case Fe.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&navigator?.userAgentData&&function(e){return e===Fe.chrome||e===Fe.edge||e===Fe.brave||e===Fe.opera}(e)&&(n=Ze(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function Ze(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}function Ke(){const e=navigator?.userAgent||"unknown_user_agent",t=navigator?.userAgentData?.platform||navigator?.platform||"unknown_platform";let n="unknown_browser",o="unknown_browser_version";const i=navigator?.language||"unknown_browser_language";try{const t=e.match(/chrome|chromium|crios/i),i=e.match(/edg/i)||Ze(Fe.edge),s=e.match(/firefox|fxios/i),r=e.match(/opr\//i)||Ze(Fe.opera),a=e.match(/safari/i),l=Ze(Fe.brave);t?(n=Fe.chrome,i&&(n=Fe.edge),r&&(n=Fe.opera),l&&(n=Fe.brave)):i?n=Fe.edge:s?n=Fe.firefox:r?n=Fe.opera:a&&(n=Fe.safari),o=Ye(n,e)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:e,platform:t,browser:n,browserVersion:o,browserLang:i}}function Xe(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.20.1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ"},APP_VERSION:"1.20.1",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.20.1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ"},APP_VERSION:"1.20.1",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0}}.browserBuild.toLowerCase()===Fe.firefox.toLowerCase();const e=chrome.runtime.getURL("");return Ke().browser===Fe.firefox||/moz-extension:\/\//gm.test(e)}const Je=()=>{const e="https://docs.google.com";return window.location.href.substr(0,23)===e},Qe=()=>{const e=document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;return{iFrame:e,editable:e&&e.document.querySelector("[contenteditable=true]")}},et=()=>{const{iFrame:e,editable:t}=Qe();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},tt=()=>{const{iFrame:e,editable:t}=Qe();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":t.innerHTML,text:o?"":t.innerText}},nt=()=>{const e=document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");if(!e)return void console.error("GDocs Icon was not present while trying to get the coordinates");const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=t;return{x:i-n.left,y:r-n.top,selectedTop:o,selectedBottom:r,selectedRight:n.width-s,selectedLeft:i+window.scrollX,selectedWidth:l,height:a}},ot=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=120,i=40,s=t.getBoundingClientRect();let r=!1;const a={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);a.left=t.left,a.top=n?n+20:0,a.top+o/2<s.top+10&&(a.top=s.top+10),a.top-o/2>s.bottom&&(r=!0)}catch(e){if(n){const e=n.getBoundingClientRect();a.left=e.right-i/2,a.top=s.top+30}}return a.left+i/2>s.right&&(r=!0),{shouldBeOutOfViewport:r,newPosition:a}},it=()=>!!document.querySelector("#docs-toolbar-wrapper"),st=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,i=[];let s="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${i.length+1}`;i.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),s+=`<${n}>`}})),s+=t}const r=[],a=s.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:i}=rt(e);return r.push(i),{isTranslatable:t,index:r.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:r,entities:i,contentReference:a,originalObject:n,originalText:o.dsl_spacers}},rt=e=>{const{leadingEntities:t,processedLine:n}=at(e),{trailingEntities:o,processedLine:i}=lt(n);return{leading:t,trailing:o,processedLine:i}},at=e=>{let t="",n="",o="",i=!0;for(const s of e){if(i){const e=o[o.length-1];if("<"===s&&0===o.length){o="<";continue}if(">"===s&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===s&&o.length>0&&"<"===e){o+="a";continue}if(s.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=s;continue}if(ct(s)&&0===o.length){t+=s;continue}i=!1,o=""}n+=s}return{processedLine:n,leadingEntities:t}},lt=e=>{let t="",n="",o="",i=!0;for(const s of e.split("").reverse()){if(i){if(">"===s&&0===o.length){o=">";continue}if("<"===s&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===s&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(s.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=s+o;continue}if(ct(s)&&0===o.length){t=s+t;continue}i=!1,o=""}n=s+n}return{processedLine:n,trailingEntities:t}},ct=e=>[16,17,18,28].includes(e.charCodeAt(0)),dt=({textLines:e,entities:t,contentReference:n})=>{let o=n.map((t=>t.isTranslatable?`${t.leading}${Array.isArray(e[t.index])?e[t.index].join(""):e[t.index]}${t.trailing}`:t.line)).join("\n");o=o.replace(/<\/a(\d+)>/g,"<a$1>");let i="",s=[],r=0,a=0;for(;r+a<o.length;){const e=r+a;if("<"===o[e]&&"a"===o[e+1]){let n="<a",i=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(i=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(i=!1,c=!1)}if(i){a+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));s.push({...e,new_position:r});continue}}i+=o[e],r++}return{processedText:i,processedEntities:s}},ut=e=>e.replace(/<(\/)?a(\d+)>/g,""),pt=e=>{const{characterMappings:t,cleanSentence:n}=gt(e),o=/[^\s.,:;!?"()*｟｠｡｢｣､･、。〈〉《》「」『』【】〔〕〖〗〘〙〚〛〝〞〟 〪 〫 〬 〭]/,i=[];let s="",r=0,a=!1;for(let e=0;e<n.length;e++){const l=n[e],c=o.test(l);c!==a&&s.length>0&&(i.push({text:s,isWord:a,offsetStart:r,offsetLength:s.length,offsetStartRaw:t[r],offsetLengthRaw:t[r+s.length]}),s=""),a=c,s+=l,1===s.length&&(r=e)}return s&&i.push({text:s,isWord:a,offsetStart:r,offsetLength:s.length,offsetStartRaw:t[r],offsetLengthRaw:t[r+s.length]}),i},mt=({entities:e,text:t,originalObject:n})=>{const o=ht({entities:e,text:t,originalObject:n});ft(o)},gt=e=>{const t=[];let n="";const o=e.split(/(<a\d+>)/g);let i=0;for(let e=0;e<o.length;e++){const s=o[e];if(!/^<a\d+>$/.test(s)){n+=s;for(let e=0;e<s.length;e++)t.push(i+e)}i+=s.length}return{characterMappings:t,cleanSentence:n}},ht=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),i=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let i=0;n.forEach((e=>{i=e.new_position>i?e.new_position:i,o[`${e.new_position}`]=e.entity}));const s=[];for(let e=0;e<=i;e++)s.push(o[`${e}`]||null);return{...t,stsl_styles:s}})),s={...o.resolved,dsl_spacers:t,dsl_styleslices:i},r={...n,data:JSON.stringify({...o,resolved:s})};return JSON.stringify(r)},ft=e=>{const{editable:t}=Qe();let n;const o="application/x-vnd.google-docs-document-slice-clip+wrapped";if(Xe())n=new ClipboardEvent("paste",{dataType:o,data:e});else{const t=new DataTransfer;t.setData(o,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};function _t(e,t){return wt(e)===t}function vt(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),i.map((e=>e.langCode)).includes(e))}const wt=e=>e.substring(0,2).toUpperCase();async function bt(e,t=!1){let n="";const o=await chrome.i18n.detectLanguage(e);return o&&o.languages?.length>0&&(n=o.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase()),t?{langCode:n,isReliable:o.isReliable,detectedLanguages:o.languages.sort(((e,t)=>t.percentage-e.percentage)).map((e=>({langCode:e.language.substr(0,2).toUpperCase(),percentage:e.percentage})))}:n}const yt=()=>{let e,t,n=!1;return i.map((o=>{let i;return n=["EN-US","EN-GB","PT-PT","PT-BR"].includes(o.langCode),n&&(({optionLabel:e,selectedLabel:t}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(o)),i=o.langCode.slice(0,2).toLowerCase()+o.langCode.slice(2)),{value:o.langCode,label:n?e:chrome.i18n.getMessage(`supported_languages_${o.langCode}`),selectedOptionLabel:n?t:chrome.i18n.getMessage(`supported_languages_${o.langCode}`),regionalVariant:i}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function Et(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}function $t(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}const xt=e=>["DE","EN"].includes(e?.substr(0,2).toUpperCase()),Tt=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"};function St(e){if("rtl"===e.dir)return!0;return"rtl"===window.getComputedStyle(e).direction}const Ct=()=>{const e="https://docs.google.com";return window.location.href.substr(0,23)===e&&!!document.querySelector("#sketchy-hidden-iframe")},Lt=async()=>{const e=[],t=n=>{const o=[],i=[];for(let e=0;e<n.children.length;e++){const t=n.children[e];"text"===t.tagName.toLowerCase()?o.push(t):"g"===t.tagName.toLowerCase()&&i.push(t)}o.length>0&&e.push(o.map((e=>e.textContent)).join(" "));for(const e of i)t(e)},n=At();if(n){t(n);const o=e.join("\n");return await bt(o)}},kt=async()=>{const e=At(),t=document.querySelector("#canvas-container").getBoundingClientRect();if(e){const n=t.left-2,o=t.top-2,i=t.right+2,s=t.bottom+2,r=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:n,clientY:o});e.dispatchEvent(r);for(let t=1;t<=10;t++){const r=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:n+t/10*(i-n),clientY:o+t/10*(s-o)});e.dispatchEvent(r),await new Promise((e=>setTimeout(e,25)))}const a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:i,clientY:s});e.dispatchEvent(a)}},Mt=e=>{const t=[],n=[];for(const n of e){const e=n[0],o=n[1];if(15===e){const e=n[4];if(""===e.trim())continue;if(t.find((e=>e.id===o)))continue;const i={id:o,originalContent:e,translatedContent:"",sentencesIndexes:[],originalSentences:[],translatedSentences:[],modifiers:[],secondaryModifiers:[],entity:n,orphanModifiers:[],orphanModifiersIntegrityCheck:[]};t.push(i)}else if(17===e){const e=t.find((e=>e.id===o));if(!e)continue;e.modifiers.push(n)}else if(41===e){const e=t.find((e=>e.id===o));if(!e)continue;e.secondaryModifiers.push(n)}}for(let e=0;e<t.length;e++){const o=t[e];o.orphanModifiers=Nt(o);const{originalSentences:i,orphanModifiersIntegrityCheck:s}=Dt(o);o.originalSentences=i,o.orphanModifiersIntegrityCheck=s;for(const e of o.originalSentences)o.sentencesIndexes.push(n.length),n.push(e)}return{entities:t,sentencesToTranslate:n}},It=({entity:e,translatedSentences:t,modifiersToDelete:n})=>{e.translatedSentences=e.sentencesIndexes.map((e=>t[e]));const{translatedContent:o,orphanModifiersMappingEquivalences:i}=Pt(e);if(e.translatedContent=o,!e.translatedContent||e.translatedContent===e.originalContent)return;e.entity[4]=e.translatedContent;const s=Ht(i,e);for(let t=0;t<e.modifiers.length;t++){const o=e.modifiers[t];let i=!1;if(Ut(o,s)){const{start:e,end:t}=Gt(o,s);t<=e?i=!0:(o[3]=e,o[4]=t)}else i=!0;i&&n.push(o)}},At=()=>Array.from(document.querySelectorAll("#pages svg")).find((e=>"none"!==getComputedStyle(e).display)),Nt=({originalContent:e,modifiers:t})=>{const n=Rt(e);return Ot(t).filter((e=>!n.includes(e)))},Ot=e=>{const t=[];for(const n of e)t.includes(n[3])||t.push(n[3]),t.includes(n[4])||t.push(n[4]);return t},Rt=e=>{const t=e.split("\n"),n=[0];let o=0;for(const e of t){const t=o+e.length;n.includes(t)||n.push(t),n.includes(t+1)||n.push(t+1),o=t+1}return n},Dt=({originalContent:e,orphanModifiers:t})=>{let n=0;const o={},i=e.split("\n").map((e=>{let i="";for(let s=0;s<e.length;s++){const r=n+s;if(t.includes(r)){const n=t.indexOf(r);/\s/.test(e[s])&&(o[`${n}`]=e[s]),i+=`<a${n}>`}i+=e[s]}return n+=e.length+1,i}));return{orphanModifiersIntegrityCheck:o,originalSentences:i}},Pt=e=>{let t={},n=0;return{translatedContent:e.translatedSentences.map((o=>{const i={};let s=0;const r=o.replace(/<a\d+>/g,((t,r)=>{const a=t.match(/<a(\d+)>/);if(a){const l=a[1],c=t.length,d=e.orphanModifiers[Number(l)];void 0!==d&&(i[`${d}`]=s+n+r-c*Object.keys(i).length);const u=o.charAt(r+c);if(u&&void 0!==e.orphanModifiersIntegrityCheck[`${l}`]&&e.orphanModifiersIntegrityCheck[`${l}`]!==u)return s++,e.orphanModifiersIntegrityCheck[`${l}`]}return""}));return t={...t,...i},n+=r.length+1,r})).join("\n"),orphanModifiersMappingEquivalences:t}},Ht=(e={},{originalContent:t,translatedContent:n})=>{const o=Rt(t),i=Rt(n),s={};for(let e=0;e<o.length;e++)s[`${o[e]}`]=i[e];return{...e,...s}},Ut=(e,t)=>{const n=e[3],o=e[4];return void 0!==t[`${n}`]&&void 0!==t[`${o}`]},Gt=(e,t)=>{const n=e[3],o=e[4];return{start:t[`${n}`],end:t[`${o}`]}},zt=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));const qt={prod:"production",dev:"development",test:"testing"};function Wt(){return qt.prod}function jt(){return Wt()===qt.dev}const Bt=Object.prototype.toString;function Ft(e){switch(Bt.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return nn(e,Error)}}function Vt(e,t){return Bt.call(e)===`[object ${t}]`}function Yt(e){return Vt(e,"ErrorEvent")}function Zt(e){return Vt(e,"DOMError")}function Kt(e){return Vt(e,"String")}function Xt(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Jt(e){return null===e||Xt(e)||"object"!=typeof e&&"function"!=typeof e}function Qt(e){return Vt(e,"Object")}function en(e){return"undefined"!=typeof Event&&nn(e,Event)}function tn(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function nn(e,t){try{return e instanceof t}catch(e){return!1}}function on(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function sn(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function rn(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{on(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function an(e,t,n=!1){return!!Kt(e)&&(Vt(t,"RegExp")?t.test(e):!!Kt(t)&&(n?e===t:e.includes(t)))}function ln(e,t=[],n=!1){return t.some((t=>an(e,t,n)))}function cn(e,t,n=250,o,i,s,r){if(!(s.exception&&s.exception.values&&r&&nn(r.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var l,c;a&&(s.exception.values=(l=dn(e,t,i,r.originalException,o,s.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=sn(e.value,c)),e)))))}function dn(e,t,n,o,i,s,r,a){if(s.length>=n+1)return s;let l=[...s];if(nn(o[i],Error)){un(r,a);const s=e(t,o[i]),c=l.length;pn(s,i,c,a),l=dn(e,t,n,o[i],i,[s,...l],s,c)}return Array.isArray(o.errors)&&o.errors.forEach(((o,s)=>{if(nn(o,Error)){un(r,a);const c=e(t,o),d=l.length;pn(c,`errors[${s}]`,d,a),l=dn(e,t,n,o,i,[c,...l],c,d)}})),l}function un(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function pn(e,t,n,o){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:o}}function mn(e){return e&&e.Math==Math?e:void 0}const gn="object"==typeof globalThis&&mn(globalThis)||"object"==typeof window&&mn(window)||"object"==typeof self&&mn(self)||"object"==typeof global&&mn(global)||function(){return this}()||{};function hn(){return gn}function fn(e,t,n){const o=n||gn,i=o.__SENTRY__=o.__SENTRY__||{};return i[e]||(i[e]=t())}const _n=hn(),vn=80;function wn(e,t={}){if(!e)return"<unknown>";try{let n=e;const o=5,i=[];let s=0,r=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||vn;for(;n&&s++<o&&(c=bn(n,d),!("html"===c||s>1&&r+i.length*l+c.length>=u));)i.push(c),r+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function bn(e,t){const n=e,o=[];let i,s,r,a,l;if(!n||!n.tagName)return"";if(_n.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;o.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),i=n.className,i&&Kt(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)o.push(`.${s[l]}`);const d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)r=d[l],a=n.getAttribute(r),a&&o.push(`[${r}="${a}"]`);return o.join("")}const yn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,En=["debug","info","warn","error","log","assert","trace"],$n={};function xn(e){if(!("console"in gn))return e();const t=gn.console,n={},o=Object.keys($n);o.forEach((e=>{const o=$n[e];n[e]=t[e],t[e]=o}));try{return e()}finally{o.forEach((e=>{t[e]=n[e]}))}}const Tn=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return yn?En.forEach((n=>{t[n]=(...t)=>{e&&xn((()=>{gn.console[n](`Sentry Logger [${n}]:`,...t)}))}})):En.forEach((e=>{t[e]=()=>{}})),t}(),Sn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Cn(e,t=!1){const{host:n,path:o,pass:i,port:s,projectId:r,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${o?`${o}/`:o}${r}`}function Ln(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function kn(e){const t="string"==typeof e?function(e){const t=Sn.exec(e);if(!t)return void xn((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,o,i="",s,r="",a]=t.slice(1);let l="",c=a;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return Ln({host:s,pass:i,path:l,projectId:c,port:r,protocol:n,publicKey:o})}(e):Ln(e);if(t&&function(e){if(!yn)return!0;const{port:t,projectId:n,protocol:o}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Tn.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(o)?t&&isNaN(parseInt(t,10))&&(Tn.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Tn.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(Tn.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class Mn extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function In(e,t,n){if(!(t in e))return;const o=e[t],i=n(o);"function"==typeof i&&Nn(i,o),e[t]=i}function An(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){yn&&Tn.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Nn(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,An(e,"__sentry_original__",t)}catch(e){}}function On(e){return e.__sentry_original__}function Rn(e){if(Ft(e))return{message:e.message,name:e.name,stack:e.stack,...Pn(e)};if(en(e)){const t={type:e.type,target:Dn(e.target),currentTarget:Dn(e.currentTarget),...Pn(e)};return"undefined"!=typeof CustomEvent&&nn(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Dn(e){try{return t=e,"undefined"!=typeof Element&&nn(t,Element)?wn(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Pn(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Hn(e){return Un(e,new Map)}function Un(e,t){if(function(e){if(!Qt(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const o={};t.set(e,o);for(const n of Object.keys(e))void 0!==e[n]&&(o[n]=Un(e[n],t));return o}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const o=[];return t.set(e,o),e.forEach((e=>{o.push(Un(e,t))})),o}return e}const Gn=50,zn=/\(error: (.*)\)/,qn=/captureMessage|captureException/;const Wn="<anonymous>";function jn(e){try{return e&&"function"==typeof e&&e.name||Wn}catch(e){return Wn}}const Bn={},Fn={};function Vn(e,t){Bn[e]=Bn[e]||[],Bn[e].push(t)}function Yn(e,t){Fn[e]||(t(),Fn[e]=!0)}function Zn(e,t){const n=e&&Bn[e];if(n)for(const o of n)try{o(t)}catch(t){yn&&Tn.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${jn(o)}\nError:`,t)}}function Kn(){"console"in gn&&En.forEach((function(e){e in gn.console&&In(gn.console,e,(function(t){return $n[e]=t,function(...t){Zn("console",{args:t,level:e});const n=$n[e];n&&n.apply(gn.console,t)}}))}))}function Xn(){const e=gn,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Jn(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Qn(e){const{message:t,event_id:n}=e;if(t)return t;const o=Jn(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function eo(e,t,n){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function to(e,t){const n=Jn(e);if(!n)return;const o=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...o,...t},t&&"data"in t){const e={...o&&o.data,...t.data};n.mechanism.data=e}}function no(e){if(e&&e.__sentry_captured__)return!0;try{An(e,"__sentry_captured__",!0)}catch(e){}return!1}const oo=gn,io=1e3;let so,ro,ao;function lo(){if(!oo.document)return;const e=Zn.bind(null,"dom"),t=co(e,!0);oo.document.addEventListener("click",t,!1),oo.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=oo[t]&&oo[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(In(n,"addEventListener",(function(t){return function(n,o,i){if("click"===n||"keypress"==n)try{const o=this,s=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},r=s[n]=s[n]||{refCount:0};if(!r.handler){const o=co(e);r.handler=o,t.call(this,n,o,i)}r.refCount++}catch(e){}return t.call(this,n,o,i)}})),In(n,"removeEventListener",(function(e){return function(t,n,o){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,o),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,o)}})))}))}function co(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const o=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,o))return;An(n,"_sentryCaptured",!0),o&&!o._sentryId&&An(o,"_sentryId",Xn());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==ro)return!1;try{if(!e.target||e.target._sentryId!==ao)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),ro=n.type,ao=o?o._sentryId:void 0}clearTimeout(so),so=oo.setTimeout((()=>{ao=void 0,ro=void 0}),io)}}const uo=hn();function po(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function mo(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in uo))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(po(uo.fetch))return!0;let e=!1;const t=uo.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=po(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){yn&&Tn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function go(){mo()&&In(gn,"fetch",(function(e){return function(...t){const{method:n,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:fo(t),method:ho(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:fo(t),method:ho(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:o},startTimestamp:Date.now()};return Zn("fetch",{...i}),e.apply(gn,t).then((e=>(Zn("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Zn("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}function ho(e,t){return!!e&&"object"==typeof e&&!!e[t]}function fo(e){return"string"==typeof e?e:e?ho(e,"url")?e.url:e.toString?e.toString():"":""}let _o=null;function vo(){_o=gn.onerror,gn.onerror=function(e,t,n,o,i){return Zn("error",{column:o,error:i,line:n,msg:e,url:t}),!(!_o||_o.__SENTRY_LOADER__)&&_o.apply(this,arguments)},gn.onerror.__SENTRY_INSTRUMENTED__=!0}let wo=null;function bo(){wo=gn.onunhandledrejection,gn.onunhandledrejection=function(e){return Zn("unhandledrejection",e),!(wo&&!wo.__SENTRY_LOADER__)||wo.apply(this,arguments)},gn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const yo=hn();const Eo=gn;let $o;function xo(){if(!function(){const e=yo.chrome,t=e&&e.app&&e.app.runtime,n="history"in yo&&!!yo.history.pushState&&!!yo.history.replaceState;return!t&&n}())return;const e=Eo.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=$o,t=String(n);$o=t;Zn("history",{from:e,to:t})}return e.apply(this,t)}}Eo.onpopstate=function(...t){const n=Eo.location.href,o=$o;$o=n;if(Zn("history",{from:o,to:n}),e)try{return e.apply(this,t)}catch(e){}},In(Eo.history,"pushState",t),In(Eo.history,"replaceState",t)}const To=gn,So="__sentry_xhr_v3__";function Co(){if(!To.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;In(e,"open",(function(e){return function(...t){const n=Date.now(),o=Kt(t[0])?t[0].toUpperCase():void 0,i=function(e){if(Kt(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!o||!i)return e.apply(this,t);this[So]={method:o,url:i,request_headers:{}},"POST"===o&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this[So];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Zn("xhr",{args:[o,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?In(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),In(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,i=this[So];return i&&Kt(n)&&Kt(o)&&(i.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),In(e,"send",(function(e){return function(...t){const n=this[So];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Zn("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function Lo(e,t=100,n=1/0){try{return Mo("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function ko(e,t=3,n=102400){const o=Lo(e,t);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?ko(e,t-1,n):o;var i}function Mo(e,t,n=1/0,o=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[s,r]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(a=t)||a==a))return t;var a;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(on(t))return"[VueViewModel]";if(function(e){return Qt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${jn(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return l.replace("object ","");if(s(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return Mo("",d.toJSON(),c-1,o,i)}catch(e){}const u=Array.isArray(t)?[]:{};let p=0;const m=Rn(t);for(const e in m){if(!Object.prototype.hasOwnProperty.call(m,e))continue;if(p>=o){u[e]="[MaxProperties ~]";break}const t=m[e];u[e]=Mo(e,t,c-1,o,i),p++}return r(t),u}var Io;function Ao(e){return new Oo((t=>{t(e)}))}function No(e){return new Oo(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(Io||(Io={}));class Oo{constructor(e){Oo.prototype.__init.call(this),Oo.prototype.__init2.call(this),Oo.prototype.__init3.call(this),Oo.prototype.__init4.call(this),this._state=Io.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Oo(((n,o)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){o(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){o(e)}else o(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Oo(((t,n)=>{let o,i;return this.then((t=>{i=!1,o=t,e&&e()}),(t=>{i=!0,o=t,e&&e()})).then((()=>{i?n(o):t(o)}))}))}__init(){this._resolve=e=>{this._setResult(Io.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Io.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Io.PENDING&&(tn(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Io.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Io.RESOLVED&&e[1](this._value),this._state===Io.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Ro(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return No(new Mn("Not adding Promise because buffer limit was reached."));const i=o();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new Oo(((n,o)=>{let i=t.length;if(!i)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Ao(e).then((()=>{--i||(clearTimeout(s),n(!0))}),o)}))}))}}}function Do(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",o=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:o,relative:t[5]+n+o}}const Po=["fatal","error","warning","log","info","debug"];function Ho(e){return"warn"===e?"warning":Po.includes(e)?e:"log"}const Uo=1e3;function Go(){return Date.now()/Uo}const zo=function(){const{performance:e}=gn;if(!e||!e.now)return Go;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/Uo}();function qo(e,t=[]){return[e,t]}function Wo(e,t){const[n,o]=e;return[n,[...o,t]]}function jo(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Bo(e,t){return(t||new TextEncoder).encode(e)}function Fo(e,t){const[n,o]=e;let i=JSON.stringify(n);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[Bo(i,t),e]:i.push("string"==typeof e?Bo(e,t):e)}for(const e of o){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Lo(n))}s(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let o=0;for(const t of e)n.set(t,o),o+=t.length;return n}(i)}function Vo(e,t){const n="string"==typeof e.data?Bo(e.data,t):e.data;return[Hn({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(()=>{const{performance:e}=gn;if(!e||!e.now)return;const t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=i<t,r=e.timing&&e.timing.navigationStart,a="number"==typeof r?Math.abs(r+n-o):t;(s||a<t)&&(i<=a&&e.timeOrigin)})();const Yo={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function Zo(e){return Yo[e]}function Ko(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}const Xo=6e4;function Jo(e,{statusCode:t,headers:n},o=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],r=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n]=e.split(":",2),s=parseInt(t,10),r=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))i[e]=o+r;else i.all=o+r}else r?i.all=o+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${e}`);return isNaN(o)?Xo:o-t}(r,o):429===t&&(i.all=o+6e4);return i}const Qo="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ei="production";function ti(){return fn("globalEventProcessors",(()=>[]))}function ni(e){ti().push(e)}function oi(e,t,n,o=0){return new Oo(((i,s)=>{const r=e[o];if(null===t||"function"!=typeof r)i(t);else{const a=r({...t},n);Qo&&r.id&&null===a&&Tn.log(`Event processor "${r.id}" dropped event`),tn(a)?a.then((t=>oi(e,t,n,o+1).then(i))).then(null,s):oi(e,a,n,o+1).then(i).then(null,s)}}))}function ii(e){const t=zo(),n={sid:Xn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Hn({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&si(n,e),n}function si(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||zo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Xn()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}const ri=1;function ai(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:i,parent_span_id:s,status:r,tags:a,origin:l}=li(e);return Hn({data:o,op:i,parent_span_id:s,span_id:t,status:r,tags:a,trace_id:n,origin:l})}function li(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function ci(e,t,n,o,i,s){const{normalizeDepth:r=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Xn(),timestamp:t.timestamp||Go()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:ei);void 0===e.release&&void 0!==o&&(e.release=o);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=sn(e.message,s));const r=e.exception&&e.exception.values&&e.exception.values[0];r&&r.value&&(r.value=sn(r.value,s));const a=e.request;a&&a.url&&(a.url=sn(a.url,s))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=gn._sentryDebugIds;if(!n)return;let o;const i=di.get(t);i?o=i:(o=new Map,di.set(t,o));const s=Object.keys(n).reduce(((e,i)=>{let s;const r=o.get(i);r?s=r:(s=t(i),o.set(i,s));for(let t=s.length-1;t>=0;t--){const o=s[t];if(o.filename){e[o.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=s[e.filename])}))}))}catch(e){}}(l,e.stackParser);const d=function(e,t){if(!t)return e;const n=e?e.clone():new $i;return n.update(t),n}(o,n.captureContext);n.mechanism&&to(l,n.mechanism);const u=i&&i.getEventProcessors?i.getEventProcessors():[],p=function(){Ei||(Ei=new $i);return Ei}().getScopeData();if(s){bi(p,s.getScopeData())}if(d){bi(p,d.getScopeData())}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),wi(l,p);return oi([...u,...ti(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof r&&r>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Lo(e.data,t,n)}})))},...e.user&&{user:Lo(e.user,t,n)},...e.contexts&&{contexts:Lo(e.contexts,t,n)},...e.extra&&{extra:Lo(e.extra,t,n)}};e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=Lo(e.contexts.trace.data,t,n)));e.spans&&(o.spans=e.spans.map((e=>{const o=li(e).data;return o&&(e.data=Lo(o,t,n)),e})));return o}(e,r,a):e)))}const di=new WeakMap;function ui(e){if(e)return function(e){return e instanceof $i||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>pi.includes(e)))}(e)?{captureContext:e}:e}const pi=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function mi(e,t){return Ii().captureEvent(e,t)}function gi(e,t){Ii().addBreadcrumb(e,t)}function hi(){return Ii().getClient()}function fi(e){return e.transaction}function _i(e,t,n){const o=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},r=Hn({environment:o.environment||ei,release:o.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",r),r}function vi(e){const t=hi();if(!t)return{};const n=_i(li(e).trace_id||"",t,Ii().getScope()),o=fi(e);if(!o)return n;const i=o&&o._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:r}=o.metadata;null!=s&&(n.sample_rate=`${s}`);const a=li(o);return r&&"url"!==r&&(n.transaction=a.description),n.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return Boolean(t&ri)}(o)),t.emit&&t.emit("createDsc",n),n}function wi(e,t){const{fingerprint:n,span:o,breadcrumbs:i,sdkProcessingMetadata:s}=t;!function(e,t){const{extra:n,tags:o,user:i,contexts:s,level:r,transactionName:a}=t,l=Hn(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=Hn(o);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=Hn(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const u=Hn(s);u&&Object.keys(u).length&&(e.contexts={...u,...e.contexts});r&&(e.level=r);a&&(e.transaction=a)}(e,t),o&&function(e,t){e.contexts={trace:ai(t),...e.contexts};const n=fi(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:vi(t),...e.sdkProcessingMetadata};const o=li(n).description;o&&(e.tags={transaction:o,...e.tags})}}(e,o),function(e,t){e.fingerprint=e.fingerprint?function(e){return Array.isArray(e)?e:[e]}(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,s)}function bi(e,t){const{extra:n,tags:o,user:i,contexts:s,level:r,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:m,span:g}=t;yi(e,"extra",n),yi(e,"tags",o),yi(e,"user",i),yi(e,"contexts",s),yi(e,"sdkProcessingMetadata",a),r&&(e.level=r),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext={...e.propagationContext,...p}}function yi(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[t][o]=n[o])}}let Ei;class $i{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=xi()}static clone(e){return e?e.clone():new $i}clone(){const e=new $i;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&si(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof $i){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Qt(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=xi(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:Go(),...e},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:o,_extra:i,_user:s,_level:r,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:d,_transactionName:u,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:o,extra:i,user:s,level:r,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:d,transactionName:u,span:p}}applyToEvent(e,t={},n=[]){wi(e,this.getScopeData());return oi([...n,...ti(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Xn();if(!this._client)return Tn.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:Xn();if(!this._client)return Tn.warn("No client configured on scope - will not capture message!"),o;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Xn();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Tn.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function xi(){return{traceId:Xn(),spanId:Xn().substring(16)}}const Ti="7.107.0",Si=parseFloat(Ti),Ci=100;class Li{constructor(e,t,n,o=Si){let i,s;this._version=o,t?i=t:(i=new $i,i.setClient(e)),n?s=n:(s=new $i,s.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return tn(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Xn(),o=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:o,...t,event_id:n}),n}captureMessage(e,t,n){const o=this._lastEventId=n&&n.event_id?n.event_id:Xn(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o}),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Xn();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Ci}=o.getOptions&&o.getOptions()||{};if(s<=0)return;const r={timestamp:Go(),...e},a=i?xn((()=>i(r,t))):r;null!==a&&(o.emit&&o.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Mi(this);try{e(this)}finally{Mi(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Qo&&Tn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(Qo&&!n){this.getClient()?Tn.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Tn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),si(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:o,environment:i=ei}=n&&n.getOptions()||{},{userAgent:s}=gn.navigator||{},r=ii({release:o,environment:i,user:t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&si(a,{status:"exited"}),this.endSession(),t.setSession(r),r}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=ki().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);Qo&&Tn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function ki(){return gn.__SENTRY__=gn.__SENTRY__||{extensions:{},hub:void 0},gn}function Mi(e){const t=ki(),n=Ai(t);return Ni(t,e),n}function Ii(){const e=ki();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=ki()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!Ai(e).isOlderThan(Si)||Ni(e,new Li);var t;return Ai(e)}(e)}function Ai(e){return fn("hub",(()=>new Li),e)}function Ni(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function Oi(e,t,n,o){const i=Ko(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const r=function(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:Cn(o)},...i&&{trace:Hn({...i})}}}(e,i,o,t);delete e.sdkProcessingMetadata;return qo(r,[[{type:s},e]])}const Ri="7";function Di(e,t){return n={sentry_key:e.publicKey,sentry_version:Ri,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}const Pi=[];function Hi(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ui(e,t,n){if(n[t.name])Qo&&Tn.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Pi.indexOf(t.name)&&(t.setupOnce(ni,Ii),Pi.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,o)=>n(t,o,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),o=Object.assign(((t,o)=>n(t,o,e)),{id:t.name});e.addEventProcessor(o)}Qo&&Tn.log(`Integration installed: ${t.name}`)}}function Gi(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function zi(e,t,n,o){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(i.dsn=Cn(t));const s=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),o=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return qo(i,[s])}const qi="Not capturing exception because it's already been captured.";class Wi{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=kn(e.dsn):Qo&&Tn.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,o="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${Di(e,o)}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(no(e))return void(Qo&&Tn.log(qi));let o=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{o=e}))),o}captureMessage(e,t,n,o){let i=n&&n.event_id;const s=Xt(e)?e:String(e),r=Jt(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(r.then((e=>this._captureEvent(e,n,o))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&no(t.originalException))return void(Qo&&Tn.log(qi));let o=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{o=e}))),o}captureSession(e){"string"!=typeof e.release?Qo&&Tn.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),si(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):Ao(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return Qo&&Tn.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Ui(this,e,this._integrations),t||Hi(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=Oi(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Wo(n,Vo(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const i=Ko(n);return qo({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!o&&t&&{dsn:Cn(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;Qo&&Tn.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){Qo&&Tn.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=zi(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Ui(e,t,n)})),n}(this,e),Hi(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,o=!1;const i=t.exception&&t.exception.values;if(i){o=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(si(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Oo((t=>{let n=0;const o=setInterval((()=>{0==this._numProcessing?(clearInterval(o),t(!0)):(n+=1,e&&n>=e&&(clearInterval(o),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=function(){return Ii().getIsolationScope()}()){const i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),ci(i,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:o,spanId:i,parentSpanId:s,dsc:r}=t;e.contexts={trace:{trace_id:o,span_id:i,parent_span_id:s},...e.contexts};const a=r||_i(o,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(Qo){const t=e;"log"===t.logLevel?Tn.log(t.message):Tn.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:i}=o,s=Bi(e),r=ji(e),a=e.type||"error",l=`before send for type \`${a}\``;if(r&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),No(new Mn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===a?"replay":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new Mn("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:o,beforeSendTransaction:i}=e;if(ji(t)&&o)return o(t,n);if(Bi(t)&&i)return i(t,n);return t}(o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(tn(e))return e.then((e=>{if(!Qt(e)&&null!==e)throw new Mn(n);return e}),(e=>{throw new Mn(`${t} rejected with ${e}`)}));if(!Qt(e)&&null!==e)throw new Mn(n);return e}(i,l)})).then((o=>{if(null===o)throw this.recordDroppedEvent("before_send",c,e),new Mn(`${l} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!s&&i&&this._updateSessionFromEvent(i,o);const r=o.transaction_info;if(s&&r&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...r,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof Mn)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Mn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{Qo&&Tn.error("Error while sending event:",e)}));Qo&&Tn.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,o]=t.split(":");return{reason:n,category:o,quantity:e[t]}}))}}function ji(e){return void 0===e.type}function Bi(e){return"transaction"===e.type}const Fi=30;function Vi(e,t,n=Ro(e.bufferSize||Fi)){let o={};function i(i){const s=[];if(jo(i,((t,n)=>{const i=Zo(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(o,i)){const o=Yi(t,n);e.recordDroppedEvent("ratelimit_backoff",i,o)}else s.push(t)})),0===s.length)return Ao();const r=qo(i[0],s),a=t=>{jo(r,((n,o)=>{const i=Yi(n,o);e.recordDroppedEvent(t,Zo(o),i)}))};return n.add((()=>t({body:Fo(r,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Qo&&Tn.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),o=Jo(o,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Mn)return Qo&&Tn.error("Skipped sending event because buffer is full."),a("queue_overflow"),Ao();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function Yi(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const Zi=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ki=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],Xi="InboundFilters",Ji=(e={})=>({name:Xi,setupOnce(){},processEvent(t,n,o){const i=o.getOptions(),s=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Zi],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Ki],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return Qo&&Tn.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Qn(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));Qo&&0===t.length&&Tn.error(`Could not extract message for event ${Qn(e)}`);return t}(e).some((e=>ln(e,t)))}(e,t.ignoreErrors))return Qo&&Tn.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Qn(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&ln(n,t)}(e,t.ignoreTransactions))return Qo&&Tn.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Qn(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Qi(e);return!!n&&ln(n,t)}(e,t.denyUrls))return Qo&&Tn.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Qn(e)}.\nUrl: ${Qi(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Qi(e);return!n||ln(n,t)}(e,t.allowUrls))return Qo&&Tn.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Qn(e)}.\nUrl: ${Qi(e)}`),!0;return!1}(t,s)?null:t}});function Qi(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return Qo&&Tn.error(`Cannot extract url for event ${Qn(e)}`),null}}let es;Gi(Xi,Ji);const ts="FunctionToString",ns=new WeakMap,os=()=>({name:ts,setupOnce(){es=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=On(this),n=ns.has(hi())&&void 0!==t?t:this;return es.apply(n,e)}}catch(e){}},setup(e){ns.set(e,!0)}});Gi(ts,os);const is=gn;let ss=0;function rs(){return ss>0}function as(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(On(e))return e}catch(t){return e}const o=function(){const o=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=o.map((e=>as(e,t)));return e.apply(this,i)}catch(e){throw ss++,setTimeout((()=>{ss--})),function(...e){const t=Ii();if(2===e.length){const[n,o]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,o(n)))):t.withScope(o)}t.withScope(e[0])}((n=>{var i,s;n.addEventProcessor((e=>(t.mechanism&&(eo(e,void 0,void 0),to(e,t.mechanism)),e.extra={...e.extra,arguments:o},e))),i=e,Ii().captureException(i,ui(s))})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(e){}Nn(o,e),An(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}const ls="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function cs(e,t){const n=us(e,t),o={type:t&&t.name,value:ms(t)};return n.length&&(o.stacktrace={frames:n}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function ds(e,t){return{exception:{values:[cs(e,t)]}}}function us(e,t){const n=t.stacktrace||t.stack||"",o=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(ps.test(e.message))return 1}return 0}(t);try{return e(n,o)}catch(e){}return[]}const ps=/Minified React error #\d+;/i;function ms(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function gs(e,t,n,o,i){let s;if(Yt(t)&&t.error){return ds(e,t.error)}if(Zt(t)||Vt(t,"DOMException")){const i=t;if("stack"in t)s=ds(e,t);else{const t=i.name||(Zt(i)?"DOMError":"DOMException"),r=i.message?`${t}: ${i.message}`:t;s=hs(e,r,n,o),eo(s,r)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}if(Ft(t))return ds(e,t);if(Qt(t)||en(t)){return s=function(e,t,n,o){const i=hi(),s=i&&i.getOptions().normalizeDepth,r={exception:{values:[{type:en(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:fs(t,{isUnhandledRejection:o})}]},extra:{__serialized__:ko(t,s)}};if(n){const t=us(e,n);t.length&&(r.exception.values[0].stacktrace={frames:t})}return r}(e,t,n,i),to(s,{synthetic:!0}),s}return s=hs(e,t,n,o),eo(s,`${t}`,void 0),to(s,{synthetic:!0}),s}function hs(e,t,n,o){const i={};if(o&&n){const o=us(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(Xt(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function fs(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Rn(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return sn(n[0],t);for(let e=n.length;e>0;e--){const o=n.slice(0,e).join(", ");if(!(o.length>t))return e===n.length?o:sn(o,t)}return""}(e),o=t?"promise rejection":"exception";if(Yt(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(en(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${n}`}class _s extends Wi{constructor(e){!function(e,t,n=[t],o="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:Ti}))),version:Ti}),e._metadata=i}(e,"browser",["browser"],is.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&is.document&&is.document.addEventListener("visibilitychange",(()=>{"hidden"===is.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,o){const i=gs(e,t,n&&n.syntheticException||void 0,o);return to(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),Ao(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",o,i){const s=hs(e,t,o&&o.syntheticException||void 0,i);return s.level=n,o&&o.event_id&&(s.event_id=o.event_id),Ao(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(ls&&Tn.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:o}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:Cn(o)}},s=function(e){return[{type:"user_report"},e]}(e);return qo(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(ls&&Tn.log("No outcomes to send"));if(!this._dsn)return void(ls&&Tn.log("No dsn provided, will not send outcomes"));ls&&Tn.log("Sending outcomes:",e);const t=(n=e,qo((o=this._options.tunnel&&Cn(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:i||Go(),discarded_events:n}]]));var n,o,i;this._sendEnvelope(t)}}let vs;function ws(e,t=function(){if(vs)return vs;if(po(is.fetch))return vs=is.fetch.bind(is);const e=is.document;let t=is.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const o=n.contentWindow;o&&o.fetch&&(t=o.fetch),e.head.removeChild(n)}catch(e){ls&&Tn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return vs=t.bind(is)}()){let n=0,o=0;return Vi(e,(function(i){const s=i.body.length;n+=s,o++;const r={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};try{return t(e.url,r).then((e=>(n-=s,o--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return vs=void 0,n-=s,o--,No(e)}}))}const bs="?";function ys(e,t,n,o){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==o&&(i.colno=o),i}const Es=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$s=/\((\S*)(?::(\d+))(?::(\d+))\)/,xs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ts=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ss=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Cs=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[],i=e.split("\n");for(let e=n;e<i.length;e++){const n=i[e];if(n.length>1024)continue;const s=zn.test(n)?n.replace(zn,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){o.push(t);break}}if(o.length>=Gn)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),qn.test(t[t.length-1].function||"")&&(t.pop(),qn.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,Gn).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(o)}}(...[[30,e=>{const t=Es.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=$s.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Ls(t[1]||bs,t[2]);return ys(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=xs.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Ts.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||bs;return[n,e]=Ls(n,e),ys(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Ss.exec(e);return t?ys(t[2],t[1]||bs,+t[3],t[4]?+t[4]:void 0):void 0}]]),Ls=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:bs,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ks=1024,Ms="Breadcrumbs",Is=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ms,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";Vn(t,e),Yn(t,Kn)}(function(e){return function(t){if(hi()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Ho(t.level),message:rn(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${rn(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}gi(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(hi()!==e)return;let o,i,s="object"==typeof t?t.serializeAttribute:void 0,r="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;r&&r>ks&&(ls&&Tn.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${r} was configured. Sentry will use 1024 instead.`),r=ks),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;o=wn(t,{keyAttrs:s,maxStringLength:r}),i=function(e){if(!_n.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(t)}catch(e){o="<unknown>"}if(0===o.length)return;const a={category:`ui.${n.name}`,message:o};i&&(a.data={"ui.component_name":i}),gi(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),Vn("dom",n),Yn("dom",lo)),t.xhr&&function(e){Vn("xhr",e),Yn("xhr",Co)}(function(e){return function(t){if(hi()!==e)return;const{startTimestamp:n,endTimestamp:o}=t,i=t.xhr[So];if(!n||!o||!i)return;const{method:s,url:r,status_code:a,body:l}=i;gi({category:"xhr",data:{method:s,url:r,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:o})}}(e)),t.fetch&&function(e){const t="fetch";Vn(t,e),Yn(t,go)}(function(e){return function(t){if(hi()!==e)return;const{startTimestamp:n,endTimestamp:o}=t;if(o&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){gi({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:o})}else{const e=t.response;gi({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:o})}}}(e)),t.history&&function(e){const t="history";Vn(t,e),Yn(t,xo)}(function(e){return function(t){if(hi()!==e)return;let n=t.from,o=t.to;const i=Do(is.location.href);let s=n?Do(n):void 0;const r=Do(o);s&&s.path||(s=i),i.protocol===r.protocol&&i.host===r.host&&(o=r.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),gi({category:"navigation",data:{from:n,to:o}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){hi()===e&&gi({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Qn(t)},{event:t})}}(e))}}};Gi(Ms,Is);const As="Dedupe",Ns=()=>{let e;return{name:As,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,o=t.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!Rs(e,t))return!1;if(!Os(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Ds(t),o=Ds(e);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!Rs(e,t))return!1;if(!Os(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return ls&&Tn.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function Os(e,t){let n=Ps(e),o=Ps(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Rs(e,t){let n=e.fingerprint,o=t.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(e){return!1}}function Ds(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ps(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Gi(As,Ns);const Hs="GlobalHandlers",Us=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Hs,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";Vn(t,e),Yn(t,vo)}((t=>{const{stackParser:n,attachStacktrace:o}=qs();if(hi()!==e||rs())return;const{msg:i,url:s,line:r,column:a,error:l}=t,c=void 0===l&&Kt(i)?function(e,t,n,o){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Yt(e)?e.message:e,r="Error";const a=s.match(i);a&&(r=a[1],s=a[2]);const l={exception:{values:[{type:r,value:s}]}};return Gs(l,t,n,o)}(i,s,r,a):Gs(gs(n,l||i,void 0,o,!1),s,r,a);c.level="error",mi(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),zs("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";Vn(t,e),Yn(t,bo)}((t=>{const{stackParser:n,attachStacktrace:o}=qs();if(hi()!==e||rs())return;const i=function(e){if(Jt(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),s=Jt(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:gs(n,i,void 0,o,!0);s.level="error",mi(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),zs("onunhandledrejection"))}}};function Gs(e,t,n,o){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{},a=r.stacktrace=r.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(o,10))?void 0:o,d=isNaN(parseInt(n,10))?void 0:n,u=Kt(t)&&t.length>0?t:function(){try{return _n.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:u,function:"?",in_app:!0,lineno:d}),e}function zs(e){ls&&Tn.log(`Global Handler attached: ${e}`)}function qs(){const e=hi();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}Gi(Hs,Us);const Ws="HttpContext",js=()=>({name:Ws,setupOnce(){},preprocessEvent(e){if(!is.navigator&&!is.location&&!is.document)return;const t=e.request&&e.request.url||is.location&&is.location.href,{referrer:n}=is.document||{},{userAgent:o}=is.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},s={...e.request,...t&&{url:t},headers:i};e.request=s}});Gi(Ws,js);const Bs="LinkedErrors",Fs=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Bs,setupOnce(){},preprocessEvent(e,o,i){const s=i.getOptions();cn(cs,s.stackParser,s.maxValueLength,n,t,e,o)}}};Gi(Bs,Fs);const Vs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ys="TryCatch",Zs=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Ys,setupOnce(){t.setTimeout&&In(is,"setTimeout",Ks),t.setInterval&&In(is,"setInterval",Ks),t.requestAnimationFrame&&In(is,"requestAnimationFrame",Xs),t.XMLHttpRequest&&"XMLHttpRequest"in is&&In(XMLHttpRequest.prototype,"send",Js);const e=t.eventTarget;if(e){(Array.isArray(e)?e:Vs).forEach(Qs)}}}};function Ks(e){return function(...t){const n=t[0];return t[0]=as(n,{mechanism:{data:{function:jn(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Xs(e){return function(t){return e.apply(this,[as(t,{mechanism:{data:{function:"requestAnimationFrame",handler:jn(e)},handled:!1,type:"instrument"}})])}}function Js(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&In(n,e,(function(t){const n={mechanism:{data:{function:e,handler:jn(t)},handled:!1,type:"instrument"}},o=On(t);return o&&(n.mechanism.data.handler=jn(o)),as(t,n)}))})),e.apply(this,t)}}function Qs(e){const t=is,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(In(n,"addEventListener",(function(t){return function(n,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=as(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:jn(o),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,as(o,{mechanism:{data:{function:"addEventListener",handler:jn(o),target:e},handled:!1,type:"instrument"}}),i])}})),In(n,"removeEventListener",(function(e){return function(t,n,o){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,o)}catch(e){}return e.call(this,t,i,o)}})))}Gi(Ys,Zs);const er=[Ji(),os(),Zs(),Is(),Us(),Fs(),Ns(),js()];const tr={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.20.1",environment:Wt(),tracesSampleRate:Wt()===qt.prod?.9:1};function nr(e,t){t.captureException(e)}const or="PROTOCOL_ERROR",ir="NETWORK_ERROR",sr="FULL_PAGE_SERVER_ERROR",rr="-32003",ar="429",lr="403",cr="1045601",dr="1042902",ur="ENTRY_NOT_FOUND",pr="SERVER_ERROR",mr="TRANSLATED_INPUT_NOT_SET",gr="HTML_NODE_CHAR_LENGTH_TOO_LONG",hr="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",fr="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",_r="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",vr="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",wr="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED";class br extends Error{constructor(e,t){super(t),this.name=hr,this.limit=e,this.message=t}}class yr extends Error{constructor(e,t){super(t),this.name=fr,this.limit=e,this.message=t}}class Er extends Error{constructor(e,t){super(t),this.name=vr,this.limit=e,this.message=t}}class $r extends Error{constructor(e,t){super(t),this.name=wr,this.limit=e,this.message=t}}function xr(){}const Tr=e=>e;function Sr(e){return e()}function Cr(){return Object.create(null)}function Lr(e){e.forEach(Sr)}function kr(e){return"function"==typeof e}function Mr(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function Ir(e,...t){if(null==e)return xr;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ar(e,t,n){e.$$.on_destroy.push(Ir(t,n))}function Nr(e,t,n,o){if(e){const i=Or(e,t,n,o);return e[0](i)}}function Or(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function Rr(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function Dr(e,t,n,o,i,s){if(i){const r=Or(t,n,o,s);e.p(r,i)}}function Pr(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Hr(e){return null==e?"":e}function Ur(e,t,n){return e.set(n),t}function Gr(e){return e&&kr(e.destroy)?e.destroy:xr}function zr(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const qr="undefined"!=typeof window;let Wr=qr?()=>window.performance.now():()=>Date.now(),jr=qr?e=>requestAnimationFrame(e):xr;const Br=new Set;function Fr(e){Br.forEach((t=>{t.c(e)||(Br.delete(t),t.f())})),0!==Br.size&&jr(Fr)}function Vr(e){let t;return 0===Br.size&&jr(Fr),{promise:new Promise((n=>{Br.add(t={c:e,f:n})})),abort(){Br.delete(t)}}}function Yr(e,t){e.appendChild(t)}function Zr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Kr(e){const t=ea("style");return function(e,t){Yr(e.head||e,t),t.sheet}(Zr(e),t),t.sheet}function Xr(e,t,n){e.insertBefore(t,n||null)}function Jr(e){e.parentNode&&e.parentNode.removeChild(e)}function Qr(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function ea(e){return document.createElement(e)}function ta(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function na(e){return document.createTextNode(e)}function oa(){return na(" ")}function ia(){return na("")}function sa(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function ra(e){return function(t){return t.preventDefault(),e.call(this,t)}}function aa(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function la(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ca(e,t){t=""+t,e.data!==t&&(e.data=t)}function da(e,t){e.value=null==t?"":t}function ua(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function pa(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function ma(e,t,n){e.classList[n?"add":"remove"](t)}function ga(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}class ha{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=ta(t.nodeName):this.e=ea(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)Xr(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Jr)}}function fa(e,t){return new e(t)}const _a=new Map;let va,wa=0;function ba(e,t,n,o,i,s,r,a=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*s(e);c+=100*e+`%{${r(o,1-o)}}\n`}const d=c+`100% {${r(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`,p=Zr(e),{stylesheet:m,rules:g}=_a.get(p)||function(e,t){const n={stylesheet:Kr(t),rules:{}};return _a.set(e,n),n}(p,e);g[u]||(g[u]=!0,m.insertRule(`@keyframes ${u} ${d}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,wa+=1,u}function ya(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),wa-=i,wa||jr((()=>{wa||(_a.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&Jr(t)})),_a.clear())})))}function Ea(e){va=e}function $a(){if(!va)throw new Error("Function called outside component initialization");return va}function xa(e){$a().$$.on_mount.push(e)}function Ta(e){$a().$$.on_destroy.push(e)}function Sa(){const e=$a();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=ga(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function Ca(e,t){return $a().$$.context.set(e,t),t}function La(e){return $a().$$.context.get(e)}function ka(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Ma=[],Ia=[];let Aa=[];const Na=[],Oa=Promise.resolve();let Ra=!1;function Da(){Ra||(Ra=!0,Oa.then(qa))}function Pa(e){Aa.push(e)}function Ha(e){Na.push(e)}const Ua=new Set;let Ga,za=0;function qa(){if(0!==za)return;const e=va;do{try{for(;za<Ma.length;){const e=Ma[za];za++,Ea(e),Wa(e.$$)}}catch(e){throw Ma.length=0,za=0,e}for(Ea(null),Ma.length=0,za=0;Ia.length;)Ia.pop()();for(let e=0;e<Aa.length;e+=1){const t=Aa[e];Ua.has(t)||(Ua.add(t),t())}Aa.length=0}while(Ma.length);for(;Na.length;)Na.pop()();Ra=!1,Ua.clear(),Ea(e)}function Wa(e){if(null!==e.fragment){e.update(),Lr(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pa)}}function ja(){return Ga||(Ga=Promise.resolve(),Ga.then((()=>{Ga=null}))),Ga}function Ba(e,t,n){e.dispatchEvent(ga(`${t?"intro":"outro"}${n}`))}const Fa=new Set;let Va;function Ya(){Va={r:0,c:[],p:Va}}function Za(){Va.r||Lr(Va.c),Va=Va.p}function Ka(e,t){e&&e.i&&(Fa.delete(e),e.i(t))}function Xa(e,t,n,o){if(e&&e.o){if(Fa.has(e))return;Fa.add(e),Va.c.push((()=>{Fa.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const Ja={duration:0};function Qa(e,t,n){const o={direction:"in"};let i,s,r=t(e,n,o),a=!1,l=0;function c(){i&&ya(e,i)}function d(){const{delay:t=0,duration:n=300,easing:o=Tr,tick:d=xr,css:u}=r||Ja;u&&(i=ba(e,0,1,n,t,o,u,l++)),d(0,1);const p=Wr()+t,m=p+n;s&&s.abort(),a=!0,Pa((()=>Ba(e,!0,"start"))),s=Vr((t=>{if(a){if(t>=m)return d(1,0),Ba(e,!0,"end"),c(),a=!1;if(t>=p){const e=o((t-p)/n);d(e,1-e)}}return a}))}let u=!1;return{start(){u||(u=!0,ya(e),kr(r)?(r=r(o),ja().then(d)):d())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function el(e,t,n){const o={direction:"out"};let i,s=t(e,n,o),r=!0;const a=Va;function l(){const{delay:t=0,duration:n=300,easing:o=Tr,tick:l=xr,css:c}=s||Ja;c&&(i=ba(e,1,0,n,t,o,c));const d=Wr()+t,u=d+n;Pa((()=>Ba(e,!1,"start"))),Vr((t=>{if(r){if(t>=u)return l(0,1),Ba(e,!1,"end"),--a.r||Lr(a.c),!1;if(t>=d){const e=o((t-d)/n);l(1-e,e)}}return r}))}return a.r+=1,kr(s)?ja().then((()=>{s=s(o),l()})):l(),{end(t){t&&s.tick&&s.tick(1,0),r&&(i&&ya(e,i),r=!1)}}}function tl(e,t,n,o){const i={direction:"both"};let s=t(e,n,i),r=o?0:1,a=null,l=null,c=null;function d(){c&&ya(e,c)}function u(e,t){const n=e.b-r;return t*=Math.abs(n),{a:r,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(t){const{delay:n=0,duration:o=300,easing:i=Tr,tick:p=xr,css:m}=s||Ja,g={start:Wr()+n,b:t};t||(g.group=Va,Va.r+=1),a||l?l=g:(m&&(d(),c=ba(e,r,t,o,n,i,m)),t&&p(0,1),a=u(g,o),Pa((()=>Ba(e,t,"start"))),Vr((t=>{if(l&&t>l.start&&(a=u(l,o),l=null,Ba(e,a.b,"start"),m&&(d(),c=ba(e,r,a.b,a.duration,0,i,s.css))),a)if(t>=a.end)p(r=a.b,1-r),Ba(e,a.b,"end"),l||(a.b?d():--a.group.r||Lr(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;r=a.a+a.d*i(e/a.duration),p(r,1-r)}return!(!a&&!l)})))}return{run(e){kr(s)?ja().then((()=>{s=s(i),p(e)})):p(e)},end(){d(),a=l=null}}}function nl(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ol(e){e&&e.c()}function il(e,t,n,o){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),o||Pa((()=>{const t=e.$$.on_mount.map(Sr).filter(kr);e.$$.on_destroy?e.$$.on_destroy.push(...t):Lr(t),e.$$.on_mount=[]})),s.forEach(Pa)}function sl(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Aa.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),Aa=t}(n.after_update),Lr(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function rl(e,t,n,o,i,s,r,a=[-1]){const l=va;Ea(e);const c=e.$$={fragment:null,ctx:[],props:s,update:xr,not_equal:i,bound:Cr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Cr(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&(Ma.push(e),Da(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,Lr(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(Jr)}else c.fragment&&c.fragment.c();t.intro&&Ka(e.$$.fragment),il(e,t.target,t.anchor,t.customElement),qa()}Ea(l)}class al{$destroy(){sl(this,1),this.$destroy=xr}$on(e,t){if(!kr(t))return xr;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ll=[];function cl(e,t=xr){let n;const o=new Set;function i(t){if(Mr(e,t)&&(e=t,n)){const t=!ll.length;for(const t of o)t[1](),ll.push(t,e);if(t){for(let e=0;e<ll.length;e+=2)ll[e][0](ll[e+1]);ll.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,r=xr){const a=[s,r];return o.add(a),1===o.size&&(n=t(i)||xr),s(e),()=>{o.delete(a),0===o.size&&n&&(n(),n=null)}}}}const dl=function(){const{subscribe:e,set:t,update:n}=cl({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser","translatorServiceType","writeServiceType","apiServiceType","docTranslatorServiceType","browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>({...t,...e})))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t","accountId"];let o={};for(const[n,i]of Object.entries(e))!1===t.includes(n)&&(o[n]=i.newValue);if(jt()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}n((e=>({...e,...o})))})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),ul=function(){const{subscribe:e,update:t}=cl({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...t[n.tab.id],...e.payload,error:e.payload.error?e.payload.error:void 0}})));break;case"resetWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...e.payload}})))}})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>({...t,[e[0].id]:{...t[e[0].id],...n}})))}))}))}}}();function pl(e){let t;return{c(){t=ea("div"),la(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}!function(e,t,n){const o=!Array.isArray(e),i=o?[e]:e,s=t.length<2;cl(n,(e=>{let n=!1;const r=[];let a=0,l=xr;const c=()=>{if(a)return;l();const n=t(o?r[0]:r,e);s?e(n):l=kr(n)?n:xr},d=i.map(((e,t)=>Ir(e,(e=>{r[t]=e,a&=~(1<<t),n&&c()}),(()=>{a|=1<<t}))));return n=!0,c(),function(){Lr(d),l(),n=!1}})).subscribe}(ul,(async(e,t)=>{if(!chrome.tabs)return;t(e[(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id])})),function(){const{subscribe:e,set:n}=cl([]);t({action:"dlGetExperiments",payload:{forceFetch:!1}}).then((e=>n(e))),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&n(e.payload.experiments)}))}();function ml(e,t,n){let o,i,s;Ar(e,dl,(e=>n(1,o=e))),Ca("text_direction",Tt());const r=()=>{const e=window.location.pathname,t=Xp(e);if(t){const e=Jp();if(!e)return;const n=Qp(e)||em(e,t);n&&n.processRefreshUI()}},a=async e=>{if("dlChangeActiveTabStatus"===e.action)if(e.payload.isActive)l();else{if(!document.hidden)return;c()}},l=()=>{i&&clearInterval(i),i=setInterval(r,800)},c=()=>{clearInterval(i)};xa((()=>{const e=o.zendeskSuccessfulTranslations>=me;n(0,s=o?.featureSet?.customizations?.includes("zendesk")),e&&!s&&Ur(dl,o.isZendeskEnabled=!1,o),d()}));const d=()=>{l(),chrome.runtime.onMessage.addListener(a)};return Ta((()=>{i&&c(),chrome.runtime.onMessage.removeListener(a),nm()})),e.$$.update=()=>{2&e.$$.dirty&&!o?.featureSet?.customizations?.includes("zendesk")&&o.zendeskSuccessfulTranslations>=me&&(Ur(dl,o.isZendeskEnabled=!1,o),om()),3&e.$$.dirty&&!1===s&&o?.featureSet?.customizations?.includes("zendesk")&&(n(0,s=!0),Ur(dl,o.isZendeskEnabled=!0,o),l()),2&e.$$.dirty&&(o.isZendeskEnabled?l():om())},[s,o]}class gl extends al{constructor(e){super(),rl(this,e,ml,pl,Mr,{})}}class hl{static HTML_TAG_NAME="deepl-zendesk-controller";static createElement=(e=document)=>{const t=e.createElement(hl.HTML_TAG_NAME),n=new hl(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t.getActiveTermbases=n.getActiveTermbases,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new gl({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()};getActiveTermbases=()=>this.domElement.mainComponent.getActiveTermbases()}function fl(e){const t=e-1;return t*t*t+1}function _l(e,{delay:t=0,duration:n=400,easing:o=Tr}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function vl(e,{delay:t=0,duration:n=400,easing:o=fl,x:i=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-r),[u,p]=zr(i),[m,g]=zr(s);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*u}${p}, ${(1-e)*m}${g});\n\t\t\topacity: ${l-d*t}`}}function wl(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)}function bl(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function yl(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,r]=bl(e,t,o);if("end"===s&&(i=!0),o<r&&n.push({block:"main",text:e.substring(o,r)}),i)break;const a=e.indexOf(`</${s}>`,r);-1===a?(n.push({block:s,text:e.substring(r+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(r+`<${s}>`.length,a)}),o=a+`</${s}>`.length)}return n}function El(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function $l(e,t){const n=El(e),o=El(t),i=function(e,t,n){const o=n||((e,t)=>e===t),i=(()=>{let n=0;for(;o(e[n],t[n])&&n<e.length;)++n;return n})();if(i===e.length&&e.length===t.length)return[i];const s=(()=>{let n=e.length-1,s=t.length-1;for(;o(e[n],t[s])&&n>i&&s>i;)--n,--s;return e.length-n-1})(),r=e.length-i-s+1,a=t.length-i-s+1,l=r+a,c=new Map,d=new Map;c.set(1,0),d.set(1,null);for(let n=0;n<=l;++n)for(let l=-n;l<=n;l+=2){let u,p,m;for(l==-n||l!=n&&c.get(l-1)<c.get(l+1)?(u=c.get(l+1),m=[d.get(l+1),void 0,void 0]):(u=c.get(l-1)+1,m=[d.get(l-1),void 0,void 0]),p=u-l;u<r&&p<a&&o(e[u+i],t[p+i]);)++u,++p;if(u>=r&&p>=a){m[1]=r+s-1,m[2]=a+s-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let o=[],l=null;for(;n.length;){const i=n.pop(),s=i[0],r=i[1],a=s-e,c=r-t,d=Math.min(a,c);a>d&&(l?l[0]+=a-d:(l=[a-d,0],o.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],o.push(l))),d>0&&(o.push(d),l=null),e=s,t=r}return o[0]=o[0]-1+i,o}c.set(l,u),m[1]=u,m[2]=p,d.set(l,m)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let r=0,a=0,l=0;for(;r<i.length;){const e=i[r];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),r+=1,r<i.length){const[e,t]=i[r];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),r+=1,a+=e,l+=t}}return[s,n,o,i]}function xl(e,t){let n=0;const o=function(e,t){const n=$l(t,e),o=[];let i=0,s=0,r=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=r,c.originalLength=l.length,c.originalOffset=a,r+=t.length,a+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),r+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,s+=e}})),o}(e,t),i=[];for(let t of o){t.changeOffset>n&&i.push({isHighlighted:!1,text:e.substring(n,t.changeOffset)});const o=t.changeOffset+t.changeLength;i.push({isHighlighted:!0,text:e.substring(t.changeOffset,o)}),n=o}return n<e.length&&i.push({isHighlighted:!1,text:e.substring(n,e.length)}),i}const Tl=e=>{let t="";for(const n of e.childNodes)n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&"none"!==n.style.display&&(t+=Tl(n));return t};function Sl(e){return"IFRAME"===e.nodeName.toUpperCase()?kl(e):e.ownerDocument===document?window:e.ownerDocument}function Cl(e){return e.ownerDocument===document?document:e.ownerDocument}function Ll(e){return"IFRAME"!==e.nodeName.toUpperCase()?e:kl(e).body}function kl(e){return e.contentDocument||e.contentWindow.document}function Ml(e){if("IFRAME"===e.nodeName.toUpperCase())return window;if(e.ownerDocument!==document){const t=e?.ownerDocument?.defaultView?.frameElement?.contentWindow;if(t)return t}return window}function Il(e){return"IFRAME"===e.nodeName.toUpperCase()?kl(e):e.ownerDocument===document?document:e.ownerDocument}function Al(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{const n=Cl(e).createRange();n.selectNodeContents(Ll(e));const o=Sl(e).getSelection();o.removeAllRanges(),o.addRange(n),t(o)}))}))}const Nl=async(e,t)=>{await zt(10);const n=new ClipboardEvent("paste");n.clipboardData.setData("text/html",t.html),n.clipboardData.setData("text/plain",t.text),e.dispatchEvent(n),await zt(10)},Ol=async(e,t)=>{await zt(10);const n=new ClipboardEvent("paste",{dataType:"text/html",data:t.html});e.dispatchEvent(n),await zt(10)},Rl=async(e,t)=>{await zt(10);const n=new ClipboardEvent("paste",{dataType:"text/plain",data:t.text});e.dispatchEvent(n),await zt(10)},Dl=async(e,t)=>{await zt(10),document.execCommand("insertText",!1,t.text),await zt(10)},Pl=async(e,t)=>{await zt(10),document.execCommand("insertHTML",!1,t.html),await zt(10)},Hl=async(e,t)=>{const n=Ml(e);await zt(10);const o=new DataTransfer;o.setData("text/html",t.html),o.setData("text/plain",t.text),e.dispatchEvent(new n.ClipboardEvent("paste",{clipboardData:o,bubbles:!0,cancelable:!0})),o.clearData(),await zt(10)},Ul=async(e,t)=>{const n=Il(e),o=Ml(e),i=n.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,o,t.text),e.dispatchEvent(i),await zt(10)},Gl=async(e,t)=>{const n=Il(e);e.value&&e.select(),n.execCommand("insertHTML",!1,t.html),await zt(20),(e.value||""===e.value)&&(e.value=t.text)},zl=async(e,n,o)=>{const i=Xe();o||e.focus();const s=Ll(e).innerText,r=Ll(e).value,a=[...i?[{method:Nl,isSuccessful:()=>ql(s,e.innerText,n.text)},{method:Ol,isSuccessful:()=>ql(s,e.innerText,n.text)},{method:Rl,isSuccessful:()=>ql(s,e.innerText,n.text)},{method:Dl,isSuccessful:()=>ql(s,e.innerText,n.text)},{method:Pl,isSuccessful:()=>ql(s,e.innerText,n.text)||ql(r,e.value,n.text)}]:[],{method:Hl,isSuccessful:()=>ql(s,Ll(e).innerText,n.text)},{method:Ul,isSuccessful:()=>ql(s,Ll(e).innerText,n.text)},{method:Gl,isSuccessful:()=>ql(s,Ll(e).innerText,n.text)||ql(r,Ll(e).value,n.text)}];for(const t of a)if(i&&jt()&&console.log(`trying paste event: ${t.method.name}`),await t.method(e,n),t.isSuccessful())return void(i&&jt()&&console.log("attempt was successful: ",t.method.name));throw await zt(1e3),t({action:"dlTranslatedInputTextNotSet",payload:window.location.hostname}),new Error({error:mr})},ql=(e,t,n)=>{let o=!0;return(e&&!t||!wl(e,n)&&e===t||!wl(t,n))&&(o=!1),o},Wl=(e,t)=>{const n=new(Ml(t).KeyboardEvent)(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},jl=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)},Bl=e=>{const t=Ml(e),n=Cl(e);if(Wl("keydown",e)){const o=new t.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(o)&&n.execCommand("delete",!1)}Wl("keyup",e)};function Fl(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const i=t?o.composedPath()[0]:o.target;!e||e.contains(i)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(i,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function Vl(e){document.addEventListener("deepl-reset-event",e)}function Yl(e){let t,n;const o=e[12].default,i=Nr(o,e,e[11],null);return{c(){t=ea("div"),i&&i.c()},m(e,o){Xr(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||2048&t)&&Dr(i,o,e,e[11],n?Rr(o,e[11],t,null):Pr(e[11]),null)},i(e){n||(Ka(i,e),n=!0)},o(e){Xa(i,e),n=!1},d(e){e&&Jr(t),i&&i.d(e)}}}function Zl(e){let t,n,o;const i=e[12].default,s=Nr(i,e,e[11],null);return{c(){t=ea("div"),s&&s.c(),la(t,"data-tooltip",e[0]),la(t,"style",n=`z-index: ${e[2]}; ${e[6]}`),la(t,"class","svelte-1a71ske"),ma(t,"multiline",e[1]),ma(t,"isFlexItem",e[4]),ma(t,"isRTL",e[7]),ma(t,"showProShield",e[5])},m(e,n){Xr(e,t,n),s&&s.m(t,null),o=!0},p(e,r){s&&s.p&&(!o||2048&r)&&Dr(s,i,e,e[11],o?Rr(i,e[11],r,null):Pr(e[11]),null),(!o||1&r)&&la(t,"data-tooltip",e[0]),(!o||68&r&&n!==(n=`z-index: ${e[2]}; ${e[6]}`))&&la(t,"style",n),(!o||2&r)&&ma(t,"multiline",e[1]),(!o||16&r)&&ma(t,"isFlexItem",e[4]),(!o||128&r)&&ma(t,"isRTL",e[7]),(!o||32&r)&&ma(t,"showProShield",e[5])},i(e){o||(Ka(s,e),o=!0)},o(e){Xa(s,e),o=!1},d(e){e&&Jr(t),s&&s.d(e)}}}function Kl(e){let t,n,o,i;const s=[Zl,Yl],r=[];function a(e,t){return e[3]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=ia()},m(e,n){r[t].m(e,n),Xr(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?r[t].p(e,i):(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o))},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){r[t].d(e),e&&Jr(o)}}}function Xl(e,t,n){let o,i,{$$slots:s={},$$scope:r}=t;const{deepl_inline_ui:a}=A;let{tooltip:l=!1}=t,{multiline:c=!1}=t,{zIndex:d=a.z_index}=t,{isEnabled:u=!0}=t,{isFlexItem:p=!1}=t,{width:m=null}=t,{parentIsRTL:g=!1}=t,{ignoreTextDirection:h=!1}=t,{showProShield:f=!1}=t;return e.$$set=e=>{"tooltip"in e&&n(0,l=e.tooltip),"multiline"in e&&n(1,c=e.multiline),"zIndex"in e&&n(2,d=e.zIndex),"isEnabled"in e&&n(3,u=e.isEnabled),"isFlexItem"in e&&n(4,p=e.isFlexItem),"width"in e&&n(8,m=e.width),"parentIsRTL"in e&&n(9,g=e.parentIsRTL),"ignoreTextDirection"in e&&n(10,h=e.ignoreTextDirection),"showProShield"in e&&n(5,f=e.showProShield),"$$scope"in e&&n(11,r=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(7,o=g||!h&&"rtl"===Tt()),256&e.$$.dirty&&n(6,i=m?`width: ${m}px`:"")},[l,c,d,u,p,f,i,o,m,g,h,r,s]}class Jl extends al{constructor(e){super(),rl(this,e,Xl,Kl,Mr,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:8,parentIsRTL:9,ignoreTextDirection:10,showProShield:5})}}const Ql=(e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}};function ec(e,t,n){const o=e.slice();return o[45]=t[n],o[47]=n,o}function tc(e){let t,n,o,i=e[3],s=[];for(let t=0;t<i.length;t+=1)s[t]=ic(ec(e,i,t));return{c(){t=ea("ul");for(let e=0;e<s.length;e+=1)s[e].c();la(t,"id","dropdown_list"),la(t,"class","dropdown__list svelte-trwg3y"),la(t,"role","listbox"),la(t,"aria-labelledby","dropdown_option"),la(t,"tabindex","-1"),la(t,"style",n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`),la(t,"data-qa",e[6]),ma(t,"alternate-dropdown-list","sm"===e[8]),ma(t,"align-right",e[9])},m(n,o){Xr(n,t,o);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);e[36](t)},p(e,o){if(4726795&o[0]){let n;for(i=e[3],n=0;n<i.length;n+=1){const r=ec(e,i,n);s[n]?s[n].p(r,o):(s[n]=ic(r),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}69632&o[0]&&n!==(n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`)&&la(t,"style",n),64&o[0]&&la(t,"data-qa",e[6]),256&o[0]&&ma(t,"alternate-dropdown-list","sm"===e[8]),512&o[0]&&ma(t,"align-right",e[9])},i(e){o||Pa((()=>{o=Qa(t,vl,{y:-5,duration:500}),o.start()}))},o:xr,d(n){n&&Jr(t),Qr(s,n),e[36](null)}}}function nc(e){let t,n=e[45].label+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){8&o[0]&&n!==(n=e[45].label+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function oc(e){let t,n,o=e[45].label+"";return{c(){t=new ha(!1),n=ia(),t.a=n},m(e,i){t.m(o,e,i),Xr(e,n,i)},p(e,n){8&n[0]&&o!==(o=e[45].label+"")&&t.p(o)},d(e){e&&Jr(n),e&&t.d()}}}function ic(e){let t,n,o,i,s,r,a;function l(e,t){return e[13]?oc:nc}let c=l(e),d=c(e);function u(){return e[35](e[45])}return{c(){t=ea("li"),d.c(),n=oa(),la(t,"role","option"),la(t,"data-option-value",o=e[45].value),la(t,"data-option-regionalvariant",i=e[45].regionalVariant),la(t,"aria-selected",s=e[0]===e[45]),la(t,"class","svelte-trwg3y"),ma(t,"selected",e[0]===e[45]),ma(t,"keyboardSelected",e[47]===e[19])},m(o,i){Xr(o,t,i),d.m(t,null),Yr(t,n),r||(a=[sa(t,"click",u),sa(t,"mousedown",aa(ra(e[32])))],r=!0)},p(r,a){c===(c=l(e=r))&&d?d.p(e,a):(d.d(1),d=c(e),d&&(d.c(),d.m(t,n))),8&a[0]&&o!==(o=e[45].value)&&la(t,"data-option-value",o),8&a[0]&&i!==(i=e[45].regionalVariant)&&la(t,"data-option-regionalvariant",i),9&a[0]&&s!==(s=e[0]===e[45])&&la(t,"aria-selected",s),9&a[0]&&ma(t,"selected",e[0]===e[45]),524288&a[0]&&ma(t,"keyboardSelected",e[47]===e[19])},d(e){e&&Jr(t),d.d(),r=!1,Lr(a)}}}function sc(e){let t,n,o,i,s,r,a,l=e[1]&&tc(e);return{c(){t=ea("div"),n=ea("button"),o=na(e[17]),i=oa(),l&&l.c(),la(n,"aria-haspopup","listbox"),la(n,"id","dropdown_button"),la(n,"aria-labelledby","dropdown_option dropdown_button"),la(n,"aria-expanded",e[1]),la(n,"data-qa",e[5]),la(n,"class","svelte-trwg3y"),ma(n,"dropdown-label","original"===e[7]),ma(n,"dropdown-label-alternate","alternate"===e[7]),ma(n,"dropdown-label-zendesk","zendesk"===e[7]),ma(n,"dropdown-label-full-width",e[10]),ma(n,"dropdown-label-borderless",e[11]),ma(n,"dropup","up"===e[12]),ma(n,"extra-padding",e[14]),la(t,"class",s=Hr(`dropdown__wrapper ${e[4]}`)+" svelte-trwg3y"),la(t,"style",e[21]),ma(t,"disabled",e[2])},m(s,c){Xr(s,t,c),Yr(t,n),Yr(n,o),e[34](n),Yr(t,i),l&&l.m(t,null),e[38](t),r||(a=[sa(n,"click",e[23]),sa(n,"mousedown",aa(ra(e[33]))),sa(n,"keydown",e[24]),Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[37])],r=!0)},p(e,i){131072&i[0]&&ca(o,e[17]),2&i[0]&&la(n,"aria-expanded",e[1]),32&i[0]&&la(n,"data-qa",e[5]),128&i[0]&&ma(n,"dropdown-label","original"===e[7]),128&i[0]&&ma(n,"dropdown-label-alternate","alternate"===e[7]),128&i[0]&&ma(n,"dropdown-label-zendesk","zendesk"===e[7]),1024&i[0]&&ma(n,"dropdown-label-full-width",e[10]),2048&i[0]&&ma(n,"dropdown-label-borderless",e[11]),4096&i[0]&&ma(n,"dropup","up"===e[12]),16384&i[0]&&ma(n,"extra-padding",e[14]),e[1]?l?(l.p(e,i),2&i[0]&&Ka(l,1)):(l=tc(e),l.c(),Ka(l,1),l.m(t,null)):l&&(l.d(1),l=null),16&i[0]&&s!==(s=Hr(`dropdown__wrapper ${e[4]}`)+" svelte-trwg3y")&&la(t,"class",s),2097152&i[0]&&la(t,"style",e[21]),20&i[0]&&ma(t,"disabled",e[2])},i(e){Ka(l)},o:xr,d(n){n&&Jr(t),e[34](null),l&&l.d(),e[38](null),r=!1,Lr(a)}}}function rc(e,t,n){let{isOpen:o=!1}=t,{disabled:i=!1}=t,{items:s=[]}=t,{placeholder:r=""}=t,{customClass:a=""}=t,{selectedOption:l}=t,{defaultOption:c}=t,{dataQaButton:d="dl-dropdown-button"}=t,{dataQaList:u="dl-dropdown-list"}=t,{variant:p="original"}=t,{fontSize:m="default"}=t,{alignRight:g=!0}=t,{extraText:h=""}=t,{isFullWidth:f=!1}=t,{isBorderless:_=!1}=t,{direction:v="down"}=t,{allowLabelHtml:w=!1}=t,{showSortCode:b=!1}=t,{extraPadding:y=!1}=t,{dropdownMaxHeight:E=300}=t;const $=La("deepl_settings");let x,T,S,C,L,k=0,M={},I={},A={},N=-1,O="visibility: hidden; opacity:0; height:0;";const R=Sa();function D(){M.spaceAbove=Math.abs(x.getBoundingClientRect().top),M.spaceBelow=Math.abs(window.innerHeight-x.getBoundingClientRect().bottom)}c&&(l=c),xa((()=>{setTimeout((()=>{n(21,O="")}),100),C=Ql(S,(({clientWidth:e})=>{n(30,k=e)}))})),Ta((()=>{C&&C()}));return e.$$set=e=>{"isOpen"in e&&n(1,o=e.isOpen),"disabled"in e&&n(2,i=e.disabled),"items"in e&&n(3,s=e.items),"placeholder"in e&&n(25,r=e.placeholder),"customClass"in e&&n(4,a=e.customClass),"selectedOption"in e&&n(0,l=e.selectedOption),"defaultOption"in e&&n(26,c=e.defaultOption),"dataQaButton"in e&&n(5,d=e.dataQaButton),"dataQaList"in e&&n(6,u=e.dataQaList),"variant"in e&&n(7,p=e.variant),"fontSize"in e&&n(8,m=e.fontSize),"alignRight"in e&&n(9,g=e.alignRight),"extraText"in e&&n(27,h=e.extraText),"isFullWidth"in e&&n(10,f=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,v=e.direction),"allowLabelHtml"in e&&n(13,w=e.allowLabelHtml),"showSortCode"in e&&n(28,b=e.showSortCode),"extraPadding"in e&&n(14,y=e.extraPadding),"dropdownMaxHeight"in e&&n(29,E=e.dropdownMaxHeight)},e.$$.update=()=>{1073741825&e.$$.dirty[0]|1&e.$$.dirty[1]&&(l&&(A?.value===l?.value&&A?.regionalVariant===l?.regionalVariant||(n(31,A=l),R("valueselected",{selectedOption:l}))),k&&D()),436207617&e.$$.dirty[0]&&n(17,T=l?`${b?l.value:l.selectedOptionLabel}${h?` ${h}`:""}`:`${r}${h?` ${h}`:""}`)},[l,o,i,s,a,d,u,p,m,g,f,_,v,w,y,x,I,T,S,N,L,O,$,function(){"down"===v&&function(){if(D(),n(16,I.top="auto",I),n(16,I.height=`${E}px`,I),M.spaceBelow>M.spaceAbove)M.spaceBelow<=E&&n(16,I.height=Math.ceil(.8*M.spaceBelow)+"px",I);else{let e=E;M.spaceAbove<=E&&(e=Math.ceil(.8*M.spaceAbove)),n(16,I.height=`${e}px`,I),n(16,I.top="-"+(e+2)+"px",I)}}(),n(1,o=!o),function(){let e=x.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!o)return;if("ArrowUp"===e.key&&N>0)n(19,N-=1);else if("ArrowDown"===e.key&&N<s.length-1)n(19,N+=1);else if("Enter"===e.key&&-1!==N){const t=s[N];n(1,o=!1),n(0,l=t),n(19,N=-1),$.set({regionalVariant:t.regionalVariant||""}),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(1,o=!1),n(19,N=-1)}const t=s[N];var i=L.querySelector(`[data-option-value="${t.value}"]`).offsetTop-L.offsetTop;L.scrollTo({top:i,behavior:"smooth"})},r,c,h,b,E,k,A,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(e){Ia[e?"unshift":"push"]((()=>{x=e,n(15,x)}))},e=>{n(1,o=!1),n(0,l=e),n(19,N=-1),$.set({regionalVariant:e.regionalVariant||""})},function(e){Ia[e?"unshift":"push"]((()=>{L=e,n(20,L)}))},()=>{n(1,o=!1)},function(e){Ia[e?"unshift":"push"]((()=>{S=e,n(18,S)}))}]}class ac extends al{constructor(e){super(),rl(this,e,rc,sc,Mr,{isOpen:1,disabled:2,items:3,placeholder:25,customClass:4,selectedOption:0,defaultOption:26,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:27,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:28,extraPadding:14,dropdownMaxHeight:29},null,[-1,-1])}}function lc(e){let t,n,o,i,s;return n=new ac({props:{items:e[1],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:"zendesk",isFullWidth:e[0],direction:"up"}}),n.$on("valueselected",e[3]),{c(){t=ea("div"),ol(n.$$.fragment)},m(r,a){Xr(r,t,a),il(n,t,null),o=!0,i||(s=sa(t,"mousedown",aa(ra(e[5]))),i=!0)},p(e,[t]){const o={};2&t&&(o.items=e[1]),4&t&&(o.selectedOption=e[2]),1&t&&(o.isFullWidth=e[0]),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n),i=!1,s()}}}function cc(e,t,n){let o,i;const s=Sa();let{value:r}=t,{isFullWidth:a=!1}=t;return e.$$set=e=>{"value"in e&&n(4,r=e.value),"isFullWidth"in e&&n(0,a=e.isFullWidth)},e.$$.update=()=>{18&e.$$.dirty&&n(2,i=r?o.find((e=>e.value===r)):o.find((e=>"auto"===e.value)))},n(1,o=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}]),[a,o,i,function(e){e.detail.selectedOption.value!==r&&s("selection",e.detail)},r,function(t){ka.call(this,e,t)}]}class dc extends al{constructor(e){super(),rl(this,e,cc,lc,Mr,{value:4,isFullWidth:0})}}const uc="ACCESS_DENIED",pc="INVALID_REQUEST",mc="INVALID_GRANT",gc="INVALID_NONCE",hc="PROTOCOL_ERROR",fc="NETWORK_ERROR",_c="FULL_PAGE_SERVER_ERROR",vc="-32003",wc="429",bc="403",yc="1045601",Ec="1042902";function $c(){return!!chrome&&!!chrome.tabs}const xc=cl(!1);function Tc(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',la(t,"class","dl-close-icon svelte-nsrzuc")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Jr(t),n=!1,o()}}}function Sc(e){let t,n,o,i,s,r;const a=e[2].default,l=Nr(a,e,e[1],null);let c=e[0]&&Tc(e);return{c(){t=ea("div"),n=ea("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=oa(),i=ea("div"),l&&l.c(),s=oa(),c&&c.c(),la(n,"class","icon-container svelte-nsrzuc"),la(i,"class","message svelte-nsrzuc"),la(t,"class","error-msg svelte-nsrzuc")},m(e,a){Xr(e,t,a),Yr(t,n),Yr(t,o),Yr(t,i),l&&l.m(i,null),Yr(t,s),c&&c.m(t,null),r=!0},p(e,[n]){l&&l.p&&(!r||2&n)&&Dr(l,a,e,e[1],r?Rr(a,e[1],n,null):Pr(e[1]),null),e[0]?c?c.p(e,n):(c=Tc(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){r||(Ka(l,e),r=!0)},o(e){Xa(l,e),r=!1},d(e){e&&Jr(t),l&&l.d(e),c&&c.d()}}}function Cc(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Lc extends al{constructor(e){super(),rl(this,e,Cc,Sc,Mr,{close:0})}}function kc(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',la(t,"class","dl-close-icon svelte-kyufep")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Jr(t),n=!1,o()}}}function Mc(e){let t,n,o,i,s,r;const a=e[2].default,l=Nr(a,e,e[1],null);let c=e[0]&&kc(e);return{c(){t=ea("div"),n=ea("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=oa(),i=ea("div"),l&&l.c(),s=oa(),c&&c.c(),la(n,"class","icon-container svelte-kyufep"),la(i,"class","message svelte-kyufep"),la(t,"class","warn-msg svelte-kyufep")},m(e,a){Xr(e,t,a),Yr(t,n),Yr(t,o),Yr(t,i),l&&l.m(i,null),Yr(t,s),c&&c.m(t,null),r=!0},p(e,[n]){l&&l.p&&(!r||2&n)&&Dr(l,a,e,e[1],r?Rr(a,e[1],n,null):Pr(e[1]),null),e[0]?c?c.p(e,n):(c=kc(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){r||(Ka(l,e),r=!0)},o(e){Xa(l,e),r=!1},d(e){e&&Jr(t),l&&l.d(e),c&&c.d()}}}function Ic(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Ac extends al{constructor(e){super(),rl(this,e,Ic,Mc,Mr,{close:0})}}function Nc(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,la(t,"data-qa","error-message-generic")},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class Oc extends al{constructor(e){super(),rl(this,e,null,Nc,Mr,{})}}function Rc(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class Dc extends al{constructor(e){super(),rl(this,e,null,Rc,Mr,{})}}function Pc(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class Hc extends al{constructor(e){super(),rl(this,e,null,Pc,Mr,{})}}const Uc="DOCS_GOOGLE_COM_FEEDBACK_FORM",Gc="NEW_FEEDBACK_FORM",zc="DEEPL_COM_PRO",qc="DEEPL_COM_PRO_WRITE",Wc="DEEPL_COM_TRANSLATOR",jc="DEEPL_COM_HOMEPAGE",Bc="DEEPL_COM_WRITE",Fc="SHORTCUT_SETTINGS",Vc="CHROME_WRITE_A_REVIEW",Yc="EDGE_WRITE_A_REVIEW",Zc="GMAIL_FEEDBACK_SURVEY",Kc="GSLIDES_FEEDBACK_SURVEY",Xc="FIREFOX_WRITE_A_REVIEW",Jc="DEEPL_SUPPORT",Qc="FIREFOX_FEEDBACK_SURVEY",ed="CUSTOMER_SEGMENTATION_SURVEY_FREE",td="CUSTOMER_SEGMENTATION_SURVEY_PRO",nd="ARABIC_SURVEY";function od(e){let t,n,o,i,s,r;return{c(){t=ea("div"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=oa(),i=ea("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,la(i,"class","link svelte-1mpkjv7"),la(t,"class","container svelte-1mpkjv7")},m(a,l){Xr(a,t,l),Yr(t,n),Yr(t,o),Yr(t,i),s||(r=sa(i,"click",e[0]),s=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),s=!1,r()}}}function id(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"warning_user_unauthorised"}})}]}class sd extends al{constructor(e){super(),rl(this,e,id,od,Mr,{})}}function rd(e){let t,n,o,i,s,r;return{c(){t=ea("div"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=oa(),i=ea("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,la(i,"class","link svelte-1mpkjv7"),la(t,"class","container svelte-1mpkjv7")},m(a,l){Xr(a,t,l),Yr(t,n),Yr(t,o),Yr(t,i),s||(r=sa(i,"click",e[0]),s=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),s=!1,r()}}}function ad(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"warning_user_blocked"}})}]}class ld extends al{constructor(e){super(),rl(this,e,ad,rd,Mr,{})}}function cd(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class dd extends al{constructor(e){super(),rl(this,e,null,cd,Mr,{})}}function ud(e,t,n){const o=e.slice();return o[1]=t[n],o}function pd(e){let t,n=e[1].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function md(e){let t,n,o,i,s,r=e[1].text+"";return{c(){t=ea("span"),n=na(r),o=oa(),la(t,"class","link svelte-1mpkjv7")},m(r,a){Xr(r,t,a),Yr(t,n),Yr(t,o),i||(s=sa(t,"click",e[0]),i=!0)},p:xr,d(e){e&&Jr(t),i=!1,s()}}}function gd(e){let t;let n=function(e,t){return"deeplSupportLink"===e[1].block?md:pd}(e),o=n(e);return{c(){o.c(),t=ia()},m(e,n){o.m(e,n),Xr(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&Jr(t)}}}function hd(e){let t,n=yl(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=gd(ud(e,n,t));return{c(){t=ea("div");for(let e=0;e<o.length;e+=1)o[e].c();la(t,"class","container svelte-1mpkjv7")},m(e,n){Xr(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,[i]){if(1&i){let s;for(n=yl(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"]),s=0;s<n.length;s+=1){const r=ud(e,n,s);o[s]?o[s].p(r,i):(o[s]=gd(r),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},i:xr,o:xr,d(e){e&&Jr(t),Qr(o,e)}}}function fd(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:Jc}})}]}class _d extends al{constructor(e){super(),rl(this,e,fd,hd,Mr,{})}}function vd(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class wd extends al{constructor(e){super(),rl(this,e,null,vd,Mr,{})}}function bd(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class yd extends al{constructor(e){super(),rl(this,e,null,bd,Mr,{})}}function Ed(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class $d extends al{constructor(e){super(),rl(this,e,null,Ed,Mr,{})}}function xd(e,t,n){const o=e.slice();return o[5]=t[n],o}function Td(e){let t,n=e[5].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){4&o&&n!==(n=e[5].text+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function Sd(e){let t,n,o=e[5].text+"";return{c(){t=ea("strong"),n=na(o)},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){4&t&&o!==(o=e[5].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function Cd(e){let t;function n(e,t){return"strong"===e[5].block?Sd:Td}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function Ld(e){let t,n,o,i;return{c(){t=ta("svg"),n=ta("path"),la(n,"d","M4 12L12 4M4 4L12 12"),la(n,"stroke","white"),la(n,"stroke-width","1.5"),la(n,"stroke-linecap","round"),la(n,"stroke-linejoin","round"),la(t,"width","16"),la(t,"height","16"),la(t,"viewBox","0 0 16 16"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg"),la(t,"class","svelte-1mvy8b2")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Jr(t),o=!1,i()}}}function kd(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g=yl(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"]),h=[];for(let t=0;t<g.length;t+=1)h[t]=Cd(xd(e,g,t));let f=e[1]&&Ld(e);return{c(){t=ea("div"),n=ea("div"),o=ea("h1"),o.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,i=oa(),s=ea("p");for(let e=0;e<h.length;e+=1)h[e].c();r=oa(),a=ea("div"),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,c=oa(),d=ea("button"),d.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,u=oa(),f&&f.c(),la(o,"class","svelte-1mvy8b2"),la(s,"class","description svelte-1mvy8b2"),la(n,"class","messages svelte-1mvy8b2"),ma(n,"small",e[0].small),la(l,"class","log-in svelte-1mvy8b2"),la(d,"class","sign-up svelte-1mvy8b2"),la(a,"class","actions svelte-1mvy8b2"),ma(a,"small",e[0].small),la(t,"class","container svelte-1mvy8b2"),la(t,"data-testid","error-message-anonymous-limit-exceeded"),ma(t,"small",e[0].small)},m(g,_){Xr(g,t,_),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(s,null);Yr(t,r),Yr(t,a),Yr(a,l),Yr(a,c),Yr(a,d),Yr(t,u),f&&f.m(t,null),p||(m=[sa(l,"click",e[3]),sa(d,"click",e[4])],p=!0)},p(e,[o]){if(4&o){let t;for(g=yl(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"]),t=0;t<g.length;t+=1){const n=xd(e,g,t);h[t]?h[t].p(n,o):(h[t]=Cd(n),h[t].c(),h[t].m(s,null))}for(;t<h.length;t+=1)h[t].d(1);h.length=g.length}1&o&&ma(n,"small",e[0].small),1&o&&ma(a,"small",e[0].small),e[1]?f?f.p(e,o):(f=Ld(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),1&o&&ma(t,"small",e[0].small)},i:xr,o:xr,d(e){e&&Jr(t),Qr(h,e),f&&f.d(),p=!1,Lr(m)}}}function Md(e,n,o){let{config:i}=n,{close:s}=n,r="";return xa((()=>{t({action:"dlGetUsersCharacterLimit"}).then((e=>o(2,r=e.toString()))),t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:Ie}})})),Ta((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:Ie}})})),e.$$set=e=>{"config"in e&&o(0,i=e.config),"close"in e&&o(1,s=e.close)},[i,s,r,function(){t({action:"dlRequestLogin"}).then((()=>{})).catch((e=>{console.log(e)})),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Ie,cta:De}})},function(){t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"notification_anonymous_user_limit_exceeded"}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Ie,cta:Pe}})}]}class Id extends al{constructor(e){super(),rl(this,e,Md,kd,Mr,{config:0,close:1})}}function Ad(e,t,n){const o=e.slice();return o[4]=t[n],o}function Nd(e){let t,n=e[4].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){4&o&&n!==(n=e[4].text+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function Od(e){let t,n,o=e[4].text+"";return{c(){t=ea("strong"),n=na(o)},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){4&t&&o!==(o=e[4].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function Rd(e){let t;function n(e,t){return"strong"===e[4].block?Od:Nd}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function Dd(e){let t,n,o,i;return{c(){t=ta("svg"),n=ta("path"),la(n,"d","M4 12L12 4M4 4L12 12"),la(n,"stroke","white"),la(n,"stroke-width","1.5"),la(n,"stroke-linecap","round"),la(n,"stroke-linejoin","round"),la(t,"width","16"),la(t,"height","16"),la(t,"viewBox","0 0 16 16"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg"),la(t,"class","svelte-1i5r4eu")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Jr(t),o=!1,i()}}}function Pd(e){let t,n,o,i,s,r,a,l,c,d,u,p=yl(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"]),m=[];for(let t=0;t<p.length;t+=1)m[t]=Rd(Ad(e,p,t));let g=e[1]&&Dd(e);return{c(){t=ea("div"),n=ea("div"),o=ea("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=oa(),s=ea("p");for(let e=0;e<m.length;e+=1)m[e].c();r=oa(),a=ea("div"),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,c=oa(),g&&g.c(),la(o,"class","svelte-1i5r4eu"),la(s,"class","description svelte-1i5r4eu"),la(n,"class","messages svelte-1i5r4eu"),ma(n,"small",e[0].small),la(l,"class","sign-up svelte-1i5r4eu"),la(a,"class","actions svelte-1i5r4eu"),ma(a,"small",e[0].small),la(t,"class","container svelte-1i5r4eu"),la(t,"data-testid","error-message-limit-exceeded-free-account"),ma(t,"small",e[0].small)},m(p,h){Xr(p,t,h),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(s,null);Yr(t,r),Yr(t,a),Yr(a,l),Yr(t,c),g&&g.m(t,null),d||(u=sa(l,"click",e[3]),d=!0)},p(e,[o]){if(4&o){let t;for(p=yl(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"]),t=0;t<p.length;t+=1){const n=Ad(e,p,t);m[t]?m[t].p(n,o):(m[t]=Rd(n),m[t].c(),m[t].m(s,null))}for(;t<m.length;t+=1)m[t].d(1);m.length=p.length}1&o&&ma(n,"small",e[0].small),1&o&&ma(a,"small",e[0].small),e[1]?g?g.p(e,o):(g=Dd(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),1&o&&ma(t,"small",e[0].small)},i:xr,o:xr,d(e){e&&Jr(t),Qr(m,e),g&&g.d(),d=!1,u()}}}function Hd(e,n,o){let{config:i}=n,{close:s}=n,r="";return xa((()=>{t({action:"dlGetUsersCharacterLimit"}).then((e=>o(2,r=e.toString()))),t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:Ae}})})),Ta((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:Ae}})})),e.$$set=e=>{"config"in e&&o(0,i=e.config),"close"in e&&o(1,s=e.close)},[i,s,r,function(){t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"notification_free_account_limit_exceeded"}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Ae,cta:Re}})}]}class Ud extends al{constructor(e){super(),rl(this,e,Hd,Pd,Mr,{config:0,close:1})}}function Gd(e){let t,n,o,i;return{c(){t=ta("svg"),n=ta("path"),la(n,"d","M4 12L12 4M4 4L12 12"),la(n,"stroke","white"),la(n,"stroke-width","1.5"),la(n,"stroke-linecap","round"),la(n,"stroke-linejoin","round"),la(t,"width","16"),la(t,"height","16"),la(t,"viewBox","0 0 16 16"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg"),la(t,"class","svelte-1uko7yn")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Jr(t),o=!1,i()}}}function zd(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",m=e[1]&&Gd(e);return{c(){t=ea("div"),n=ea("div"),o=ea("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=oa(),s=ea("p"),r=oa(),a=ea("div"),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,c=oa(),m&&m.c(),la(o,"class","svelte-1uko7yn"),la(s,"class","description svelte-1uko7yn"),la(n,"class","messages small svelte-1uko7yn"),ma(n,"small",e[0].small),la(l,"class","sign-up svelte-1uko7yn"),la(a,"class","actions svelte-1uko7yn"),ma(a,"small",e[0].small),la(t,"class","container svelte-1uko7yn"),la(t,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),ma(t,"small",e[0].small)},m(g,h){Xr(g,t,h),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),s.innerHTML=p,Yr(t,r),Yr(t,a),Yr(a,l),Yr(t,c),m&&m.m(t,null),d||(u=sa(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&ma(n,"small",e[0].small),1&o&&ma(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=Gd(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&ma(t,"small",e[0].small)},i:xr,o:xr,d(e){e&&Jr(t),m&&m.d(),d=!1,u()}}}function qd(e,n,o){let{config:i}=n,{close:s}=n;return xa((()=>{t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:Ae}})})),Ta((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:Ae}})})),e.$$set=e=>{"config"in e&&o(0,i=e.config),"close"in e&&o(1,s=e.close)},[i,s,function(){t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Ae,cta:Re}})}]}class Wd extends al{constructor(e){super(),rl(this,e,qd,zd,Mr,{config:0,close:1})}}function jd(e){let t,n,o;return{c(){t=ea("button"),t.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,la(t,"class","log-in svelte-1tmoo4x")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[4]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function Bd(e){let t,n,o,i;return{c(){t=ta("svg"),n=ta("path"),la(n,"d","M4 12L12 4M4 4L12 12"),la(n,"stroke","white"),la(n,"stroke-width","1.5"),la(n,"stroke-linecap","round"),la(n,"stroke-linejoin","round"),la(t,"width","16"),la(t,"height","16"),la(t,"viewBox","0 0 16 16"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg"),la(t,"class","svelte-1tmoo4x")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Jr(t),o=!1,i()}}}function Fd(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!e[2]&&jd(e),h=e[1]&&Bd(e);return{c(){t=ea("div"),n=ea("div"),o=ea("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=oa(),s=ea("p"),r=oa(),a=ea("div"),g&&g.c(),l=oa(),c=ea("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=oa(),h&&h.c(),la(o,"class","svelte-1tmoo4x"),la(s,"class","description svelte-1tmoo4x"),la(n,"class","messages svelte-1tmoo4x"),ma(n,"small",e[0].small),la(c,"class","sign-up svelte-1tmoo4x"),la(a,"class","actions svelte-1tmoo4x"),ma(a,"small",e[0].small),la(t,"class","container svelte-1tmoo4x"),la(t,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),ma(t,"small",e[0].small)},m(f,_){Xr(f,t,_),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),s.innerHTML=m,Yr(t,r),Yr(t,a),g&&g.m(a,null),Yr(a,l),Yr(a,c),Yr(t,d),h&&h.m(t,null),u||(p=sa(c,"click",e[3]),u=!0)},p(e,[o]){1&o&&ma(n,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,o):(g=jd(e),g.c(),g.m(a,l)),1&o&&ma(a,"small",e[0].small),e[1]?h?h.p(e,o):(h=Bd(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&ma(t,"small",e[0].small)},i:xr,o:xr,d(e){e&&Jr(t),g&&g.d(),h&&h.d(),u=!1,p()}}}function Vd(e,n,o){let i,s;Ar(e,dl,(e=>o(5,s=e)));let{config:r}=n,{close:a}=n;return xa((()=>{t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:i?Oe:Ne}})})),Ta((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:i?Oe:Ne}})})),e.$$set=e=>{"config"in e&&o(0,r=e.config),"close"in e&&o(1,a=e.close)},e.$$.update=()=>{32&e.$$.dirty&&o(2,i=Be(s))},[r,a,i,function(){let e="notification_free_account_limit_exceeded_write";if(r&&r.nicheIntegration)switch(r.nicheIntegration){case Q.gmail:e="gmail_customization_write";break;case Q.gslides:e="gslides_customization_write"}t({action:"dlExternalURLRedirect",payload:{destination:qc,utmContent:e}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:i?Oe:Ne,cta:Re}})},function(){t({action:"dlRequestLogin"}).then((()=>{})).catch((e=>{console.log(e)})),t({action:"dlTrackUpgradeNotificationAction",payload:{type:i?Oe:Ne,cta:De}})},s]}class Yd extends al{constructor(e){super(),rl(this,e,Vd,Fd,Mr,{config:0,close:1})}}function Zd(e){let t,n,o,i;return{c(){t=ta("svg"),n=ta("path"),la(n,"d","M4 12L12 4M4 4L12 12"),la(n,"stroke","white"),la(n,"stroke-width","1.5"),la(n,"stroke-linecap","round"),la(n,"stroke-linejoin","round"),la(t,"width","16"),la(t,"height","16"),la(t,"viewBox","0 0 16 16"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg"),la(t,"class","svelte-1i5r4eu")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Jr(t),o=!1,i()}}}function Kd(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",m=e[1]&&Zd(e);return{c(){t=ea("div"),n=ea("div"),o=ea("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=oa(),s=ea("p"),r=oa(),a=ea("div"),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,c=oa(),m&&m.c(),la(o,"class","svelte-1i5r4eu"),la(s,"class","description svelte-1i5r4eu"),la(n,"class","messages svelte-1i5r4eu"),ma(n,"small",e[0].small),la(l,"class","sign-up svelte-1i5r4eu"),la(a,"class","actions svelte-1i5r4eu"),ma(a,"small",e[0].small),la(t,"class","container svelte-1i5r4eu"),la(t,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),ma(t,"small",e[0].small)},m(g,h){Xr(g,t,h),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),s.innerHTML=p,Yr(t,r),Yr(t,a),Yr(a,l),Yr(t,c),m&&m.m(t,null),d||(u=sa(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&ma(n,"small",e[0].small),1&o&&ma(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=Zd(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&ma(t,"small",e[0].small)},i:xr,o:xr,d(e){e&&Jr(t),m&&m.d(),d=!1,u()}}}function Xd(e,n,o){let i,s;Ar(e,dl,(e=>o(3,s=e)));let{config:r}=n,{close:a}=n;return xa((()=>{t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:i?Oe:Ne}})})),Ta((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:i?Oe:Ne}})})),e.$$set=e=>{"config"in e&&o(0,r=e.config),"close"in e&&o(1,a=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(i=Be(s))},[r,a,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(r&&r.nicheIntegration)switch(r.nicheIntegration){case Q.gmail:e="gmail_customization_write";break;case Q.gslides:e="gslides_customization_write"}t({action:"dlExternalURLRedirect",payload:{destination:qc,utmContent:e}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:i?Oe:Ne,cta:Re}})},s]}class Jd extends al{constructor(e){super(),rl(this,e,Xd,Kd,Mr,{config:0,close:1})}}function Qd(e){let t,n,o;var i=e[2];function s(e){return{props:{config:e[1],close:e[0]}}}return i&&(t=fa(i,s(e))),{c(){t&&ol(t.$$.fragment),n=ia()},m(e,i){t&&il(t,e,i),Xr(e,n,i),o=!0},p(e,o){const r={};if(2&o&&(r.config=e[1]),1&o&&(r.close=e[0]),4&o&&i!==(i=e[2])){if(t){Ya();const e=t;Xa(e.$$.fragment,1,0,(()=>{sl(e,1)})),Za()}i?(t=fa(i,s(e)),ol(t.$$.fragment),Ka(t.$$.fragment,1),il(t,n.parentNode,n)):t=null}else i&&t.$set(r)},i(e){o||(t&&Ka(t.$$.fragment,e),o=!0)},o(e){t&&Xa(t.$$.fragment,e),o=!1},d(e){e&&Jr(n),t&&sl(t,e)}}}function eu(e){let t,n;return t=new Ac({props:{close:e[0],config:e[1],$$slots:{default:[nu]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function tu(e){let t,n;return t=new Lc({props:{close:e[0],config:e[1],$$slots:{default:[ou]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function nu(e){let t,n,o;var i=e[2];function s(e){return{props:{config:e[1]}}}return i&&(t=fa(i,s(e))),{c(){t&&ol(t.$$.fragment),n=ia()},m(e,i){t&&il(t,e,i),Xr(e,n,i),o=!0},p(e,o){const r={};if(2&o&&(r.config=e[1]),4&o&&i!==(i=e[2])){if(t){Ya();const e=t;Xa(e.$$.fragment,1,0,(()=>{sl(e,1)})),Za()}i?(t=fa(i,s(e)),ol(t.$$.fragment),Ka(t.$$.fragment,1),il(t,n.parentNode,n)):t=null}else i&&t.$set(r)},i(e){o||(t&&Ka(t.$$.fragment,e),o=!0)},o(e){t&&Xa(t.$$.fragment,e),o=!1},d(e){e&&Jr(n),t&&sl(t,e)}}}function ou(e){let t,n,o;var i=e[2];function s(e){return{props:{config:e[1]}}}return i&&(t=fa(i,s(e))),{c(){t&&ol(t.$$.fragment),n=ia()},m(e,i){t&&il(t,e,i),Xr(e,n,i),o=!0},p(e,o){const r={};if(2&o&&(r.config=e[1]),4&o&&i!==(i=e[2])){if(t){Ya();const e=t;Xa(e.$$.fragment,1,0,(()=>{sl(e,1)})),Za()}i?(t=fa(i,s(e)),ol(t.$$.fragment),Ka(t.$$.fragment,1),il(t,n.parentNode,n)):t=null}else i&&t.$set(r)},i(e){o||(t&&Ka(t.$$.fragment,e),o=!0)},o(e){t&&Xa(t.$$.fragment,e),o=!1},d(e){e&&Jr(n),t&&sl(t,e)}}}function iu(e){let t,n,o,i;const s=[tu,eu,Qd],r=[];function a(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=ia()},m(e,n){~t&&r[t].m(e,n),Xr(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){~t&&r[t].d(e),e&&Jr(o)}}}function su(e,t,n){let i,s,{error:r}=t,{close:a}=t,{config:l={}}=t;const c={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},d={[or]:Oc,[ir]:Dc,[sr]:Hc,[lr]:dd,[uc]:yd,[mc]:yd,[pc]:yd,[gc]:yd,[ar]:ld,[dr]:ld,[gr]:$d,[rr]:sd,[cr]:_d,[mr]:wd,[hr]:Ud,[fr]:Id,[_r]:Wd,[vr]:Yd,[wr]:Jd,[hc]:Oc,[fc]:Dc,[_c]:Hc,[bc]:dd,[wc]:ld,[Ec]:ld,[vc]:sd,[yc]:_d};return xa((()=>{$c()?o({action:"dlErrorVisibility",payload:{state:!0}}):xc.set(!0)})),Ta((()=>{$c()?o({action:"dlErrorVisibility",payload:{state:!1}}):xc.set(!1)})),e.$$set=e=>{"error"in e&&n(5,r=e.error),"close"in e&&n(0,a=e.close),"config"in e&&n(1,l=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,i=function(e){switch(e){case or:case ir:case sr:case lr:case hc:case fc:case _c:case bc:case uc:case mc:case pc:case gc:case mr:return c.SERIOUS;case ar:case dr:case wc:case Ec:case gr:case rr:case cr:case vc:case yc:return c.WARNING;case hr:case fr:case vr:case wr:case _r:return c.CUSTOM;default:return c.UNKNOWN}}(r?r.error:"")),32&e.$$.dirty&&n(2,s=r&&d[r.error]||Oc)},[a,l,s,i,c,r]}class ru extends al{constructor(e){super(),rl(this,e,su,iu,Mr,{error:5,close:0,config:1})}}function au(e){let t,n,o,i,s,r,a,l,c;return i=new ru({props:{error:e[3]}}),{c(){t=ea("div"),n=ea("button"),o=oa(),ol(i.$$.fragment),la(n,"class","close-button svelte-6y44uj"),la(t,"class","dl-zendesk-error-message svelte-6y44uj"),la(t,"dir",Tt())},m(s,r){Xr(s,t,r),Yr(t,n),Yr(t,o),il(i,t,null),a=!0,l||(c=[sa(n,"click",e[8]),Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[8])],l=!0)},p(e,t){const n={};8&t[0]&&(n.error=e[3]),i.$set(n)},i(e){a||(Ka(i.$$.fragment,e),Pa((()=>{a&&(r&&r.end(1),s=Qa(t,vl,{y:-5,duration:300}),s.start())})),a=!0)},o(e){Xa(i.$$.fragment,e),s&&s.invalidate(),r=el(t,vl,{y:-5,duration:300}),a=!1},d(e){e&&Jr(t),sl(i),e&&r&&r.end(),l=!1,Lr(c)}}}function lu(e){let t,n;return t=new dc({props:{value:e[6].zendeskFormality}}),t.$on("selection",e[9]),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.value=e[6].zendeskFormality),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function cu(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML='<span class="svelte-6y44uj"></span>',la(t,"class","dl-zendesk-input-icon svelte-6y44uj"),ma(t,"is-active",e[1]),ma(t,"is-loading",e[2]),ma(t,"is-language-mismatching",e[0])},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[7]),n=!0)},p(e,n){2&n[0]&&ma(t,"is-active",e[1]),4&n[0]&&ma(t,"is-loading",e[2]),1&n[0]&&ma(t,"is-language-mismatching",e[0])},d(e){e&&Jr(t),n=!1,o()}}}function du(e){let t,n,o,i,s,r=e[3]&&au(e),a=e[4]&&lu(e);return i=new Jl({props:{tooltip:e[5],zIndex:"0",$$slots:{default:[cu]},$$scope:{ctx:e}}}),{c(){r&&r.c(),t=oa(),n=ea("div"),a&&a.c(),o=oa(),ol(i.$$.fragment),la(n,"class","dl-icons-holder svelte-6y44uj"),la(n,"dir",Tt()),ma(n,"has-formality",e[4])},m(e,l){r&&r.m(e,l),Xr(e,t,l),Xr(e,n,l),a&&a.m(n,null),Yr(n,o),il(i,n,null),s=!0},p(e,l){e[3]?r?(r.p(e,l),8&l[0]&&Ka(r,1)):(r=au(e),r.c(),Ka(r,1),r.m(t.parentNode,t)):r&&(Ya(),Xa(r,1,1,(()=>{r=null})),Za()),e[4]?a?(a.p(e,l),16&l[0]&&Ka(a,1)):(a=lu(e),a.c(),Ka(a,1),a.m(n,o)):a&&(Ya(),Xa(a,1,1,(()=>{a=null})),Za());const c={};32&l[0]&&(c.tooltip=e[5]),7&l[0]|4&l[1]&&(c.$$scope={dirty:l,ctx:e}),i.$set(c),(!s||16&l[0])&&ma(n,"has-formality",e[4])},i(e){s||(Ka(r),Ka(a),Ka(i.$$.fragment,e),s=!0)},o(e){Xa(r),Xa(a),Xa(i.$$.fragment,e),s=!1},d(e){r&&r.d(e),e&&Jr(t),e&&Jr(n),a&&a.d(),sl(i)}}}function uu(e,n,o){let s,r,a;Ar(e,dl,(e=>o(6,a=e))),Ca("text_direction",Tt());let l,c,d,u,{controller:p}=n,{editable:m}=n,g=!1,h=!1,f=!1,_=!1,v="",w="",b=!1;const y=()=>{o(1,g=!0)},E=()=>{o(1,g=!1)};async function $(e,n,o){if("dlTriggerTranslationShortcut"===e.action){if(document.activeElement!==m)return;try{t({action:"dlTrackUseOfShortcut",payload:{shortcutType:D,location:R.inputTranslationTriggerIcon}})}catch(e){console.error(e)}await x(),o()}}const x=async()=>{if(_)return;const e=Xe(),t=()=>{if(e){const e=window.getSelection().toString();navigator.clipboard.writeText(e).then((()=>{T(e)})).catch((e=>{console.error("Unable to copy text to clipboard",e)}))}else{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});h=!0,m.dispatchEvent(e)}},n=window.getSelection();let o;o=e?n&&n.anchorNode&&"#text"==n.anchorNode.nodeName&&"Range"==n.type&&m.contains(n.anchorNode):n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&m.contains(n.baseNode),0!==m.innerText.trim().length&&(o?t():(await Al(m),setTimeout(t,300)))},T=async e=>{h=!1,o(2,_=!0),o(0,b=!1);const t=p.getTicketLanguageInformation()?.language,n=p.getInputWorkingArea();n.innerHTML=e;const[i,r]=await eT({element:n,targetLang:t,...s&&["formal","informal"].includes(a.zendeskFormality)&&{formality:a.zendeskFormality}});r?(console.error({e:r}),o(3,d=r),pT({eventType:de,controller:p,error:r.error||r.message})):i&&L(i,e),o(2,_=!1)},S=async e=>{if(!h)return;h=!1,o(2,_=!0),o(0,b=!1);const t=p.getTicketLanguageInformation()?.language,n=e.clipboardData.getData("text/html"),i=p.getInputWorkingArea();i.innerHTML=n;const[r,l]=await eT({element:i,targetLang:t,...s&&["formal","informal"].includes(a.zendeskFormality)&&{formality:a.zendeskFormality}});l?(console.error({e:l}),o(3,d=l),pT({eventType:de,controller:p,error:l.error||l.message})):r&&L(r,n),o(2,_=!1)},C=()=>{if(!f)return;f=!1;window.getSelection().collapse(null)},L=(e,t)=>{if(Xe())document.execCommand("insertText",!1,e),f=!0;else{const t=new DataTransfer;t.setData("text/html",e);const n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t});f=!0,m.dispatchEvent(n)}pT({eventType:ce,controller:p,sourceTextLength:t.length,targetTextLength:e.length})},k=()=>{const e=m.innerText;e!==w&&(w=e,u&&(clearTimeout(u),u=void 0),u=setTimeout(M,400))},M=async()=>{const e=p.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=m.innerText;if(t.trim()){console.log("There has content: ",`${t.trim()}`);let n=await bt(t),i=e.language;n=Et(n),i=Et(i);let s=!1;n&&i&&n!==i&&(s=!0),b!==s&&o(0,b=s)}else console.log("There is no content"),o(0,b=!1),I()},I=()=>{l&&l.resetTooltip()};return xa((()=>{chrome.runtime.onMessage.addListener($),t({action:"dlCheckCommandShortcuts"}).then((e=>{o(14,v=e?e.filter((e=>e.name==D))[0].shortcut:"")})),m.addEventListener("focus",y),m.addEventListener("blur",E),m.addEventListener("copy",S),m.addEventListener("paste",C),m.addEventListener("keydown",k),l=Tm(p),document.activeElement===m&&y()})),Ta((()=>{chrome.runtime.onMessage.removeListener($),m&&(m.removeEventListener("focus",y),m.removeEventListener("blur",E),m.removeEventListener("copy",S),m.removeEventListener("paste",C),m.removeEventListener("keydown",k),l&&(l.cleanupDOM(),l.remove()))})),e.$$set=e=>{"controller"in e&&o(10,p=e.controller),"editable"in e&&o(11,m=e.editable)},e.$$.update=()=>{32768&e.$$.dirty[0]&&o(4,s=(e=>{const t=i.find((t=>t.langCode===e));return t&&t.supportsFormality})(c)),49152&e.$$.dirty[0]&&o(5,r=i.find((e=>e.langCode===c))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(v?` (${v})`:""):""),1&e.$$.dirty[0]&&l&&l.setIsLanguageMismatching(b)},[b,g,_,d,s,r,a,x,()=>{o(3,d=void 0)},e=>{const t=e.detail.selectedOption.value;Ur(dl,a.zendeskFormality=t,a)},p,m,e=>{o(15,c=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&m.contains(e.baseNode)},v,c]}class pu extends al{constructor(e){super(),rl(this,e,uu,du,Mr,{controller:10,editable:11,updateTargetLanguage:12,getInputHasSelection:13},null,[-1,-1])}get updateTargetLanguage(){return this.$$.ctx[12]}get getInputHasSelection(){return this.$$.ctx[13]}}class mu{static HTML_TAG_NAME="deepl-zendesk-input-icon";static createElement=(e=document)=>{const t=e.createElement(mu.HTML_TAG_NAME),n=new mu(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getInputHasSelection=n.getInputHasSelection,t.updateTargetLanguage=n.updateTargetLanguage,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,editable:t})=>{this.domElement.mainComponent=new pu({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})};getInputHasSelection=()=>this.domElement.mainComponent.getInputHasSelection();updateTargetLanguage=e=>{this.domElement.mainComponent?.updateTargetLanguage(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function gu(e,t,n){const o=e.slice();return o[16]=t[n],o[18]=n,o}function hu(e){let t,n,o=!e[0]&&_u(e),i=e[3],s=[];for(let t=0;t<i.length;t+=1)s[t]=bu(gu(e,i,t));return{c(){t=ea("div"),o&&o.c(),n=oa();for(let e=0;e<s.length;e+=1)s[e].c();la(t,"class","dl-zendesk-translation-placeholder svelte-1xx4hw"),la(t,"dir",Tt()),ma(t,"loading-skeleton",e[0])},m(e,i){Xr(e,t,i),o&&o.m(t,null),Yr(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,r):(o=_u(e),o.c(),o.m(t,n)),8&r){let n;for(i=e[3],n=0;n<i.length;n+=1){const o=gu(e,i,n);s[n]?s[n].p(o,r):(s[n]=bu(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}1&r&&ma(t,"loading-skeleton",e[0])},i:xr,o:xr,d(e){e&&Jr(t),o&&o.d(),Qr(s,e)}}}function fu(e){let t,n,o;return n=new ru({props:{error:e[2],close:e[6]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","dl-zendesk-translation-placeholder has-error svelte-1xx4hw")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,t){const o={};4&t&&(o.error=e[2]),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function _u(e){let t,n,o;return{c(){t=ea("button"),la(t,"class","close-button svelte-1xx4hw")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[5]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function vu(e){let t,n=e[16]+"";return{c(){t=ea("span"),la(t,"class","svelte-1xx4hw")},m(e,o){Xr(e,t,o),t.innerHTML=n},p(e,o){8&o&&n!==(n=e[16]+"")&&(t.innerHTML=n)},d(e){e&&Jr(t)}}}function wu(e){let t;return{c(){t=ea("br")},m(e,n){Xr(e,t,n)},d(e){e&&Jr(t)}}}function bu(e){let t,n,o=e[16]&&vu(e),i=e[18]<e[3].length-1&&wu();return{c(){o&&o.c(),t=oa(),i&&i.c(),n=ia()},m(e,s){o&&o.m(e,s),Xr(e,t,s),i&&i.m(e,s),Xr(e,n,s)},p(e,s){e[16]?o?o.p(e,s):(o=vu(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[18]<e[3].length-1?i||(i=wu(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){o&&o.d(e),e&&Jr(t),i&&i.d(e),e&&Jr(n)}}}function yu(e){let t,n,o,i,s,r,a,l,c;const d=[fu,hu],u=[];function p(e,t){return e[2]?0:e[1]||e[0]?1:-1}return~(i=p(e))&&(s=u[i]=d[i](e)),{c(){t=ea("div"),n=ea("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=oa(),s&&s.c(),r=ia(),la(n,"class","dl-zendesk-translate-this-ticket svelte-1xx4hw"),la(t,"dir",Tt())},m(s,d){Xr(s,t,d),Yr(t,n),Xr(s,o,d),~i&&u[i].m(s,d),Xr(s,r,d),a=!0,l||(c=sa(n,"click",e[4]),l=!0)},p(e,[t]){let n=i;i=p(e),i===n?~i&&u[i].p(e,t):(s&&(Ya(),Xa(u[n],1,1,(()=>{u[n]=null})),Za()),~i?(s=u[i],s?s.p(e,t):(s=u[i]=d[i](e),s.c()),Ka(s,1),s.m(r.parentNode,r)):s=null)},i(e){a||(Ka(s),a=!0)},o(e){Xa(s),a=!1},d(e){e&&Jr(t),e&&Jr(o),~i&&u[i].d(e),e&&Jr(r),l=!1,c()}}}function Eu(e,t,n){let o,i;Ar(e,dl,(e=>n(14,i=e))),Ca("text_direction",Tt());let s,{controller:r}=t,{message:a}=t,l=!1,c=!1,d=!1,u="",g=!1;const h=async({trigger:e})=>{n(1,d=!1),n(0,l=!0),n(2,s=void 0);let t=pm(a).innerText;n(11,u=t);const[o,c]=await tT({targetLang:i.selectedTargetLanguage,sourceLang:r.getTicketLanguageInformation()?.language,text:t,trigger:e});if(c)n(11,u=""),n(1,d=!1),n(2,s=c),g=!0,pT({eventType:de,controller:r,error:c.error||c.message});else if(o){n(11,u=o),n(1,d=!0),pT({eventType:le,controller:r,sourceTextLength:t.length,targetTextLength:u.length})}else n(1,d=!0);n(0,l=!1)};return e.$$set=e=>{"controller"in e&&n(7,r=e.controller),"message"in e&&n(8,a=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=u.split("\n"))},[l,d,s,o,()=>{l||h({trigger:m})},()=>{n(1,d=!1),n(0,l=!1),n(11,u=""),r.getIsAutoTranslatedEnabled()&&(c=!0)},()=>{n(2,s=void 0)},r,a,()=>{!r.getIsAutoTranslatedEnabled()||d||l||c||g||h({trigger:p})},()=>{!d||l||c||h({trigger:m})},u]}class $u extends al{constructor(e){super(),rl(this,e,Eu,yu,Mr,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class xu{static HTML_TAG_NAME="deepl-zendesk-message-controller";static createElement=(e=document)=>{const t=e.createElement(xu.HTML_TAG_NAME),n=new xu(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.processRefreshUI=n.processRefreshUI,t.triggerTranslateAgain=n.triggerTranslateAgain,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,message:t})=>{this.domElement.mainComponent=new $u({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})};processRefreshUI=()=>{this.domElement.mainComponent.processRefreshUI()};triggerTranslateAgain=()=>{this.domElement.mainComponent.triggerTranslateAgain()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Tu(e){let t,n,o,i,s,r,a,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=ea("div"),n=ea("button"),o=oa(),i=na(d),la(n,"class","dismiss-tooltip svelte-j2eeb7"),la(t,"class","dl-zendesk-submit-button-tooltip svelte-j2eeb7"),ua(t,"max-width",(e[1].width||0)+"px"),ua(t,"bottom",e[0].height+12+"px"),la(t,"dir",Tt())},m(s,r){Xr(s,t,r),Yr(t,n),Yr(t,o),Yr(t,i),a=!0,l||(c=sa(n,"click",e[4]),l=!0)},p(e,n){(!a||2&n)&&ua(t,"max-width",(e[1].width||0)+"px"),(!a||1&n)&&ua(t,"bottom",e[0].height+12+"px")},i(e){a||(Pa((()=>{a&&(r&&r.end(1),s=Qa(t,vl,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=el(t,vl,{y:-5,duration:500}),a=!1},d(e){e&&Jr(t),e&&r&&r.end(),l=!1,c()}}}function Su(e){let t,n,o=e[2]&&!e[3]&&Tu(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&Ka(o,1)):(o=Tu(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function Cu(e,t,n){Ca("text_direction",Tt());let{coords:o}=t,{containerCoords:i}=t,s=!1,r=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,i=e.containerCoords)},[o,i,s,r,()=>{n(3,r=!0)},e=>{n(2,s=e)},()=>{console.log("Resetting tooltip..."),n(2,s=!1),n(3,r=!1)}]}class Lu extends al{constructor(e){super(),rl(this,e,Cu,Su,Mr,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class ku{static HTML_TAG_NAME="deepl-zendesk-submit-button-tooltip";static createElement=(e=document)=>{const t=e.createElement(ku.HTML_TAG_NAME),n=new ku(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setIsLanguageMismatching=n.setIsLanguageMismatching,t.resetTooltip=n.resetTooltip,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({coords:e,containerCoords:t})=>{this.domElement.mainComponent=new Lu({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})};setIsLanguageMismatching=e=>{this.domElement.mainComponent?.setIsLanguageMismatching(e)};resetTooltip=()=>{this.domElement.mainComponent?.resetTooltip()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Mu(e){let t,n,o;return{c(){t=ea("div"),n=oa(),o=ea("div"),la(t,"class","dl-zendesk-icon svelte-i3vxpb"),la(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,i){Xr(e,t,i),Xr(e,n,i),Xr(e,o,i)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o)}}}function Iu(e,t,n){let o;Ar(e,dl,(e=>n(17,o=e))),Ca("text_direction",Tt());let{pane:s}=t,{ticketId:r}=t,{controller:a}=t;const l={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1};let c,d=!1;const u={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},p=(e,t)=>{u[e]=t},m=()=>{for(const e of Object.keys(u))if(u[e]){u[e]()&&(u[e]=void 0)}},g=async()=>{if(!c)return;let e;try{switch(c){case ue:e=await mm(s);break;case pe:e=await gm(s)}}catch(e){jt()&&console.error({e:e})}e&&(e=Et(e),n(13,l.hasAttemptedLanguageDetection=!0,l),n(13,l.language=e,l),n(13,l.isDetected=!0,l),n(13,l.isSupported=!!i.find((t=>t.langCode===e)),l),pT({eventType:ie,controller:a}),Sm(s))};return xa((()=>{pT({eventType:oe,controller:a}),p("ticketTypeDetection",(()=>{const e=lm(s);return!!e&&(c=e,g(),!0)}))})),e.$$set=e=>{"pane"in e&&n(0,s=e.pane),"ticketId"in e&&n(1,r=e.ticketId),"controller"in e&&n(2,a=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&p("toolbarLanguageUpdate",(()=>hm(s,{language:l.language,isDetected:l.isDetected,isSupported:l.isSupported}))),8193&e.$$.dirty&&(p("inputIconLanguageUpdate",(()=>vm(s,l.language))),p("topIconLanguageUpdate",(()=>_m(s)))),16385&e.$$.dirty&&p("toolbarAutoTranslateStatus",(()=>{fm(s,{isEnabled:d})}))},[s,r,a,()=>s,()=>r,()=>l,()=>d,e=>{n(13,l.language=e.language,l),n(13,l.isDetected=e.isDetected,l),n(13,l.isSupported=e.isSupported,l)},e=>{n(14,d=e)},()=>c,e=>{c=e},async()=>{if(l.hasAttemptedLanguageDetection||await g(),tm(a,o.isZendeskEnabled),l.isSupported&&o.isZendeskEnabled){wm(a);for(const e of cm(s)){const t=bm(e);t&&t.processRefreshUI()}}$m(s),m()},()=>{xm(s)},l,d]}class Au extends al{constructor(e){super(),rl(this,e,Iu,Mu,Mr,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class Nu{static HTML_TAG_NAME="deepl-zendesk-ticket-controller";static createElement=(e=document)=>{const t=e.createElement(Nu.HTML_TAG_NAME),n=new Nu(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getTicketId=n.getTicketId,t.getPane=n.getPane,t.getTicketLanguageInformation=n.getTicketLanguageInformation,t.getIsAutoTranslatedEnabled=n.getIsAutoTranslatedEnabled,t.setIsAutoTranslateEnabled=n.setIsAutoTranslateEnabled,t.getInputWorkingArea=n.getInputWorkingArea,t.setLanguageInformation=n.setLanguageInformation,t.getTicketType=n.getTicketType,t.setTicketType=n.setTicketType,t.processRefreshUI=n.processRefreshUI,t.getInputHasSelection=n.getInputHasSelection,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({ticketId:e,pane:t})=>{this.domElement.mainComponent=new Au({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this.domElement,ticketId:e,pane:t}})};getTicketId=()=>this.domElement.mainComponent?.getTicketId();getPane=()=>this.domElement.mainComponent?.getPane();getTicketLanguageInformation=()=>this.domElement.mainComponent?.getTicketLanguageInformation();getIsAutoTranslatedEnabled=()=>this.domElement.mainComponent?.getIsAutoTranslatedEnabled();setIsAutoTranslateEnabled=e=>{this.domElement.mainComponent?.setIsAutoTranslateEnabled(e)};getInputWorkingArea=()=>this.domElement.shadowContainer.querySelector(".dl-zendesk-working-area");setLanguageInformation=e=>{this.domElement.mainComponent?.setLanguageInformation(e)};getTicketType=()=>this.domElement.mainComponent?.getTicketType();setTicketType=e=>{this.domElement.mainComponent?.setTicketType(e)};processRefreshUI=()=>{this.domElement.mainComponent.processRefreshUI()};getInputHasSelection=()=>this.domElement.mainComponent?.getInputHasSelection();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Ou(e){let t,n,o,i,s;return n=new ac({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=ea("div"),ol(n.$$.fragment)},m(r,a){Xr(r,t,a),il(n,t,null),o=!0,i||(s=sa(t,"mousedown",aa(ra(e[7]))),i=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n),i=!1,s()}}}function Ru(e,t,n){let o,i;const s=Sa(),r=yt();let{value:a}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,a=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...r]),96&e.$$.dirty&&n(2,i=c?a?r.find((e=>e.value===a)):void 0:u)},[l,d,i,o,function(e){e.detail.selectedOption.value!==a&&s("selection",e.detail)},a,c,function(t){ka.call(this,e,t)}]}class Du extends al{constructor(e){super(),rl(this,e,Ru,Ou,Mr,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function Pu(e){let t,n,o,i;function s(e,t){return e[1]?Gu:Uu}let r=s(e),a=r(e);return{c(){t=ea("button"),a.c(),la(t,"class","translate-all svelte-xnz9j9"),t.disabled=n=!e[0].isSupported},m(n,s){Xr(n,t,s),a.m(t,null),o||(i=sa(t,"click",e[6]),o=!0)},p(e,o){r===(r=s(e))&&a?a.p(e,o):(a.d(1),a=r(e),a&&(a.c(),a.m(t,null))),1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},i:xr,o:xr,d(e){e&&Jr(t),a.d(),o=!1,i()}}}function Hu(e){let t,n;return t=new Jl({props:{tooltip:chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[zu]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),131073&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Uu(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Gu(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function zu(e){let t,n,o,i;return{c(){t=ea("button"),la(t,"class","translate-all btn-icon svelte-xnz9j9"),t.disabled=n=!e[0].isSupported},m(n,s){Xr(n,t,s),o||(i=sa(t,"click",e[6]),o=!0)},p(e,o){1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},d(e){e&&Jr(t),o=!1,i()}}}function qu(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;c=new Du({props:{value:e[0].language,isDetected:e[0].isDetected,isSupported:e[0].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const _=[Hu,Pu],v=[];function w(e,t){return"sm"===e[4]?0:1}return p=w(e),m=v[p]=_[p](e),{c(){t=ea("div"),n=ea("div"),o=ea("button"),i=oa(),s=ea("div"),r=ea("div"),r.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,a=oa(),l=ea("div"),ol(c.$$.fragment),d=oa(),u=ea("div"),m.c(),la(o,"class","senders-language-toggle svelte-xnz9j9"),la(r,"class","label svelte-xnz9j9"),la(l,"class","dropdown-container svelte-xnz9j9"),la(s,"class","container svelte-xnz9j9"),ma(s,"show",e[3]),la(n,"class","senders-language svelte-xnz9j9"),la(u,"class","translate-all-container"),la(t,"class","dl-zendesk-toolbar svelte-xnz9j9"),la(t,"dir",Tt()),ma(t,"toolbar-sm","sm"===e[4]),ma(t,"toolbar-md","md"===e[4]),ma(t,"toolbar-lg","lg"===e[4])},m(m,_){Xr(m,t,_),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),Yr(s,r),Yr(s,a),Yr(s,l),il(c,l,null),Yr(t,d),Yr(t,u),v[p].m(u,null),e[13](t),g=!0,h||(f=[sa(o,"click",e[7]),Gr(Fl.call(null,n,{isShadow:!0})),sa(n,"click_outside",e[12])],h=!0)},p(e,[n]){const o={};1&n&&(o.value=e[0].language),1&n&&(o.isDetected=e[0].isDetected),1&n&&(o.isSupported=e[0].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!g||8&n)&&ma(s,"show",e[3]);let i=p;p=w(e),p===i?v[p].p(e,n):(Ya(),Xa(v[i],1,1,(()=>{v[i]=null})),Za(),m=v[p],m?m.p(e,n):(m=v[p]=_[p](e),m.c()),Ka(m,1),m.m(u,null)),(!g||16&n)&&ma(t,"toolbar-sm","sm"===e[4]),(!g||16&n)&&ma(t,"toolbar-md","md"===e[4]),(!g||16&n)&&ma(t,"toolbar-lg","lg"===e[4])},i(e){g||(Ka(c.$$.fragment,e),Ka(m),g=!0)},o(e){Xa(c.$$.fragment,e),Xa(m),g=!1},d(n){n&&Jr(t),sl(c),v[p].d(),e[13](null),h=!1,Lr(f)}}}function Wu(e,t,n){let o;Ca("text_direction",Tt());const i=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:s}=t;const r={language:"",isDetected:!1,isSupported:!1};let a,l,c,d=!1,u=!1;xa((()=>{c=Ql(a,(e=>{n(11,l=e.clientWidth)}))})),Ta((()=>{c&&c()}));return e.$$set=e=>{"controller"in e&&n(8,s=e.controller)},e.$$.update=()=>{2048&e.$$.dirty&&n(4,o=(e=>{const t=i.find((e=>e.isDefault));for(const t of i)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(l))},[r,d,a,u,o,e=>{const t=e.detail.selectedOption.value;s.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),pT({eventType:se,controller:s,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!d;s.setIsAutoTranslateEnabled(e),pT({eventType:e?re:ae,controller:s,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,u=!u)},s,({language:e,isDetected:t,isSupported:o})=>{n(0,r.language=e,r),n(0,r.isDetected=t,r),n(0,r.isSupported=o,r)},e=>{n(1,d=e)},l,()=>n(3,u=!1),function(e){Ia[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class ju extends al{constructor(e){super(),rl(this,e,Wu,qu,Mr,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class Bu{static HTML_TAG_NAME="deepl-zendesk-toolbar";static createElement=(e=document)=>{const t=e.createElement(Bu.HTML_TAG_NAME),n=new Bu(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.updateLanguageInformation=n.updateLanguageInformation,t.updateAutoTranslateStatus=n.updateAutoTranslateStatus,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new ju({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};updateLanguageInformation=e=>{this.domElement.mainComponent.updateLanguageInformation(e)};updateAutoTranslateStatus=e=>{this.domElement.mainComponent.updateAutoTranslateStatus(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Fu(e){let t,n,o,i,s;return n=new ru({props:{error:e[1],close:e[2]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","container svelte-1wstx56"),la(t,"dir",Tt())},m(e,o){Xr(e,t,o),il(n,t,null),s=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){s||(Ka(n.$$.fragment,e),Pa((()=>{s&&(i&&i.end(1),o=Qa(t,vl,{x:100,duration:1e3}),o.start())})),s=!0)},o(e){Xa(n.$$.fragment,e),o&&o.invalidate(),i=el(t,vl,{x:100,duration:1e3}),s=!1},d(e){e&&Jr(t),sl(n),e&&i&&i.end()}}}function Vu(e){let t,n,o=e[3]&&!1===e[0]&&Fu(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&Ka(o,1)):(o=Fu(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function Yu(e,t,n){let o;Ar(e,xc,(e=>n(4,o=e))),Ca("text_direction",Tt());let{error:i}=t,{close:s}=t,{errorAlreadyShown:r}=t,a=!1;return xa((()=>{setTimeout((()=>{n(3,a=!0),n(0,r=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,i=e.error),"close"in e&&n(2,s=e.close),"errorAlreadyShown"in e&&n(0,r=e.errorAlreadyShown)},[r,i,s,a]}class Zu extends al{constructor(e){super(),rl(this,e,Yu,Vu,Mr,{error:1,close:2,errorAlreadyShown:0})}}class Ku{static HTML_TAG_NAME="deepl-alert";static createElement=(e=document)=>{const t=e.createElement(Ku.HTML_TAG_NAME),n=new Ku(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{const t="rtl"===Tt()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${A.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new Zu({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}function Xu(e){try{const t=Ku.createElement();document.documentElement.appendChild(t),t.createDOM(e),Vl((()=>t.cleanupDOM))}catch(e){jt()&&console.log(e)}}const Ju=function(){let e={isDarkMode:Ve()};const{subscribe:t,update:n}=cl(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>({...e,isDarkMode:Ve()})))})),{subscribe:t,update:e=>{if(jt()){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>(e&&e.error?Xu(e.error):xc.set(!1),{...t,...e,error:e.error?e.error:void 0})))}}}();e.websiteData=void 0;const Qu=Ju.subscribe((n=>{e.websiteData={...n},n&&Object.keys(n).length>0&&t({action:"newWebsiteState",payload:{...n}})}));function ep(e,t,n){const o=e.slice();return o[22]=t[n],o}function tp(e){let t,n,o,i,s;return n=new ac({props:{disabled:e[0],items:e[12],defaultOption:e[16],placeholder:e[14],dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11]}}),n.$on("valueselected",e[15]),{c(){t=ea("div"),ol(n.$$.fragment)},m(r,a){Xr(r,t,a),il(n,t,null),o=!0,i||(s=sa(t,"mousedown",aa(ra(e[20]))),i=!0)},p(e,t){const o={};1&t&&(o.disabled=e[0]),4096&t&&(o.items=e[12]),8&t&&(o.customClass=e[3]),32&t&&(o.variant=e[5]),64&t&&(o.fontSize=e[6]),128&t&&(o.alignRight=e[7]),256&t&&(o.isBorderless=e[8]),512&t&&(o.showSortCode=e[9]),1024&t&&(o.extraPadding=e[10]),2048&t&&(o.dropdownMaxHeight=e[11]),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n),i=!1,s()}}}function np(e){let t,n,o,i,s,r,a,l=e[2]&&op(),c=e[12],d=[];for(let t=0;t<c.length;t+=1)d[t]=ip(ep(e,c,t));return{c(){t=ea("div"),n=ea("select"),l&&l.c(),o=ia();for(let e=0;e<d.length;e+=1)d[e].c();i=na(">"),la(n,"data-qa","deepl-language-selection"),la(n,"aria-label","Select Language"),la(n,"class","svelte-ssh8a3"),la(t,"class",s=Hr("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-ssh8a3")},m(s,c){Xr(s,t,c),Yr(t,n),l&&l.m(n,null),Yr(n,o);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(n,null);Yr(n,i),pa(n,e[1]),r||(a=sa(n,"change",ra(e[21])),r=!0)},p(e,r){if(e[2]?l?l.p(e,r):(l=op(),l.c(),l.m(n,o)):l&&(l.d(1),l=null),4096&r){let t;for(c=e[12],t=0;t<c.length;t+=1){const o=ep(e,c,t);d[t]?d[t].p(o,r):(d[t]=ip(o),d[t].c(),d[t].m(n,i))}for(;t<d.length;t+=1)d[t].d(1);d.length=c.length}4098&r&&pa(n,e[1]),32&r&&s!==(s=Hr("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-ssh8a3")&&la(t,"class",s)},i:xr,o:xr,d(e){e&&Jr(t),l&&l.d(),Qr(d,e),r=!1,a()}}}function op(e){let t,n,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){t=ea("option"),n=na(i),o=oa(),t.__value=void 0,t.value=t.__value,la(t,"data-option-regionalvariant",void 0)},m(e,i){Xr(e,t,i),Yr(t,n),Yr(t,o)},p:xr,d(e){e&&Jr(t)}}}function ip(e){let t,n,o,i,s,r=e[22].label+"";return{c(){t=ea("option"),n=na(r),o=oa(),t.__value=i=e[22].value,t.value=t.__value,la(t,"data-option-regionalvariant",s=e[22].regionalVariant)},m(e,i){Xr(e,t,i),Yr(t,n),Yr(t,o)},p(e,o){4096&o&&r!==(r=e[22].label+"")&&ca(n,r),4096&o&&i!==(i=e[22].value)&&(t.__value=i,t.value=t.__value),4096&o&&s!==(s=e[22].regionalVariant)&&la(t,"data-option-regionalvariant",s)},d(e){e&&Jr(t)}}}function sp(e){let t,n,o,i;const s=[np,tp],r=[];return t=$c()?0:1,n=r[t]=s[t](e),{c(){n.c(),o=ia()},m(e,n){r[t].m(e,n),Xr(e,o,n),i=!0},p(e,[t]){n.p(e,t)},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){r[t].d(e),e&&Jr(o)}}}function rp(e,t,n){let o,r=xr,a=()=>(r(),r=Ir(m,(e=>n(19,o=e))),m);e.$$.on_destroy.push((()=>r()));const c=Sa();let{value:d}=t,{showChooseLanguageOption:u=!1}=t,{customClass:p=""}=t,{websiteSettings:m}=t;a();let g,{disabled:h=!1}=t,{variant:f="original"}=t,{fontSize:_="default"}=t,{alignRight:v=!1}=t,{isBorderless:w=!1}=t,{showSortCode:b=!1}=t,{extraPadding:y=!1}=t,{showRegionalVariants:E=!0}=t,{dropdownMaxHeight:$=300}=t,{onlyShowWriteEnabledLanguages:x=!1}=t,T=u?chrome.i18n.getMessage("supported_languages_undefined"):void 0;g=E?yt():i.filter((e=>!["PT-BR","EN-US"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?{...e,langCode:"EN"}:"PT-PT"===e.langCode?{...e,langCode:"PT"}:e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage()))),x&&(g=g.filter((e=>s.includes(e.value))));let S=d?g.find((e=>e.value===d)):void 0;return e.$$set=e=>{"value"in e&&n(1,d=e.value),"showChooseLanguageOption"in e&&n(2,u=e.showChooseLanguageOption),"customClass"in e&&n(3,p=e.customClass),"websiteSettings"in e&&a(n(4,m=e.websiteSettings)),"disabled"in e&&n(0,h=e.disabled),"variant"in e&&n(5,f=e.variant),"fontSize"in e&&n(6,_=e.fontSize),"alignRight"in e&&n(7,v=e.alignRight),"isBorderless"in e&&n(8,w=e.isBorderless),"showSortCode"in e&&n(9,b=e.showSortCode),"extraPadding"in e&&n(10,y=e.extraPadding),"showRegionalVariants"in e&&n(17,E=e.showRegionalVariants),"dropdownMaxHeight"in e&&n(11,$=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&n(18,x=e.onlyShowWriteEnabledLanguages)},e.$$.update=()=>{524288&e.$$.dirty&&(o&&o.translationState===l.ongoingTranslation?n(0,h=!0):o&&o.translationState===l.none&&n(0,h=!1))},[h,d,u,p,m,f,_,v,w,b,y,$,g,c,T,function(e){h||c("selection",e.detail)},S,E,x,o,function(t){ka.call(this,e,t)},e=>{if(h)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;c("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class ap extends al{constructor(e){super(),rl(this,e,rp,sp,Mr,{value:1,showChooseLanguageOption:2,customClass:3,websiteSettings:4,disabled:0,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:17,dropdownMaxHeight:11,onlyShowWriteEnabledLanguages:18})}}function lp(e){let t,n,o,i;return{c(){t=ta("svg"),n=ta("path"),la(n,"d","M1 7L5 11L15 1"),la(n,"stroke",o=e[0]?e[3]:e[4]),la(n,"stroke-width","2"),la(n,"stroke-linecap","round"),la(n,"stroke-linejoin","round"),la(n,"class","svelte-mrm8jk"),la(t,"width",e[2]),la(t,"height",e[1]),la(t,"class","checkmark svelte-mrm8jk"),la(t,"viewBox","0 0 16 12"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg"),la(t,"style",i=`padding: ${e[6]};`),ma(t,"enableHover",e[5])},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,[s]){25&s&&o!==(o=e[0]?e[3]:e[4])&&la(n,"stroke",o),4&s&&la(t,"width",e[2]),2&s&&la(t,"height",e[1]),64&s&&i!==(i=`padding: ${e[6]};`)&&la(t,"style",i),32&s&&ma(t,"enableHover",e[5])},i:xr,o:xr,d(e){e&&Jr(t)}}}function cp(e,t,n){let{disabled:o=!1}=t,{height:i="16px"}=t,{width:s="16px"}=t,{disabledColor:r="#727A83"}=t,{enabledColor:a="#007E5E"}=t,{enableHover:l=!1}=t,{padding:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"height"in e&&n(1,i=e.height),"width"in e&&n(2,s=e.width),"disabledColor"in e&&n(3,r=e.disabledColor),"enabledColor"in e&&n(4,a=e.enabledColor),"enableHover"in e&&n(5,l=e.enableHover),"padding"in e&&n(6,c=e.padding)},[o,i,s,r,a,l,c]}class dp extends al{constructor(e){super(),rl(this,e,cp,lp,Mr,{disabled:0,height:1,width:2,disabledColor:3,enabledColor:4,enableHover:5,padding:6})}}function up(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function pp(e,t,n){const o=e.slice();return o[22]=t[n],o}function mp(e,t,n){const o=e.slice();return o[25]=t[n],o}function gp(e){let t,n,o,i,s,r,a,l,c,d,u=e[5].name+"",p=e[5].termDictionaries,m=[];for(let t=0;t<p.length;t+=1)m[t]=hp(mp(e,p,t));let g=e[5].hasAdditionalPairs&&fp(e);return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=na(u),s=oa();for(let e=0;e<m.length;e+=1)m[e].c();r=oa(),g&&g.c(),a=oa(),l=ea("div"),l.textContent="Remove",la(o,"class","title"),la(l,"class","remove-button svelte-1ium3jp"),la(n,"class","glossary-menu-active-glossary-display svelte-1ium3jp"),la(t,"class","glossary-menu-active-glossary-display-container svelte-1ium3jp")},m(u,p){Xr(u,t,p),Yr(t,n),Yr(n,o),Yr(o,i),Yr(n,s);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(n,null);Yr(n,r),g&&g.m(n,null),Yr(n,a),Yr(n,l),c||(d=sa(l,"click",e[9]),c=!0)},p(e,t){if(32&t&&u!==(u=e[5].name+"")&&ca(i,u),2080&t){let o;for(p=e[5].termDictionaries,o=0;o<p.length;o+=1){const i=mp(e,p,o);m[o]?m[o].p(i,t):(m[o]=hp(i),m[o].c(),m[o].m(n,r))}for(;o<m.length;o+=1)m[o].d(1);m.length=p.length}e[5].hasAdditionalPairs?g?g.p(e,t):(g=fp(e),g.c(),g.m(n,a)):g&&(g.d(1),g=null)},d(e){e&&Jr(t),Qr(m,e),g&&g.d(),c=!1,d()}}}function hp(e){let t,n=e[11](e[25].languagePair)+"";return{c(){t=ea("div"),la(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Xr(e,t,o),t.innerHTML=n},p(e,o){32&o&&n!==(n=e[11](e[25].languagePair)+"")&&(t.innerHTML=n)},d(e){e&&Jr(t)}}}function fp(e){let t,n,o;return{c(){t=ea("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,la(t,"class","show-more svelte-1ium3jp")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[13]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function _p(e){let t;function n(e,t){return e[0]?e[3]||0!==e[1].length?vp:wp:bp}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function vp(e){let t,n=e[6],o=[];for(let t=0;t<n.length;t+=1)o[t]=xp(up(e,n,t));return{c(){t=ea("div");for(let e=0;e<o.length;e+=1)o[e].c();la(t,"class","glossary-list svelte-1ium3jp")},m(e,n){Xr(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(3270&i){let s;for(n=e[6],s=0;s<n.length;s+=1){const r=up(e,n,s);o[s]?o[s].p(r,i):(o[s]=xp(r),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&Jr(t),Qr(o,e)}}}function wp(e){let t,n,o,i,s;return{c(){t=ea("div"),n=ea("div"),o=ea("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=oa(),s=ea("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_no_glossaries_found")}`,la(o,"class","icon-container svelte-1ium3jp"),la(s,"class","content svelte-1ium3jp"),la(n,"class","container svelte-1ium3jp"),la(t,"class","glossary-not-found svelte-1ium3jp")},m(e,r){Xr(e,t,r),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s)},p:xr,d(e){e&&Jr(t)}}}function bp(e){let t,n,o,i,s;return{c(){t=ea("div"),n=ea("div"),o=ea("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=oa(),s=ea("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_not_pro_user_body")}`,la(o,"class","icon-container svelte-1ium3jp"),la(s,"class","content svelte-1ium3jp"),la(n,"class","container svelte-1ium3jp"),la(t,"class","glossary-not-found svelte-1ium3jp")},m(e,r){Xr(e,t,r),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s)},p:xr,d(e){e&&Jr(t)}}}function yp(e){let t,n,o=e[11](e[22].languagePair)+"";return{c(){t=ea("div"),n=na(o),la(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){64&t&&o!==(o=e[11](e[22].languagePair)+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function Ep(e){let t,n,o;function i(){return e[14](e[19])}return{c(){t=ea("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,la(t,"class","show-more svelte-1ium3jp")},m(e,s){Xr(e,t,s),n||(o=sa(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&Jr(t),n=!1,o()}}}function $p(e){let t;return{c(){t=ea("div"),la(t,"class","divider svelte-1ium3jp")},m(e,n){Xr(e,t,n)},d(e){e&&Jr(t)}}}function xp(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=e[19].name+"",f=e[19].termDictionaries,_=[];for(let t=0;t<f.length;t+=1)_[t]=yp(pp(e,f,t));let v=e[19].hasAdditionalPairs&&Ep(e);function w(){return e[15](e[19])}let b=e[21]<e[1].length-1&&$p();return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=na(h),s=oa();for(let e=0;e<_.length;e+=1)_[e].c();r=oa(),v&&v.c(),a=oa(),l=ea("div"),c=ea("input"),u=oa(),b&&b.c(),p=ia(),la(o,"class","name"),la(n,"class","info svelte-1ium3jp"),la(c,"type","radio"),c.checked=d=e[2]?.zendeskActiveTermbase?.id===e[19].id,la(c,"class","svelte-1ium3jp"),la(l,"class","radio-container svelte-1ium3jp"),la(t,"class","glossary-item svelte-1ium3jp")},m(e,d){Xr(e,t,d),Yr(t,n),Yr(n,o),Yr(o,i),Yr(n,s);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(n,null);Yr(n,r),v&&v.m(n,null),Yr(t,a),Yr(t,l),Yr(l,c),Xr(e,u,d),b&&b.m(e,d),Xr(e,p,d),m||(g=sa(c,"click",w),m=!0)},p(t,o){if(e=t,64&o&&h!==(h=e[19].name+"")&&ca(i,h),2112&o){let t;for(f=e[19].termDictionaries,t=0;t<f.length;t+=1){const i=pp(e,f,t);_[t]?_[t].p(i,o):(_[t]=yp(i),_[t].c(),_[t].m(n,r))}for(;t<_.length;t+=1)_[t].d(1);_.length=f.length}e[19].hasAdditionalPairs?v?v.p(e,o):(v=Ep(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),68&o&&d!==(d=e[2]?.zendeskActiveTermbase?.id===e[19].id)&&(c.checked=d),e[21]<e[1].length-1?b||(b=$p(),b.c(),b.m(p.parentNode,p)):b&&(b.d(1),b=null)},d(e){e&&Jr(t),Qr(_,e),v&&v.d(),e&&Jr(u),b&&b.d(e),e&&Jr(p),m=!1,g()}}}function Tp(e){let t,n,o,i,s,r,a,l,c,d,u,p=e[5]&&gp(e),m=e[4]&&_p(e);return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=ea("div"),i.textContent="Glossary",s=oa(),r=ea("div"),a=oa(),p&&p.c(),l=oa(),m&&m.c(),c=ia(),la(i,"class","glossary-menu-text"),la(r,"class","glossary-menu-toggle svelte-1ium3jp"),ma(r,"isGlossaryListExpanded",e[4]),la(o,"class","glossary-menu-toggle-container svelte-1ium3jp"),la(n,"class","glossary-menu"),la(t,"class","glossary-menu-container svelte-1ium3jp"),ma(t,"isGlossaryListExpanded",e[4])},m(g,h){Xr(g,t,h),Yr(t,n),Yr(n,o),Yr(o,i),Yr(o,s),Yr(o,r),Yr(n,a),p&&p.m(n,null),Xr(g,l,h),m&&m.m(g,h),Xr(g,c,h),d||(u=sa(o,"click",e[8]),d=!0)},p(e,[o]){16&o&&ma(r,"isGlossaryListExpanded",e[4]),e[5]?p?p.p(e,o):(p=gp(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null),16&o&&ma(t,"isGlossaryListExpanded",e[4]),e[4]?m?m.p(e,o):(m=_p(e),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},i:xr,o:xr,d(e){e&&Jr(t),p&&p.d(),e&&Jr(l),m&&m.d(e),e&&Jr(c),d=!1,u()}}}function Sp(e,n,o){let i;Ar(e,dl,(e=>o(2,i=e)));let{userHasZendeskPermissions:s}=n,r=[],a=!0,l=!1,c=[],d=null,u=[];const p=e=>{o(12,c=[...c,e])},m=e=>{const n=r.find((t=>t.id===e));n&&(Ur(dl,i.zendeskActiveTermbase=n,i),t({action:"dlTrackGlossaryEnabled",payload:{nicheIntegration:Q.zendesk}}))},g=async()=>{o(3,a=!0);try{const[e]=await nT();o(1,r=e)}catch(e){jt()&&console.error(e)}finally{(()=>{if(!i.zendeskActiveTermbase)return;if(!r||0===r.length)return void Ur(dl,i.zendeskActiveTermbase=null,i);const e=r.map((e=>e.id));if(i.zendeskActiveTermbase&&e.includes(i.zendeskActiveTermbase.id)){const e=r.find((e=>e.id===i.zendeskActiveTermbase.id));Ur(dl,i.zendeskActiveTermbase=e,i)}else Ur(dl,i.zendeskActiveTermbase=null,i)})(),o(3,a=!1)}},h=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive&&g()};xa((()=>{g(),chrome.runtime.onMessage.addListener(h)})),Ta((()=>{chrome.runtime.onMessage.removeListener(h)}));return e.$$set=e=>{"userHasZendeskPermissions"in e&&o(0,s=e.userHasZendeskPermissions)},e.$$.update=()=>{4098&e.$$.dirty&&o(6,u=r.map((e=>c.includes(e.id)||e.termDictionaries.length<=3?e:{...e,termDictionaries:e.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))),4&e.$$.dirty&&(i.zendeskActiveTermbase||o(5,d=null)),4100&e.$$.dirty&&i.zendeskActiveTermbase&&(c.includes(i.zendeskActiveTermbase.id)||i.zendeskActiveTermbase.termDictionaries.length<=3?o(5,d=i.zendeskActiveTermbase):o(5,d={...i.zendeskActiveTermbase,termDictionaries:i.zendeskActiveTermbase.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))},[s,r,i,a,l,d,u,p,()=>{o(4,l=!l),l&&(s||t({action:"dlTrackZendeskGlossaryOpened",payload:{glossaryConfigOpenedWithoutGlossaryPermissions:!0}}),s&&!a&&0==r.length&&t({action:"dlTrackZendeskGlossaryOpened",payload:{glossaryConfigOpenedWithNoGlossariesFound:!0}}))},()=>{Ur(dl,i.zendeskActiveTermbase=null,i),t({action:"dlTrackGlossaryDisabled",payload:{nicheIntegration:Q.zendesk}})},m,e=>{if(!e||!e.includes(">"))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} → ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`},c,()=>{p(d.id)},e=>{p(e.id)},e=>m(e.id)]}class Cp extends al{constructor(e){super(),rl(this,e,Sp,Tp,Mr,{userHasZendeskPermissions:0})}}function Lp(e,t,n){const o=e.slice();return o[17]=t[n],o}function kp(e){let t,n,o,i,s,r;const a=[Np,Ap,Ip,Mp],l=[];function c(e,t){return"onboarding"===e[4]?0:"user_has_reached_limit"===e[4]?1:"language_not_supported"===e[4]?2:3}n=c(e),o=l[n]=a[n](e);let d=!e[1]&&"onboarding"!==e[4]&&Rp(e),u=(!e[2].isZendeskEnabled||"default"===e[4]||"onboarding"===e[4])&&!e[5]&&Gp(e);return{c(){t=ea("div"),o.c(),i=oa(),d&&d.c(),s=oa(),u&&u.c(),la(t,"class","dl-zendesk-modal svelte-190a4bx"),ma(t,"onboarding","onboarding"===e[4])},m(e,o){Xr(e,t,o),l[n].m(t,null),Yr(t,i),d&&d.m(t,null),Yr(t,s),u&&u.m(t,null),r=!0},p(e,p){let m=n;n=c(e),n===m?l[n].p(e,p):(Ya(),Xa(l[m],1,1,(()=>{l[m]=null})),Za(),o=l[n],o?o.p(e,p):(o=l[n]=a[n](e),o.c()),Ka(o,1),o.m(t,i)),e[1]||"onboarding"===e[4]?d&&(d.d(1),d=null):d?d.p(e,p):(d=Rp(e),d.c(),d.m(t,s)),e[2].isZendeskEnabled&&"default"!==e[4]&&"onboarding"!==e[4]||e[5]?u&&(u.d(1),u=null):u?u.p(e,p):(u=Gp(e),u.c(),u.m(t,null)),(!r||16&p)&&ma(t,"onboarding","onboarding"===e[4])},i(e){r||(Ka(o),r=!0)},o(e){Xa(o),r=!1},d(e){e&&Jr(t),l[n].d(),d&&d.d(),u&&u.d()}}}function Mp(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"",b=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"";n=new Cp({props:{userHasZendeskPermissions:e[1]}});let y=!e[1]&&Op(e);return d=new ap({props:{value:e[2].selectedTargetLanguage,websiteSettings:Ju,disabled:!e[2].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md",dropdownMaxHeight:150}}),d.$on("selection",e[13]),{c(){t=ea("div"),ol(n.$$.fragment),o=oa(),y&&y.c(),i=oa(),s=ea("div"),r=na(w),a=oa(),l=ea("div"),c=ea("div"),ol(d.$$.fragment),u=oa(),p=ea("div"),m=ea("button"),g=na(b),la(t,"class","modal-section glossary svelte-190a4bx"),la(c,"class","dropdown svelte-190a4bx"),la(m,"class","btn-primary svelte-190a4bx"),m.disabled=h=!e[2].isZendeskEnabled,la(p,"class","right svelte-190a4bx"),la(l,"class","dropdown-container svelte-190a4bx"),la(s,"class","modal-section language-selector svelte-190a4bx")},m(h,w){Xr(h,t,w),il(n,t,null),Xr(h,o,w),y&&y.m(h,w),Xr(h,i,w),Xr(h,s,w),Yr(s,r),Yr(s,a),Yr(s,l),Yr(l,c),il(d,c,null),Yr(l,u),Yr(l,p),Yr(p,m),Yr(m,g),f=!0,_||(v=sa(m,"click",e[14]),_=!0)},p(e,t){const o={};2&t&&(o.userHasZendeskPermissions=e[1]),n.$set(o),e[1]?y&&(y.d(1),y=null):y?y.p(e,t):(y=Op(e),y.c(),y.m(i.parentNode,i));const s={};4&t&&(s.value=e[2].selectedTargetLanguage),4&t&&(s.disabled=!e[2].isZendeskEnabled),d.$set(s),(!f||4&t&&h!==(h=!e[2].isZendeskEnabled))&&(m.disabled=h)},i(e){f||(Ka(n.$$.fragment,e),Ka(d.$$.fragment,e),f=!0)},o(e){Xa(n.$$.fragment,e),Xa(d.$$.fragment,e),f=!1},d(e){e&&Jr(t),sl(n),e&&Jr(o),y&&y.d(e),e&&Jr(i),e&&Jr(s),sl(d),_=!1,v()}}}function Ip(e){let t,n,o;return{c(){t=ea("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=oa(),o=ea("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,la(t,"class","modal-section language-not-supported svelte-190a4bx"),la(o,"class","modal-section secondary-text svelte-190a4bx")},m(e,i){Xr(e,t,i),Xr(e,n,i),Xr(e,o,i)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o)}}}function Ap(e){let t,n,o,i,s;return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=oa(),s=ea("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,la(o,"class","icon svelte-190a4bx"),la(s,"class","text svelte-190a4bx"),la(n,"class","upgrade-infobox svelte-190a4bx"),la(t,"class","modal-section reached-limit svelte-190a4bx")},m(e,r){Xr(e,t,r),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}function Np(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b=chrome.i18n.getMessage("zendesk_onboarding_content_one",[me])+"",y=chrome.i18n.getMessage("zendesk_onboarding_content_two")+"",E=chrome.i18n.getMessage("zendesk_onboarding_content_three")+"";return r=new dp({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new dp({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new dp({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=ea("div"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,o=oa(),i=ea("div"),s=ea("div"),ol(r.$$.fragment),a=oa(),l=ea("div"),c=oa(),d=ea("div"),ol(u.$$.fragment),p=oa(),m=ea("div"),g=oa(),h=ea("div"),ol(f.$$.fragment),_=oa(),v=ea("div"),la(n,"class","welcome svelte-190a4bx"),la(l,"class","copy-text svelte-190a4bx"),la(s,"class","copy svelte-190a4bx"),la(m,"class","copy-text svelte-190a4bx"),la(d,"class","copy svelte-190a4bx"),la(v,"class","copy-text svelte-190a4bx"),la(h,"class","copy svelte-190a4bx"),la(i,"class","body svelte-190a4bx"),la(t,"class","modal-section onboarding svelte-190a4bx")},m(e,$){Xr(e,t,$),Yr(t,n),Yr(t,o),Yr(t,i),Yr(i,s),il(r,s,null),Yr(s,a),Yr(s,l),l.innerHTML=b,Yr(i,c),Yr(i,d),il(u,d,null),Yr(d,p),Yr(d,m),m.innerHTML=y,Yr(i,g),Yr(i,h),il(f,h,null),Yr(h,_),Yr(h,v),v.innerHTML=E,w=!0},p:xr,i(e){w||(Ka(r.$$.fragment,e),Ka(u.$$.fragment,e),Ka(f.$$.fragment,e),w=!0)},o(e){Xa(r.$$.fragment,e),Xa(u.$$.fragment,e),Xa(f.$$.fragment,e),w=!1},d(e){e&&Jr(t),sl(r),sl(u),sl(f)}}}function Op(e){let t,n,o,i,s,r=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[6]])+"",a=chrome.i18n.getMessage("zendesk_popup_char_limit_content")+"";return{c(){t=ea("div"),n=ea("div"),o=na(r),i=oa(),s=na(a),la(n,"class","translation-count svelte-190a4bx"),la(t,"class","modal-section svelte-190a4bx")},m(e,r){Xr(e,t,r),Yr(t,n),Yr(n,o),Yr(t,i),Yr(t,s)},p(e,t){64&t&&r!==(r=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[6]])+"")&&ca(o,r)},d(e){e&&Jr(t)}}}function Rp(e){let t,n,o,i,s,r,a,l=e[5]&&Dp(),c=yl(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"]),d=[];for(let t=0;t<c.length;t+=1)d[t]=Up(Lp(e,c,t));return{c(){t=ea("div"),l&&l.c(),n=oa(),o=ea("button"),o.textContent=`${chrome.i18n.getMessage("zendesk_try_pro_advanced_button")}`,i=oa(),s=ea("div");for(let e=0;e<d.length;e+=1)d[e].c();la(o,"class","upgrade-button svelte-190a4bx"),la(s,"class","login-text svelte-190a4bx"),la(t,"class","modal-section upgrade-button-container svelte-190a4bx")},m(c,u){Xr(c,t,u),l&&l.m(t,null),Yr(t,n),Yr(t,o),Yr(t,i),Yr(t,s);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(s,null);r||(a=sa(o,"click",e[10]),r=!0)},p(e,o){if(e[5]?l?l.p(e,o):(l=Dp(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),512&o){let t;for(c=yl(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"]),t=0;t<c.length;t+=1){const n=Lp(e,c,t);d[t]?d[t].p(n,o):(d[t]=Up(n),d[t].c(),d[t].m(s,null))}for(;t<d.length;t+=1)d[t].d(1);d.length=c.length}},d(e){e&&Jr(t),l&&l.d(),Qr(d,e),r=!1,a()}}}function Dp(e){let t,n=chrome.i18n.getMessage("zendesk_limit_reached_content")+"";return{c(){t=ea("span"),la(t,"class","svelte-190a4bx")},m(e,o){Xr(e,t,o),t.innerHTML=n},p:xr,d(e){e&&Jr(t)}}}function Pp(e){let t,n,o=e[17].text+"";return{c(){t=new ha(!1),n=ia(),t.a=n},m(e,i){t.m(o,e,i),Xr(e,n,i)},p:xr,d(e){e&&Jr(n),e&&t.d()}}}function Hp(e){let t,n,o,i=e[17].text+"";return{c(){t=ea("span"),la(t,"class","upgrade-link svelte-190a4bx")},m(s,r){Xr(s,t,r),t.innerHTML=i,n||(o=sa(t,"click",e[9]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function Up(e){let t;let n=function(e,t){return"loginLink"===e[17].block?Hp:Pp}(e),o=n(e);return{c(){o.c(),t=ia()},m(e,n){o.m(e,n),Xr(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&Jr(t)}}}function Gp(e){let t,n,o,i,s,r,a;return{c(){t=ea("div"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,o=oa(),i=ea("div"),s=ea("span"),s.innerHTML='<span class="svelte-190a4bx"></span>',la(n,"class","text svelte-190a4bx"),la(s,"class","on-off-switch svelte-190a4bx"),ma(s,"on",e[2].isZendeskEnabled),la(i,"class","switch"),la(t,"class","modal-section switch-container svelte-190a4bx")},m(l,c){Xr(l,t,c),Yr(t,n),Yr(t,o),Yr(t,i),Yr(i,s),r||(a=sa(s,"click",e[8]),r=!0)},p(e,t){4&t&&ma(s,"on",e[2].isZendeskEnabled)},d(e){e&&Jr(t),r=!1,a()}}}function zp(e){let t,n,o,i,s,r,a=e[3]&&kp(e);return{c(){t=ea("div"),n=ea("button"),o=oa(),a&&a.c(),la(n,"class","dl-zendesk-top-icon svelte-190a4bx"),la(t,"dir",Tt())},m(l,c){Xr(l,t,c),Yr(t,n),Yr(t,o),a&&a.m(t,null),i=!0,s||(r=[sa(n,"click",e[12]),Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[7])],s=!0)},p(e,[n]){e[3]?a?(a.p(e,n),8&n&&Ka(a,1)):(a=kp(e),a.c(),Ka(a,1),a.m(t,null)):a&&(Ya(),Xa(a,1,1,(()=>{a=null})),Za())},i(e){i||(Ka(a),i=!0)},o(e){Xa(a),i=!1},d(e){e&&Jr(t),a&&a.d(),s=!1,Lr(r)}}}function qp(e,n,o){let i;Ar(e,dl,(e=>o(2,i=e))),Ca("text_direction",Tt());let s,{controller:r}=n,a=!1,l="default",c=!1,d=!1;const u=()=>{c?o(4,l="user_has_reached_limit"):i.isZendeskOnboarded?r.getTicketLanguageInformation().isSupported?(o(3,a=!1),o(4,l="default")):(o(4,l="language_not_supported"),o(3,a=i.isZendeskEnabled&&r.getTicketLanguageInformation().hasAttemptedLanguageDetection)):(o(4,l="onboarding"),Ur(dl,i.isZendeskOnboarded=!0,i),t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Q.zendesk}}),o(3,a=!0))},p=()=>{"onboarding"===l&&(Ur(dl,i.isZendeskOnboarded=!0,i),o(4,l="default")),"welcome"===l&&o(4,l="default"),o(3,a=!1)};xa((()=>{u(),i.isZendeskEnabled&&i.zendeskActiveTermbase&&(async()=>{if(!i.zendeskActiveTermbase)return;let e=[];try{const[t]=await nT();e=t}catch(e){jt()&&console.error(e)}if(!e||0===e.length)return void Ur(dl,i.zendeskActiveTermbase=null,i);const t=e.map((e=>e.id));if(i.zendeskActiveTermbase&&t.includes(i.zendeskActiveTermbase.id)){const t=e.find((e=>e.id===i.zendeskActiveTermbase.id));Ur(dl,i.zendeskActiveTermbase=t,i)}else Ur(dl,i.zendeskActiveTermbase=null,i)})()}));return e.$$set=e=>{"controller"in e&&o(0,r=e.controller)},e.$$.update=()=>{4&e.$$.dirty&&o(1,d=i?.featureSet?.customizations?.includes("zendesk")),4&e.$$.dirty&&o(6,s=me-i.zendeskSuccessfulTranslations),6&e.$$.dirty&&i.zendeskSuccessfulTranslations>=me&&!d&&(o(5,c=!0),u()),2&e.$$.dirty&&d&&(o(5,c=!1),o(4,l="default"))},[r,d,i,a,l,c,s,p,()=>{Ur(dl,i.isZendeskEnabled=!i.isZendeskEnabled,i)},()=>{t({action:"dlRequestLogin"})},function(){t({action:"dlTrackUILocationClicked",payload:R.zendeskTryProLink}),t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"zendesk_customization"}})},u,()=>{a?p():o(3,a=!0)},e=>{Ur(dl,i.selectedTargetLanguage=e.detail.selectedOption.value,i),Em(r)},()=>{i.isZendeskEnabled&&p()}]}class Wp extends al{constructor(e){super(),rl(this,e,qp,zp,Mr,{controller:0,updateIconSettings:11})}get updateIconSettings(){return this.$$.ctx[11]}}class jp{static HTML_TAG_NAME="deepl-zendesk-top-icon";static createElement=(e=document)=>{const t=e.createElement(jp.HTML_TAG_NAME),n=new jp(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerUpdateIconSettings=n.triggerUpdateIconSettings,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new Wp({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};triggerUpdateIconSettings=()=>{this.domElement.mainComponent.updateIconSettings()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const Bp=[...er].filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),Fp=()=>{const e=new _s({...tr,transport:ws,stackParser:Cs,integrations:Bp}),t=new $i;return t.setClient(e),t.setContext("appContext",{location:"content"}),{client:e,scope:t}},{scope:Vp}=Fp(),Yp=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},Zp=()=>document.querySelector("deepl-zendesk-controller"),Kp=()=>hl.createElement(),Xp=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},Jp=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},Qp=e=>e.querySelector("deepl-zendesk-ticket-controller"),em=(e,t)=>{const n=Nu.createElement();return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},tm=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||sm(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||rm(n,e),n.querySelector("deepl-zendesk-input-icon")||am(n,e)):n.querySelector("deepl-zendesk-toolbar")||rm(n,e)}catch(e){jt()&&console.error(e),nr(e,Vp)}},nm=()=>{im(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},om=()=>{im(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},im=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){jt()&&console.error(e),nr(e,Vp)}},sm=(e,t)=>{const n=jp.createElement(),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const i=o.parentElement;return i?(i.prepend(n),n.createDOM({controller:t}),n):void 0},rm=(e,t)=>{const n=Bu.createElement(),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},am=(e,t)=>{const n=mu.createElement(),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul'),i=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(i&&o&&o)return o.append(n),n.createDOM({controller:t,editable:i}),n},lm=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul[data-test-id="ticket-editor-app-icon-view"][data-cy="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul');return t?ue:n?pe:void 0},cm=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),dm=e=>{const t=cm(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},um=(e,t)=>{const n=cm(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},pm=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),mm=async e=>{const t=dm(e);if(t){const e=t?pm(t).innerText:"";return await bt(e)}},gm=async e=>{const t=um(e,12),n=[];for(const e in t)try{const o=t[e],i=o?pm(o).innerText:"",s=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),r=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==i.length)continue;let a=n.find((e=>e.id===s));const l=i.includes(`: ${r}`)&&i.indexOf(`: ${r}`)+`: ${r}`.length===i.length,c=0===Number(e);a||(a={id:s,name:r,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(a)),l&&(a.isLikelyCustomer=!0),c&&(a.isFirstMessage=!0),a.messages.push({message:i,shouldBeSkipped:l||i.length<=3})}catch(e){jt()&&console.log("Dev debug: unable to read message content in detectTicketLanguageInLiveChat")}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const i=o[0];if(i)return await bt(i)},hm=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},fm=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},_m=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},vm=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},wm=e=>{try{const t=e.getPane(),n=cm(t);for(const t of n)bm(t)||ym(t,e)}catch(e){jt()&&console.error(e),nr(e,Vp)}},bm=e=>e.querySelector("deepl-zendesk-message-controller"),ym=(e,t)=>{const n=xu.createElement(),o=pm(e);if(o&&o.parentNode)return o.parentNode.after(n),n.createDOM({controller:t,message:e}),n},Em=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},$m=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},xm=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},Tm=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=ku.createElement();return s.createDOM({controller:e,coords:o,containerCoords:i}),n.prepend(s),s},Sm=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},Cm=()=>{const e="https://mail.google.com";return window.location.href.substr(0,23)===e},Lm=e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type),km=e=>e.selectionStart<e.selectionEnd,Mm=async(e,t,n)=>{if(!Lm(e))return n||(e=>{jl("mousedown",e);const t=window.getSelection();t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),t.addRange(n),jl("mouseup",e)})(e),await zl(e,t,!0);if(km(e)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(e,{start:0,end:e.value.length}),!document.execCommand("insertText",!1,t.text)){const n=e.value.substring(0,e.selectionStart)+t.text+e.value.substring(e.selectionEnd);e.value=n}};function Im(e,t){if(!t)return!1;const n=t.getBoundingClientRect();if(Lm(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e);let o=!1;try{o=Am(n,t)}catch(e){}return n.remove(),o}(e,n);{const t=Sl(e).getSelection(),o=function(e){return"IFRAME"===e.nodeName.toUpperCase()?e.getBoundingClientRect():{top:0,left:0}}(e);if(t.rangeCount)return Am(Ll(e),n,o)}return!1}function Am(e,t,n={top:0,left:0}){const o=Sl(e).getSelection();for(const r of e.childNodes)if("#text"===r.nodeName.toLowerCase()){const e=o.getRangeAt(0).cloneRange();e.setStart(r,0),e.setEnd(r,r.textContent.length);const a=e.getClientRects();if(!a.length)continue;for(const e of a){const o={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top};if(s=t,(i=o).left<=s.right&&i.right>=s.left&&i.top<=s.bottom&&i.bottom>=s.top)return!0}}else if(e.childNodes.length&&Am(r,t,n))return!0;var i,s;return!1}function Nm(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function Om(e,t){return Nm(e,k)||Nm(t,M)}function Rm(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function Dm(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function Pm(e){try{return new URL(e),!0}catch(e){return!1}}function Hm(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:i,left:s,right:r,bottom:a,height:l,width:c}=n,d={x:s-o.left,y:a-o.top,selectedTop:i,selectedBottom:a,selectedRight:o.width-r,selectedLeft:s+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}function Um(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes))if(t.getBoundingClientRect||(t=n),n.getBoundingClientRect&&(n.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=n),n.hasChildNodes())){const e=Um(n);if(e&&e.getBoundingClientRect){const o=n.getBoundingClientRect(),i=e.getBoundingClientRect();o.right<i.right&&(t=e)}}return t}const Gm=e=>{const t=[],n=[];return Wm({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function zm(e){for(var t=0;t<e.childNodes.length;++t){const n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName){if("block"==window.getComputedStyle(n).display)return!0;if(zm(n))return!0}}return!1}const qm=({strings:e,domElements:t})=>{for(const n in t)Array.isArray(e[n])?t[n].innerHTML=e[n].join(""):t[n].innerHTML=e[n]},Wm=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(Vm(n))e.push(n),t.push(n.innerHTML);else for(const o of n.childNodes)Wm({domElements:e,strings:t,element:o})},jm=({domElements:e,strings:t,element:n,tmpElementMap:o})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(Vm(n))void 0!==o&&Bm({topElement:n,element:n,tmpElementMap:o}),e.push(n),t.push(n.innerHTML);else for(const i of n.childNodes)jm({domElements:e,strings:t,element:i,tmpElementMap:o})},Bm=({topElement:e,element:t,tmpElementMap:n})=>{Array.from(t.children).forEach((t=>{Bm({topElement:e,element:t,tmpElementMap:n})})),t!==e&&Fm(t,n)},Fm=(e,t)=>{const n=Object.keys(t).length+1,o=e.tagName.toLowerCase(),i={};Array.from(e.attributes).forEach((e=>{i[e.name]=e.value}));const s=`a${n}`,r=document.createElement(s);r.innerHTML=e.innerHTML,e.replaceWith(r),t[s]={originalTagName:o,originalAttributes:i}};function Vm(e){if(Ym(e)||Km(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!Ym(t)&&(!Zm(t)||Km(t)||"inline"!=window.getComputedStyle(t).display||zm(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return Ym(t)}return!0}const Ym=e=>"#text"==e.nodeName||"#comment"==e.nodeName,Zm=e=>ne.includes(e.nodeName.toLowerCase()),Km=e=>te.includes(e.nodeName.toLowerCase());function Xm(e){for(var t=[];null!=e.parentNode;){for(var n=0,o=0,i=0;i<e.parentNode.childNodes.length;i++){var s=e.parentNode.childNodes[i];s.nodeName===e.nodeName&&(s===e&&(o=n),n++)}e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":nth-child("+(o+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t.slice(1)}function Jm(e){let t;return{c(){t=ea("div"),la(t,"class","loader svelte-c65fyl"),ma(t,"small",e[0])},m(e,n){Xr(e,t,n)},p(e,[n]){1&n&&ma(t,"small",e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function Qm(e,t,n){let{small:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small)},[o]}class eg extends al{constructor(e){super(),rl(this,e,Qm,Jm,Mr,{small:0})}}const tg={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",settings_customizations:"SETTINGS_CUSTOMIZATIONS",settings_glossary:"SETTINGS_GLOSSARY",onboarding:"ONBOARDING",onboarding_after_successful_login:"ONBOARDING_AFTER_SUCCESSFUL_LOGIN",firefox_first_run:"FIREFOX_FIRST_RUN",privacy_policy:"PRIVACY_POLICY",create_account:"CREATE_ACCOUNT"};function ng(e){let t,n,o,i,s,r;return{c(){t=ea("div"),n=ea("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=oa(),i=ea("span"),la(i,"class","icon icon-external-link svelte-1yv621f"),la(t,"class","settings-link svelte-1yv621f")},m(a,l){Xr(a,t,l),Yr(t,n),Yr(t,o),Yr(t,i),s||(r=sa(t,"click",aa(ra(e[0]))),s=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),s=!1,r()}}}function og(e,n,o){let{page:i=tg.settings_page}=n;return e.$$set=e=>{"page"in e&&o(1,i=e.page)},[function(){t({action:"dlOpenInternalPage",payload:{destination:i}})},i]}class ig extends al{constructor(e){super(),rl(this,e,og,ng,Mr,{page:1})}}function sg(e){let t,n,o;return{c(){t=ea("button"),la(t,"type","button"),la(t,"class","close-icon svelte-nskp1z")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[0]),n=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),n=!1,o()}}}function rg(e){return[function(t){ka.call(this,e,t)}]}class ag extends al{constructor(e){super(),rl(this,e,rg,sg,Mr,{})}}function lg(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;return i=new ag({}),i.$on("click",e[2]),c=new ap({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),p=new ig({}),{c(){t=ea("div"),n=ea("div"),o=ea("div"),ol(i.$$.fragment),s=oa(),r=ea("div"),a=ea("p"),a.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=oa(),ol(c.$$.fragment),d=oa(),u=ea("div"),ol(p.$$.fragment),la(o,"class","close-icon-container svelte-1gqlrwe"),la(n,"class","header"),la(a,"class","label-language-switch svelte-1gqlrwe"),la(r,"class","body svelte-1gqlrwe"),la(u,"class","footer svelte-1gqlrwe"),la(t,"class","container svelte-1gqlrwe")},m(e,g){Xr(e,t,g),Yr(t,n),Yr(n,o),il(i,o,null),Yr(t,s),Yr(t,r),Yr(r,a),Yr(r,l),il(c,r,null),Yr(t,d),Yr(t,u),il(p,u,null),m=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){m||(Ka(i.$$.fragment,e),Ka(c.$$.fragment,e),Ka(p.$$.fragment,e),m=!0)},o(e){Xa(i.$$.fragment,e),Xa(c.$$.fragment,e),Xa(p.$$.fragment,e),m=!1},d(e){e&&Jr(t),sl(i),sl(c),sl(p)}}}function cg(e,t,n){let o;const i=La("deepl_settings");Ar(e,i,(e=>n(0,o=e)));const s=Sa();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class dg extends al{constructor(e){super(),rl(this,e,cg,lg,Mr,{})}}function ug(e){return/\bdark\b/gm.test(e)}const pg=function(){let e={isDarkMode:ug(document.body.className)};const{subscribe:t,update:n}=cl(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:ug(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{Vl((()=>{o.disconnect()}))})),{subscribe:t}}();function mg(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;const h=[hg,gg],f=[];function _(e,t){return e[2]?0:1}return n=_(e),o=f[n]=h[n](e),{c(){t=ea("div"),o.c(),i=oa(),s=ea("div"),s.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,r=oa(),a=ea("button"),l=ta("svg"),c=ta("path"),la(s,"class","show-alternatives svelte-195c1d5"),ma(s,"dark",e[5]),la(c,"d","M3 9L9 3M3 3L9 9"),la(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),la(c,"stroke-width","1.5"),la(c,"stroke-linecap","round"),la(c,"stroke-linejoin","round"),la(l,"width","12"),la(l,"height","12"),la(l,"viewBox","0 0 12 12"),la(l,"fill","none"),la(l,"xmlns","http://www.w3.org/2000/svg"),la(a,"class","svelte-195c1d5"),la(t,"class","container svelte-195c1d5"),la(t,"dir",Tt()),ma(t,"dark",e[5])},m(o,d){Xr(o,t,d),f[n].m(t,null),Yr(t,i),Yr(t,s),Yr(t,r),Yr(t,a),Yr(a,l),Yr(l,c),p=!0,m||(g=[sa(s,"click",e[6]),sa(a,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)}))],m=!0)},p(r,a){let l=n;n=_(e=r),n===l?f[n].p(e,a):(Ya(),Xa(f[l],1,1,(()=>{f[l]=null})),Za(),o=f[n],o?o.p(e,a):(o=f[n]=h[n](e),o.c()),Ka(o,1),o.m(t,i)),(!p||32&a)&&ma(s,"dark",e[5]),(!p||8&a&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&la(c,"stroke",d),(!p||32&a)&&ma(t,"dark",e[5])},i(e){p||(Ka(o),u||Pa((()=>{u=Qa(t,vl,{y:-10,duration:200}),u.start()})),p=!0)},o(e){Xa(o),p=!1},d(e){e&&Jr(t),f[n].d(),m=!1,Lr(g)}}}function gg(e){let t,n;return{c(){t=ea("span"),n=na(e[0]),la(t,"class","translatedText svelte-195c1d5")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){1&t&&ca(n,e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function hg(e){let t,n;return t=new ru({props:{error:e[2]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function fg(e){let t,n,o=e[4]&&mg(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&Ka(o,1)):(o=mg(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function _g(e,n,o){let i,s,r;Ar(e,dl,(e=>o(8,s=e))),Ar(e,pg,(e=>o(3,r=e))),Ca("text_direction",Tt());let a,l,{translatedText:c}=n,{sourceText:d}=n,{onClose:u}=n,{error:p}=n,m=!1;return setTimeout((()=>o(4,m=!0)),50),e.$$set=e=>{"translatedText"in e&&o(0,c=e.translatedText),"sourceText"in e&&o(7,d=e.sourceText),"onClose"in e&&o(1,u=e.onClose),"error"in e&&o(2,p=e.error)},e.$$.update=()=>{8&e.$$.dirty&&o(5,i=r&&r.isDarkMode),128&e.$$.dirty&&bt(d).then((e=>{a=e})),256&e.$$.dirty&&(l=s.selectedTargetLanguage)},[c,u,p,r,m,i,function(){t({action:"dlExternalURLRedirect",payload:{destination:Wc,sourceLang:a,targetLang:l,textToShare:d}})},d,s]}class vg extends al{constructor(e){super(),rl(this,e,_g,fg,Mr,{translatedText:0,sourceText:7,onClose:1,error:2})}}class wg{static HTML_TAG_NAME="deepl-whatsapp-translated-message";static createElement=(e=document)=>{const t=e.createElement(wg.HTML_TAG_NAME),n=new wg(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new vg({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function bg(e){let t,n,o,i,s,r,a,l;const c=[Eg,yg],d=[];function u(e,t){return e[5]?0:1}n=u(e),o=d[n]=c[n](e);let p=e[7]&&Sg(e);return{c(){t=ea("div"),o.c(),i=oa(),p&&p.c(),la(t,"class","container svelte-tz0fan"),la(t,"style",s=`\n    top: ${e[6]}px; \n    left: ${e[12]}px; \n    z-index: ${e[14]}; \n    opacity: ${e[11]};`),la(t,"dir",Tt()),ma(t,"isTranslated",e[4]),ma(t,"isHidden",e[1]),ma(t,"messageHasReactionIcon",e[8]),ma(t,"isExpanded",e[2]),ma(t,"isParentRTL",e[0])},m(o,s){Xr(o,t,s),d[n].m(t,null),Yr(t,i),p&&p.m(t,null),e[26](t),r=!0,a||(l=[sa(t,"mouseleave",e[27]),Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[16]),sa(t,"mousedown",aa(ra(e[21])))],a=!0)},p(e,a){let l=n;n=u(e),n===l?d[n].p(e,a):(Ya(),Xa(d[l],1,1,(()=>{d[l]=null})),Za(),o=d[n],o?o.p(e,a):(o=d[n]=c[n](e),o.c()),Ka(o,1),o.m(t,i)),e[7]?p?(p.p(e,a),128&a&&Ka(p,1)):(p=Sg(e),p.c(),Ka(p,1),p.m(t,null)):p&&(Ya(),Xa(p,1,1,(()=>{p=null})),Za()),(!r||6208&a&&s!==(s=`\n    top: ${e[6]}px; \n    left: ${e[12]}px; \n    z-index: ${e[14]}; \n    opacity: ${e[11]};`))&&la(t,"style",s),(!r||16&a)&&ma(t,"isTranslated",e[4]),(!r||2&a)&&ma(t,"isHidden",e[1]),(!r||256&a)&&ma(t,"messageHasReactionIcon",e[8]),(!r||4&a)&&ma(t,"isExpanded",e[2]),(!r||1&a)&&ma(t,"isParentRTL",e[0])},i(e){r||(Ka(o),Ka(p),r=!0)},o(e){Xa(o),Xa(p),r=!1},d(o){o&&Jr(t),d[n].d(),p&&p.d(),e[26](null),a=!1,Lr(l)}}}function yg(e){let t,n,o,i;t=new Jl({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",parentIsRTL:e[0],ignoreTextDirection:!0,$$slots:{default:[$g]},$$scope:{ctx:e}}});let s=e[2]&&xg(e);return{c(){ol(t.$$.fragment),n=oa(),s&&s.c(),o=ia()},m(e,r){il(t,e,r),Xr(e,n,r),s&&s.m(e,r),Xr(e,o,r),i=!0},p(e,n){const i={};1&n&&(i.parentIsRTL=e[0]),1073741828&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[2]?s?(s.p(e,n),4&n&&Ka(s,1)):(s=xg(e),s.c(),Ka(s,1),s.m(o.parentNode,o)):s&&(Ya(),Xa(s,1,1,(()=>{s=null})),Za())},i(e){i||(Ka(t.$$.fragment,e),Ka(s),i=!0)},o(e){Xa(t.$$.fragment,e),Xa(s),i=!1},d(e){sl(t,e),e&&Jr(n),s&&s.d(e),e&&Jr(o)}}}function Eg(e){let t,n;return t=new eg({props:{small:!0}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p:xr,i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function $g(e){let t,n,o;return{c(){t=ea("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><g clip-path="url(#clip0)"><path d="M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z" fill="#0F2B46"></path><path d="M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z" fill="white"></path><path d="M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z" fill="white"></path></g><defs><clipPath id="clip0"><rect width="18.5294" height="19" fill="white" transform="matrix(-1 0 0 1 18.5294 0)"></rect></clipPath></defs></svg>',la(t,"class","translateTrigger svelte-tz0fan")},m(i,s){Xr(i,t,s),n||(o=[sa(t,"mouseover",e[23]),sa(t,"click",e[15])],n=!0)},p:xr,d(e){e&&Jr(t),n=!1,Lr(o)}}}function xg(e){let t,n;return t=new Jl({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[Tg]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1073741952&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Tg(e){let t,n,o,i;return{c(){t=ea("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',la(t,"class","settingsTrigger svelte-tz0fan")},m(n,s){Xr(n,t,s),o||(i=[sa(t,"click",e[24]),sa(t,"mousedown",aa(ra(e[22])))],o=!0)},p:xr,i(e){n||Pa((()=>{n=Qa(t,vl,{x:-8,duration:600}),n.start()}))},o:xr,d(e){e&&Jr(t),o=!1,Lr(i)}}}function Sg(e){let t,n,o,i,s;return n=new dg({}),n.$on("close",e[25]),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","settingsContainer svelte-tz0fan"),ma(t,"isTop",!e[9]),ma(t,"isLeft",!e[10])},m(e,o){Xr(e,t,o),il(n,t,null),s=!0},p(e,n){(!s||512&n)&&ma(t,"isTop",!e[9]),(!s||1024&n)&&ma(t,"isLeft",!e[10])},i(e){s||(Ka(n.$$.fragment,e),Pa((()=>{s&&(i&&i.end(1),o=Qa(t,vl,{y:-10,duration:600}),o.start())})),s=!0)},o(e){Xa(n.$$.fragment,e),o&&o.invalidate(),i=el(t,vl,{y:-10,duration:600}),s=!1},d(e){e&&Jr(t),sl(n),e&&i&&i.end()}}}function Cg(e){let t,n,o=e[13]&&e[13].isWhatsAppWebEnabled&&bg(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[13]&&e[13].isWhatsAppWebEnabled?o?(o.p(e,n),8192&n&&Ka(o,1)):(o=bg(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function Lg(e,n,o){let i;Ar(e,dl,(e=>o(13,i=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let{textElement:s}=n,{messageContainer:r}=n,a=!1;const l=265,c=150,d=220;let u,p,m,g,h=!1,f=!0,_=0,v=0,w=!1,b=!1,y=!1,E=A.deepl_inline_ui.z_index,$=!0,x=!0,T=0;function S(){const e=u.parentNode.getBoundingClientRect(),t=Um(r);o(6,v=r.getBoundingClientRect().height/2),o(19,_=t.getBoundingClientRect().right-e.left);setTimeout((()=>{const t=r.querySelector('[data-icon="react"]');t&&(o(19,_=t.getBoundingClientRect().right-e.left),o(20,m=!0)),o(11,T=1),a&&o(19,_=_+-42)}),c);const n=r.querySelector('[data-a8n="reaction-bubble"]'),i=r.querySelector('[data-testid="reaction-bubble"]');o(8,y=!(!n&&!i)),window.innerHeight-e.bottom<d+v?o(9,$=!1):o(9,$=!0),r.getBoundingClientRect().right-t.getBoundingClientRect().right<l?o(10,x=!1):o(10,x=!0)}r.addEventListener("mouseover",(()=>{o(1,f=!1)}),!1),r.addEventListener("mouseout",(()=>{w||o(1,f=!0)}),!1);return e.$$set=e=>{"textElement"in e&&o(18,s=e.textElement),"messageContainer"in e&&o(17,r=e.messageContainer)},e.$$.update=()=>{1310722&e.$$.dirty&&(o(0,a=St(s.parentNode)),f||m||S()),524293&e.$$.dirty&&(console.log("isParentRTL",a),console.log("shdfL",b),o(12,g=a&&b?_-20:_))},[a,f,b,u,p,h,v,w,y,$,x,T,g,i,E,async function(){if(p)return;o(5,h=!0),o(7,w=!1);let e,n,i="";try{i=await bt(s.innerText)}catch(e){console.log(e)}try{n=await t({action:"dlRequestWhatsAppMessageTranslation",payload:{message:s.innerText,messageLang:i,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}o(4,p=e?"":n[0].text),o(5,h=!1);const a=wg.createElement();a.createDOM(p,s.innerText,(()=>{o(17,r.dataset.dlIsTranslated="false",r),setTimeout((()=>o(4,p="")),600),a.cleanupDOM(),a.remove()}),e),s.appendChild(a),o(17,r.dataset.dlIsTranslated="true",r)},function(){o(7,w=!1)},r,s,_,m,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},()=>o(2,b=!0),()=>o(7,w=!w),()=>o(7,w=!1),function(e){Ia[e?"unshift":"push"]((()=>{u=e,o(3,u)}))},()=>{w||o(2,b=!1)}]}class kg extends al{constructor(e){super(),rl(this,e,Lg,Cg,Mr,{textElement:18,messageContainer:17})}}class Mg{static HTML_TAG_NAME="deepl-whatsapp-message-in-translator";static createElement=(e=document)=>{const t=e.createElement(Mg.HTML_TAG_NAME),n=new Mg(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.mainComponent=new kg({target:this.domElement.shadowContainer,props:{textElement:e,messageContainer:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Ig(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function Ag(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!Pm(e.innerText)){const n=Mg.createElement();n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",Ig),Vl((()=>{window.removeEventListener("resize",Ig),e.disconnect()}))}class Ng{constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{throw new Error("createDOM must be defined in the child component")};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};bindChildFunctions=(e=[])=>{["createDOM","cleanupDOM",...e].forEach((e=>{this.domElement[e]=this[e]}))}}const Og="rgb(0, 0, 0)",Rg="rgb(21, 32, 43)";function Dg(e){return e===Og||e===Rg}const Pg=function(){let e={isDarkMode:Dg(document.body.style.backgroundColor)};const{subscribe:t,update:n}=cl(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:Dg(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{Vl((()=>{o.disconnect()}))})),{subscribe:t}}();function Hg(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;const f=[Gg,Ug],_=[];function v(e,t){return e[2]?0:1}return o=v(e),i=_[o]=f[o](e),{c(){t=ea("div"),n=ea("div"),i.c(),s=oa(),r=ea("div"),r.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,a=oa(),l=ea("button"),c=ta("svg"),d=ta("path"),la(r,"class","show-alternatives svelte-t50unb"),ma(r,"dark",e[4]),la(d,"d","M3 9L9 3M3 3L9 9"),la(d,"stroke",u=e[4]?"white":"#037171"),la(d,"stroke-width","1.5"),la(d,"stroke-linecap","round"),la(d,"stroke-linejoin","round"),la(c,"width","12"),la(c,"height","12"),la(c,"viewBox","0 0 12 12"),la(c,"fill","none"),la(c,"xmlns","http://www.w3.org/2000/svg"),la(l,"class","svelte-t50unb"),la(t,"class","container svelte-t50unb"),la(t,"dir",Tt()),ma(t,"dark",e[4])},m(i,u){Xr(i,t,u),Yr(t,n),_[o].m(n,null),Yr(n,s),Yr(n,r),Yr(t,a),Yr(t,l),Yr(l,c),Yr(c,d),m=!0,g||(h=[sa(r,"click",e[5]),sa(l,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)}))],g=!0)},p(a,l){let c=o;o=v(e=a),o===c?_[o].p(e,l):(Ya(),Xa(_[c],1,1,(()=>{_[c]=null})),Za(),i=_[o],i?i.p(e,l):(i=_[o]=f[o](e),i.c()),Ka(i,1),i.m(n,s)),(!m||16&l)&&ma(r,"dark",e[4]),(!m||16&l&&u!==(u=e[4]?"white":"#037171"))&&la(d,"stroke",u),(!m||16&l)&&ma(t,"dark",e[4])},i(e){m||(Ka(i),p||Pa((()=>{p=Qa(t,vl,{y:-10,duration:200}),p.start()})),m=!0)},o(e){Xa(i),m=!1},d(e){e&&Jr(t),_[o].d(),g=!1,Lr(h)}}}(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function Ug(e){let t,n;return{c(){t=ea("span"),n=na(e[0]),la(t,"class","translatedText svelte-t50unb")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){1&t&&ca(n,e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function Gg(e){let t,n;return t=new ru({props:{error:e[2]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function zg(e){let t,n,o=e[3]&&e[3].isTwitterEnabled&&Hg(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isTwitterEnabled?o?(o.p(e,n),8&n&&Ka(o,1)):(o=Hg(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function qg(e,n,o){let i,s,r;Ar(e,dl,(e=>o(3,s=e))),Ar(e,Pg,(e=>o(7,r=e))),Ca("text_direction",Tt());let a,l,{translatedText:c}=n,{sourceText:d}=n,{onClose:u}=n,{error:p}=n;return e.$$set=e=>{"translatedText"in e&&o(0,c=e.translatedText),"sourceText"in e&&o(6,d=e.sourceText),"onClose"in e&&o(1,u=e.onClose),"error"in e&&o(2,p=e.error)},e.$$.update=()=>{128&e.$$.dirty&&o(4,i=r&&r.isDarkMode),64&e.$$.dirty&&bt(d).then((e=>{a=e})),8&e.$$.dirty&&(l=s.selectedTargetLanguage)},[c,u,p,s,i,function(){t({action:"dlExternalURLRedirect",payload:{destination:Wc,sourceLang:a,targetLang:l,textToShare:d}})},d,r]}class Wg extends al{constructor(e){super(),rl(this,e,qg,zg,Mr,{translatedText:0,sourceText:6,onClose:1,error:2})}}class jg extends Ng{static HTML_TAG_NAME="deepl-twitter-translated-tweet";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(jg.HTML_TAG_NAME);return new jg(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new Wg({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function Bg(e){let t,n,o,i;const s=[Vg,Fg],r=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=ia()},m(e,n){~t&&r[t].m(e,n),Xr(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){~t&&r[t].d(e),e&&Jr(o)}}}function Fg(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;return{c(){t=ea("button"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,o=oa(),i=ta("svg"),s=ta("g"),r=ta("path"),a=ta("path"),l=ta("path"),c=ta("defs"),d=ta("clipPath"),u=ta("rect"),la(n,"class","copy svelte-qovtib"),la(r,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),la(r,"class","deepl-icon svelte-qovtib"),la(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),la(a,"fill","white"),la(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),la(l,"fill","white"),la(s,"clip-path","url(#clip0)"),la(u,"width","18.5294"),la(u,"height","19"),la(u,"fill","white"),la(u,"transform","matrix(-1 0 0 1 18.5294 0)"),la(d,"id","clip0"),la(i,"width","15"),la(i,"height","15"),la(i,"viewBox","0 0 19 19"),la(i,"fill","none"),la(i,"xmlns","http://www.w3.org/2000/svg"),la(i,"class","svelte-qovtib"),la(t,"class","tweetLink svelte-qovtib"),t.disabled=p=!!e[1],la(t,"dir",Tt()),ma(t,"dark",e[4])},m(p,h){Xr(p,t,h),Yr(t,n),Yr(t,o),Yr(t,i),Yr(i,s),Yr(s,r),Yr(s,a),Yr(s,l),Yr(i,c),Yr(c,d),Yr(d,u),m||(g=[sa(t,"keydown",e[5]),sa(t,"click",e[5])],m=!0)},p(e,n){2&n&&p!==(p=!!e[1])&&(t.disabled=p),16&n&&ma(t,"dark",e[4])},i:xr,o:xr,d(e){e&&Jr(t),m=!1,Lr(g)}}}function Vg(e){let t,n;return t=new eg({props:{small:!0}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p:xr,i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Yg(e){let t,n,o=e[0]&&e[0].isTwitterEnabled&&Bg(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isTwitterEnabled?o?(o.p(e,n),1&n&&Ka(o,1)):(o=Bg(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function Zg(e,n,o){let i,s,r;Ar(e,dl,(e=>o(0,s=e))),Ar(e,Pg,(e=>o(7,r=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let a,l,{tweetTextNode:c}=n,d=!1;return e.$$set=e=>{"tweetTextNode"in e&&o(6,c=e.tweetTextNode)},e.$$.update=()=>{if(128&e.$$.dirty&&o(4,i=r&&r.isDarkMode),1&e.$$.dirty){s.blacklistDomainsForReading.includes(window.location.hostname)?o(3,l=!1):s.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<20)return!1;const t=await bt(e);return wt(chrome.i18n.getUILanguage())!==t&&wt(s.selectedTargetLanguage)!==t}().then((e=>o(3,l=e))).catch((()=>o(3,l=!1)))}},[s,a,d,l,i,async function(){if(a)return;o(2,d=!0);let e,n,i="";try{i=await bt(c.innerText),i=Et(i)}catch(e){console.log(e)}try{n=await t({action:"dlRequestTwitterTweetTranslation",payload:{message:c.innerText,messageLang:i,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}o(1,a=e?"":n[0].text),o(2,d=!1);const s=jg.createElement();s.createDOM(a,c.innerText,(()=>{o(1,a=""),s.cleanupDOM()}),e),c.appendChild(s)},c,r]}class Kg extends al{constructor(e){super(),rl(this,e,Zg,Yg,Mr,{tweetTextNode:6})}}class Xg extends Ng{static HTML_TAG_NAME="deepl-twitter-tweet-link";static createElement=(e=document)=>{const t=e.createElement(Xg.HTML_TAG_NAME);return new Xg(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new Kg({target:this.domElement.shadowContainer,props:{tweetTextNode:e}})}}function Jg(){console.log("customizing for twitter");let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=Xg.createElement();return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),Vl((()=>e.disconnect()))}function Qg(e){let t,n;return{c(){t=ea("span"),n=na(e[0]),la(t,"class","translatedText svelte-jkt5fr")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){1&t&&ca(n,e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function eh(e){let t,n;return t=new ru({props:{error:e[2]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function th(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p;const m=[eh,Qg],g=[];function h(e,t){return e[2]?0:1}return o=h(e),i=g[o]=m[o](e),{c(){t=ea("div"),n=ea("div"),i.c(),s=oa(),r=ea("div"),r.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,a=oa(),l=ea("button"),l.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',la(r,"class","show-alternatives svelte-jkt5fr"),la(l,"class","svelte-jkt5fr"),la(t,"class","container svelte-jkt5fr"),la(t,"dir",Tt())},m(i,c){Xr(i,t,c),Yr(t,n),g[o].m(n,null),Yr(n,s),Yr(n,r),Yr(t,a),Yr(t,l),d=!0,u||(p=[sa(r,"click",e[3]),sa(l,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)}))],u=!0)},p(t,r){let a=o;o=h(e=t),o===a?g[o].p(e,r):(Ya(),Xa(g[a],1,1,(()=>{g[a]=null})),Za(),i=g[o],i?i.p(e,r):(i=g[o]=m[o](e),i.c()),Ka(i,1),i.m(n,s))},i(e){d||(Ka(i),c||Pa((()=>{c=Qa(t,vl,{y:-10,duration:200}),c.start()})),d=!0)},o(e){Xa(i),d=!1},d(e){e&&Jr(t),g[o].d(),u=!1,Lr(p)}}}(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function nh(e,n,o){let i;Ar(e,dl,(e=>o(5,i=e))),Ca("text_direction",Tt());let s,r,{translatedText:a}=n,{sourceText:l}=n,{onClose:c}=n,{error:d}=n;return e.$$set=e=>{"translatedText"in e&&o(0,a=e.translatedText),"sourceText"in e&&o(4,l=e.sourceText),"onClose"in e&&o(1,c=e.onClose),"error"in e&&o(2,d=e.error)},e.$$.update=()=>{16&e.$$.dirty&&bt(l).then((e=>{s=e})),32&e.$$.dirty&&(r=i.selectedTargetLanguage)},[a,c,d,function(){t({action:"dlExternalURLRedirect",payload:{destination:Wc,sourceLang:s,targetLang:r,textToShare:l}});try{t({action:"dlTrackUiAction",payload:{uiAction:H,nicheIntegration:Q.linkedIn}})}catch(e){console.error(e)}},l,i]}class oh extends al{constructor(e){super(),rl(this,e,nh,th,Mr,{translatedText:0,sourceText:4,onClose:1,error:2})}}class ih{static HTML_TAG_NAME="deepl-linkedin-translated-post";static createElement=(e=document)=>{const t=e.createElement(ih.HTML_TAG_NAME),n=new ih(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new oh({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function sh(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!1,pending:dh,then:ah,catch:rh,value:11,blocks:[,,,]};return function(e,t){const n=t.token={};function o(e,o,i,s){if(t.token!==n)return;t.resolved=s;let r=t.ctx;void 0!==i&&(r=r.slice(),r[i]=s);const a=e&&(t.current=e)(r);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(Ya(),Xa(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Za())})):t.block.d(1),a.c(),Ka(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[o]=a),l&&qa()}if(!(i=e)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then){if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}else{const n=$a();if(e.then((e=>{Ea(n),o(t.then,1,t.value,e),Ea(null)}),(e=>{if(Ea(n),o(t.catch,2,t.error,e),Ea(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}var i}(e[3](),o),{c(){t=ia(),o.block.c()},m(e,i){Xr(e,t,i),o.block.m(e,o.anchor=i),o.mount=()=>t.parentNode,o.anchor=t,n=!0},p(t,n){!function(e,t,n){const o=t.slice(),{resolved:i}=e;e.current===e.then&&(o[e.value]=i),e.current===e.catch&&(o[e.error]=i),e.block.p(o,n)}(o,e=t,n)},i(e){n||(Ka(o.block),n=!0)},o(e){for(let e=0;e<3;e+=1){Xa(o.blocks[e])}n=!1},d(e){e&&Jr(t),o.block.d(e),o.token=null,o=null}}}function rh(e){return{c:xr,m:xr,p:xr,i:xr,o:xr,d:xr}}function ah(e){let t,n,o=e[11]&&function(e){let t,n,o,i;const s=[ch,lh],r=[];function a(e,t){return e[0]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=ia()},m(e,n){r[t].m(e,n),Xr(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?r[t].p(e,i):(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o))},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){r[t].d(e),e&&Jr(o)}}}(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,t){e[11]&&o.p(e,t)},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function lh(e){let t,n,o,i;return{c(){t=ea("button"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("linkedin_web_translate_post_link")}`,la(n,"class","copy svelte-yc91hj"),ma(n,"active",e[1]),la(t,"class","linkedin-link svelte-yc91hj"),la(t,"dir",Tt())},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=[sa(t,"keydown",e[4]),sa(t,"click",e[4])],o=!0)},p(e,t){2&t&&ma(n,"active",e[1])},i:xr,o:xr,d(e){e&&Jr(t),o=!1,Lr(i)}}}function ch(e){let t,n,o;return n=new eg({props:{small:!0}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","spinner svelte-yc91hj"),la(t,"dir",Tt())},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p:xr,i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function dh(e){return{c:xr,m:xr,p:xr,i:xr,o:xr,d:xr}}function uh(e){let t,n,o=e[2]&&e[2][Q.linkedIn]&&sh(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[2]&&e[2][Q.linkedIn]?o?(o.p(e,n),4&n&&Ka(o,1)):(o=sh(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function ph(e,n,o){let i,s,r;Ar(e,dl,(e=>o(6,r=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let a,{linkedInPostNode:l}=n,c=!1,d=l.querySelector(".update-components-text").innerText;return e.$$set=e=>{"linkedInPostNode"in e&&o(5,l=e.linkedInPostNode)},e.$$.update=()=>{64&e.$$.dirty&&o(2,s=r.customizationsActiveStates)},o(1,i=!0),[c,i,s,async function(){if(d.length<20)return!1;const e=await bt(d);return t=e,wt(chrome.i18n.getUILanguage())!==t&&(e=>wt(r.selectedTargetLanguage)!==e)(e);var t},async function(){if(a)return;o(0,c=!0);let e,n,s="";try{s=await bt(d),s=Et(s)}catch(e){console.log(e)}try{n=await t({action:"dlRequestLinkedInPostTranslation",payload:{message:d,messageLang:s,domainName:window.location.hostname,trigger:m}})}catch(t){e=t,console.error(e)}a=e?"":n[0].text,o(0,c=!1);const r=ih.createElement();r.createDOM(a,d,(()=>{a="",o(1,i=!0),r.cleanupDOM(),r.remove()}),e),l.appendChild(r),o(1,i=!1)},l,r]}class mh extends al{constructor(e){super(),rl(this,e,ph,uh,Mr,{linkedInPostNode:5})}}class gh{static HTML_TAG_NAME="deepl-linkedin-post-link";static createElement=(e=document)=>{const t=e.createElement(gh.HTML_TAG_NAME),n=new gh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{this.domElement.mainComponent=new mh({target:this.domElement.shadowContainer,props:{linkedInPostNode:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const hh=()=>document.body.querySelectorAll(".feed-shared-update-v2__description-wrapper"),fh=e=>{const t=gh.createElement();t.createDOM(e),e.appendChild(t)};function _h(){let e=new MutationObserver((()=>{!function(){const e=hh();for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText))return void fh(t)}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),Vl((()=>e.disconnect()))}function vh(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}function wh(e){switch(e){case R.inputTranslationTriggerIcon:return 1;case R.inlineTranslationTriggerIcon:return 2;case R.inlineTranslationSettingPopup:return 3;case R.inputTranslationSettingPopup:return 4;case R.settingsPageFPT:return 5;case R.settingsPageReading:return 6;case R.settingsPageWriting:return 7;case R.fptHideModal:return 8;case R.inputTranslationSettingsIcon:return 9;case R.inlineTranslationSettingsIcon:return 10;case R.inputTranslationReadMoreLink:return 11;case R.inlineTranslationReadMoreLink:return 12;case R.fptTranslationReadMoreLink:return 13;case R.extensionHubToggleSwitch:return 14;case R.hubCustomizeShortcut:return 15;case R.hubLoginButton:return 16;case R.hubUpgradeToProLink:return 17;case R.hubTryProLink:return 18;case R.settingsPageCustomizeShortcutButton:return 19;case R.hubFPTEnableCheckbox:return 20;case R.hubFPTDisableCheckbox:return 21;case R.deeplWriteIcon:return 22;case R.hubViewIntegrations:return 23;case R.hubCloseCustomizationsWidget:return 24;case R.gmailOnboardingPopup:return 25;case R.gmailOnboardingIcon:return 26;case R.gmailCharLimitLogin:return 27;case R.gmailFeedbackSurvey:return 28;case R.gslidesFeedbackSurvey:return 29;case R.gslidesCharLimitLogin:return 30;case R.zendeskTryProLink:return 31;case R.settingsPageIntegrations:return 32;case R.onboardingSignUp:return 33;case R.onboardingSkipSignUp:return 34;case R.onboardingLoginLink:return 35;case R.onboardingSeeAllIntegrations:return 36;case R.inputImproveTriggerIcon:return 37;case R.iconToggleInHubTranslator:return 38;case R.iconToggleInHubWrite:return 39;case R.manageIconSettings:return 40;case R.writeLanguageSwitchedInHub:return 41;case R.writeLanguageSwitchedInSettings:return 42;default:return 0}}function bh(e){switch(e){case V.chrome:return F.chrome;case V.edge:return F.edge;case V.firefox:return F.firefox;case V.local:return F.local;default:return F.unspecified}}function yh(e){switch(e){case he.free:return 1;case he.pro:return 2;case he.none:return 3;default:return 0}}function Eh(e){switch(e){case Me.READING_VIEW_TRANSLATE:return 1;case Me.COMPOSE_VIEW_TRANSLATE:return 2;case Me.COMPOSE_VIEW_IMPROVE:return 3;default:return 0}}function $h(e){switch(e){case ze.none:return 1;case ze.pro:return 2;case ze.free:return 3;default:return 0}}async function xh(e){let t,n,o,i,s,r,a,l,c,d=!1;try{const e=await kh(["session","installationId"]);n=e.session.id,t=e.installationId}catch(e){console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=await async function(){return await chrome.storage.local.get(["isLoggedIn","isProUser","sessionType","translatorServiceType","writeServiceType","apiServiceType","docTranslatorServiceType","accountId","hasTermbaseService"])}();d=!!e.accountId,o=yh(e.translatorServiceType),i=yh(e.apiServiceType),s=yh(e.docTranslatorServiceType),c=yh(e.writeServiceType),a=d?2===o||2===i||2===c||2===s?h.loggedInPro:h.loggedInFree:h.notLoggedIn,l=e.sessionType?$h(e.sessionType):$h(ze.none)}catch(e){console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{r=await async function(){return(await chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}()}catch(e){console.error(e)}const u=Ke(),p=await async function(){let e=[];try{e=await async function(){try{const e=await async function(e,t){Sh||await new Promise(((e,t)=>{let n=indexedDB.open(Ch,1);n.onerror=function(){t("Error creating database.")},n.onsuccess=function(t){Sh=t.target.result,e()},n.onupgradeneeded=function(t){Sh=t.target.result,Sh.objectStoreNames.contains(Lh)||Sh.createObjectStore(Lh,{keyPath:"id"}),e()}}));return new Promise(((n,o)=>{let i=Sh.transaction(t,"readonly").objectStore(t).get(e);i.onerror=function(e){o(e)},i.onsuccess=function(){i.result?n(i.result):n(null)}}))}("dlexperiments",Lh);return e&&e.meta&&e.data?e.data:[]}catch(e){return[]}}()}catch(e){}if(!e||0===e.length)return[];return e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})))}(),m={eventId:void 0,extensionVersion:"1.20.1",sessionId:n,sessionType:l,installationId:t,browserInstanceId:r,originStore:bh(chrome.runtime.id),userInfos:{userType:a,translatorServiceType:o,apiServiceType:i,docTranslatorServiceType:s,writeServiceType:c},userAgent:u.userAgent,platform:u.platform,browser:u.browser,browserVersion:u.browserVersion,browserLang:u.browserLang,clientExperiments:p},g=e?e(m):m;return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${g.eventId} request failed: ${e}`)}))}async function Th(){if(!await async function(){const e=await chrome.storage.local.get(["isLoggedIn"]);return!(!e||!e.isLoggedIn)}())return;const e=await async function(){const e=await chrome.storage.local.get(["accountId","a_t","i_t"]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=vh(e.a_t),n=vh(e.i_t);return t.sub||n.sub}}();return xh((t=>({...t,eventId:60067,accountData:{accountUuid:e}})))}let Sh;const Ch="dlBrowserExtension",Lh="dlCache";async function kh(e){if(e.includes("session")){const e=await chrome.storage.sync.get(["session"]);e&&!e.session&&await async function(){const e=crypto.randomUUID();await chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{await Th()}catch(e){console.error(e)}}()}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}function Mh(e){let t,n,o;return{c(){t=ea("div"),la(t,"type","button"),la(t,"class","dl-menu-icon dl-menu-icon--user svelte-xuw3uk")},m(i,s){Xr(i,t,s),n||(o=sa(t,"mousedown",ra(e[14])),n=!0)},d(e){e&&Jr(t),n=!1,o()}}}function Ih(e){let t,n,o,i,s,r,a,l,c,d=jt();function u(e,t){return!0===e[1].isLoggedIn?Nh:Ah}let p=u(e),m=p&&p(e),g=d&&function(e){let t,n,o;return{c(){t=ea("button"),t.textContent="DEV_TOOLS",la(t,"class","dl-menu-item svelte-xuw3uk")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[8]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}(e);return{c(){t=ea("div"),n=ea("button"),n.innerHTML='<span class="dl-menu-link dl-feedback-link svelte-xuw3uk"><div>Share feedback</div> \n          \n          \n          <div class="dl-feedback-icon svelte-xuw3uk"></div></span>',o=oa(),i=ea("button"),i.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,s=oa(),m&&m.c(),r=oa(),g&&g.c(),la(n,"class","dl-menu-item svelte-xuw3uk"),la(i,"class","dl-menu-item svelte-xuw3uk"),la(t,"class","dl-menu-list svelte-xuw3uk")},m(a,d){Xr(a,t,d),Yr(t,n),Yr(t,o),Yr(t,i),Yr(t,s),m&&m.m(t,null),Yr(t,r),g&&g.m(t,null),l||(c=[sa(n,"click",e[6]),sa(i,"click",e[9])],l=!0)},p(e,n){p===(p=u(e))&&m?m.p(e,n):(m&&m.d(1),m=p&&p(e),m&&(m.c(),m.m(t,r))),d&&g.p(e,n)},i(e){a||Pa((()=>{a=Qa(t,vl,{y:-5,duration:500}),a.start()}))},o:xr,d(e){e&&Jr(t),m&&m.d(),g&&g.d(),l=!1,Lr(c)}}}function Ah(e){let t,n,o,i,s,r,a,l,c;return{c(){t=ea("div"),t.innerHTML='<div class="divider svelte-xuw3uk"></div>',n=oa(),o=ea("button"),i=ea("span"),i.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,s=oa(),r=ea("button"),a=ea("span"),a.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,la(t,"class","dl-menu-item dl-menu-item--divider svelte-xuw3uk"),la(o,"class","dl-menu-item svelte-xuw3uk"),la(a,"class","dl-menu-link link svelte-xuw3uk"),la(r,"class","dl-menu-item svelte-xuw3uk")},m(d,u){Xr(d,t,u),Xr(d,n,u),Xr(d,o,u),Yr(o,i),Xr(d,s,u),Xr(d,r,u),Yr(r,a),l||(c=[sa(o,"click",e[4]),sa(r,"click",e[5])],l=!0)},p:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o),e&&Jr(s),e&&Jr(r),l=!1,Lr(c)}}}function Nh(e){let t,n,o,i,s,r;return{c(){t=ea("div"),t.innerHTML='<div class="divider svelte-xuw3uk"></div>',n=oa(),o=ea("button"),i=ea("span"),i.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,la(t,"class","dl-menu-item dl-menu-item--divider svelte-xuw3uk"),la(o,"class","dl-menu-item svelte-xuw3uk")},m(a,l){Xr(a,t,l),Xr(a,n,l),Xr(a,o,l),Yr(o,i),s||(r=sa(o,"click",e[3]),s=!0)},p:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o),s=!1,r()}}}function Oh(e){let t,n,o,i,s,r,a,l,c,d=!0===e[1].isLoggedIn&&Mh(e),u=e[0]&&Ih(e);return{c(){t=ea("div"),n=ea("div"),d&&d.c(),o=oa(),i=ea("button"),s=oa(),r=ea("button"),a=oa(),u&&u.c(),la(i,"type","button"),la(i,"class","dl-menu-icon dl-menu-icon--settings svelte-xuw3uk"),la(i,"aria-label",chrome.i18n.getMessage("menu_open_settings")),la(r,"type","button"),la(r,"class","dl-menu-icon dl-menu-icon--hamburger svelte-xuw3uk"),la(r,"aria-label",chrome.i18n.getMessage("menu_open_menu")),ma(r,"isOpen",e[0]),la(n,"class","dl-menu-icon-wrapper svelte-xuw3uk"),la(t,"class","dl-container-menu svelte-xuw3uk")},m(p,m){Xr(p,t,m),Yr(t,n),d&&d.m(n,null),Yr(n,o),Yr(n,i),Yr(n,s),Yr(n,r),Yr(t,a),u&&u.m(t,null),l||(c=[sa(i,"mousedown",ra(e[13])),sa(i,"click",e[15]),sa(r,"mousedown",ra(e[12])),sa(r,"click",e[16]),sa(n,"mousedown",aa(ra(e[11]))),Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[7]),sa(t,"mousedown",aa(ra(e[10])))],l=!0)},p(e,[i]){!0===e[1].isLoggedIn?d||(d=Mh(e),d.c(),d.m(n,o)):d&&(d.d(1),d=null),1&i&&ma(r,"isOpen",e[0]),e[0]?u?(u.p(e,i),1&i&&Ka(u,1)):(u=Ih(e),u.c(),Ka(u,1),u.m(t,null)):u&&(u.d(1),u=null)},i(e){Ka(u)},o:xr,d(e){e&&Jr(t),d&&d.d(),u&&u.d(),l=!1,Lr(c)}}}function Rh(e,n,o){let i;const s=La("deepl_settings");Ar(e,s,(e=>o(1,i=e)));let r=!1;function a(){o(0,r=!1)}function l(){t({action:"dlOpenInternalPage",payload:{destination:tg.settings_page}}),a()}return[r,i,s,function(){t({action:"dlRequestLogout"}),t({action:"dlTrackUiAction",payload:{uiAction:G}}),a()},function(){t({action:"dlRequestLogin"}),a()},function(){t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"menu"}}),a()},function(){t({action:"dlExternalURLRedirect",payload:{destination:Xe()?Qc:Gc}}),a()},a,function(){t({action:"dlOpenInternalPage",payload:{destination:tg.developer_tools}}),a()},l,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},()=>{l()},()=>{o(0,r=!r)}]}class Dh extends al{constructor(e){super(),rl(this,e,Rh,Oh,Mr,{})}}function Ph(e){let t,n;return{c(){t=ea("div"),la(t,"class",n=Hr(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),la(t,"style",e[2])},m(e,n){Xr(e,t,n)},p(e,o){1&o&&n!==(n=Hr(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&la(t,"class",n)},i:xr,o:xr,d(e){e&&Jr(t)}}}function Hh(e){let t,n;return t=new Jl({props:{tooltip:e[1],zIndex:"5",$$slots:{default:[Uh]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=e[1]),257&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Uh(e){let t,n;return{c(){t=ea("div"),la(t,"class",n=Hr(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),la(t,"style",e[2])},m(e,n){Xr(e,t,n)},p(e,o){1&o&&n!==(n=Hr(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&la(t,"class",n)},d(e){e&&Jr(t)}}}function Gh(e){let t,n,o,i;const s=[Hh,Ph],r=[];function a(e,t){return e[1]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=ia()},m(e,n){r[t].m(e,n),Xr(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?r[t].p(e,i):(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o))},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){r[t].d(e),e&&Jr(o)}}}function zh(e,t,n){let o,{write:i=!1}=t,{translator:s=!1}=t,{size:r=20}=t,{marginStart:a=0}=t,{marginEnd:l=0}=t,{alternateColor:c}=t;const d=`height: ${r}px; width: ${r}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;return i?o=chrome.i18n.getMessage("tooltip_write_fully_encrypted"):s&&(o=chrome.i18n.getMessage("tooltip_translator_fully_encrypted")),e.$$set=e=>{"write"in e&&n(3,i=e.write),"translator"in e&&n(4,s=e.translator),"size"in e&&n(5,r=e.size),"marginStart"in e&&n(6,a=e.marginStart),"marginEnd"in e&&n(7,l=e.marginEnd),"alternateColor"in e&&n(0,c=e.alternateColor)},[c,o,d,i,s,r,a,l]}class qh extends al{constructor(e){super(),rl(this,e,zh,Gh,Mr,{write:3,translator:4,size:5,marginStart:6,marginEnd:7,alternateColor:0})}}function Wh(e){let t;return{c(){t=ea("div"),la(t,"class","dl-logo svelte-52aihm")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function jh(e){let t,n,o;return{c(){t=ea("button"),la(t,"class","dl-logo dl-logo--clickable svelte-52aihm"),la(t,"aria-label",chrome.i18n.getMessage("deepl_logo"))},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[13]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function Bh(e){let t,n,o=e[6]===ee.translate&&Fh(),i=e[6]===ee.write&&Vh();return{c(){o&&o.c(),t=oa(),i&&i.c(),n=ia()},m(e,s){o&&o.m(e,s),Xr(e,t,s),i&&i.m(e,s),Xr(e,n,s)},p(e,s){e[6]===ee.translate?o?o.p(e,s):(o=Fh(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[6]===ee.write?i?i.p(e,s):(i=Vh(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){o&&o.d(e),e&&Jr(t),i&&i.d(e),e&&Jr(n)}}}function Fh(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,la(t,"class","translator-name svelte-52aihm")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Vh(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,la(t,"class","translator-name svelte-52aihm")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Yh(e){let t,n;return t=new qh({props:{size:24,write:e[6]===ee.write,translator:e[6]===ee.translate}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.write=e[6]===ee.write),64&n&&(o.translator=e[6]===ee.translate),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Zh(e){let t,n,o,i;return o=new ap({props:{value:e[10].selectedTargetLanguage,websiteSettings:e[4],customClass:"dropdown__wrapper--header",fontSize:"sm"}}),o.$on("selection",e[17]),{c(){t=ea("div"),n=ea("div"),ol(o.$$.fragment),la(n,"class","dl-actions-language-selector__dropdown svelte-52aihm"),la(t,"class","dl-actions-language-selector svelte-52aihm")},m(e,s){Xr(e,t,s),Yr(t,n),il(o,n,null),i=!0},p(e,t){const n={};1024&t&&(n.value=e[10].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),o.$set(n)},i(e){i||(Ka(o.$$.fragment,e),i=!0)},o(e){Xa(o.$$.fragment,e),i=!1},d(e){e&&Jr(t),sl(o)}}}function Kh(e){let t,n,o;return{c(){t=ea("button"),la(t,"class","dl-settings-icon svelte-52aihm"),la(t,"data-qa","deepl-layour-header-settings-link")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[14]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function Xh(e){let t,n;return t=new Dh({}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Jh(e){let t,n,o;return{c(){t=ea("button"),la(t,"type","button"),la(t,"class","dl-close-icon svelte-52aihm")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Jr(t),n=!1,o()}}}function Qh(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;let g=function(e,t){return e[13]?jh:Wh}(e),h=g(e),f=e[9]&&Bh(e),_=e[8]&&Yh(e),v=e[6]===ee.translate&&e[2]&&e[10]&&e[4]&&Zh(e),w=e[7]&&Kh(e),b=e[1]&&Xh(),y=e[0]&&Jh(e);return{c(){t=ea("div"),n=ea("div"),h.c(),o=oa(),f&&f.c(),i=oa(),_&&_.c(),s=oa(),r=ea("div"),v&&v.c(),a=oa(),w&&w.c(),l=oa(),b&&b.c(),c=oa(),y&&y.c(),la(n,"class","logo-translator-name-container svelte-52aihm"),la(r,"class","dl-actions svelte-52aihm"),la(t,"class",d=Hr("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-52aihm")},m(d,g){Xr(d,t,g),Yr(t,n),h.m(n,null),Yr(n,o),f&&f.m(n,null),Yr(n,i),_&&_.m(n,null),Yr(t,s),Yr(t,r),v&&v.m(r,null),Yr(r,a),w&&w.m(r,null),Yr(r,l),b&&b.m(r,null),Yr(r,c),y&&y.m(r,null),u=!0,p||(m=sa(t,"mousedown",aa(ra(e[16]))),p=!0)},p(e,[o]){h.p(e,o),e[9]?f?f.p(e,o):(f=Bh(e),f.c(),f.m(n,i)):f&&(f.d(1),f=null),e[8]?_?(_.p(e,o),256&o&&Ka(_,1)):(_=Yh(e),_.c(),Ka(_,1),_.m(n,null)):_&&(Ya(),Xa(_,1,1,(()=>{_=null})),Za()),e[6]===ee.translate&&e[2]&&e[10]&&e[4]?v?(v.p(e,o),1108&o&&Ka(v,1)):(v=Zh(e),v.c(),Ka(v,1),v.m(r,a)):v&&(Ya(),Xa(v,1,1,(()=>{v=null})),Za()),e[7]?w?w.p(e,o):(w=Kh(e),w.c(),w.m(r,l)):w&&(w.d(1),w=null),e[1]?b?2&o&&Ka(b,1):(b=Xh(),b.c(),Ka(b,1),b.m(r,c)):b&&(Ya(),Xa(b,1,1,(()=>{b=null})),Za()),e[0]?y?y.p(e,o):(y=Jh(e),y.c(),y.m(r,null)):y&&(y.d(1),y=null),(!u||4&o&&d!==(d=Hr("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-52aihm"))&&la(t,"class",d)},i(e){u||(Ka(_),Ka(v),Ka(b),u=!0)},o(e){Xa(_),Xa(v),Xa(b),u=!1},d(e){e&&Jr(t),h.d(),f&&f.d(),_&&_.d(),v&&v.d(),w&&w.d(),b&&b.d(),y&&y.d(),p=!1,m()}}}function ef(e,n,o){let i,s,r=xr,a=()=>(r(),r=Ir(f,(e=>o(18,i=e))),f),c=xr,d=()=>(c(),c=Ir(h,(e=>o(10,s=e))),h);e.$$.on_destroy.push((()=>r())),e.$$.on_destroy.push((()=>c()));let{closeWindow:p}=n,{showMenu:m=!1}=n,{showLangSelect:g=!1}=n,{settings:h}=n;d();let{websiteSettings:f}=n;a();let{extensionContext:_=0}=n,{platformBehaviour:v=Q.default}=n,{textProcessingMode:w=ee.translate}=n,{showSettingsIcon:b=!0}=n,{showProStatus:y=!1}=n,{showServiceName:E=!1}=n;async function $(e){await h.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),f.update({translationState:l.ongoingTranslation}),t({action:"dlRequestInlineTranslation",payload:{requests:[{text:i.originalSnippet}],domainName:window.location.hostname,trigger:u,sourceLang:"auto",websiteLanguage:i.websiteLanguage}}).then((e=>{f.update({translationState:l.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{f.update({translationState:l.none,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}async function x(e){await h.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e.value)}return e.$$set=e=>{"closeWindow"in e&&o(0,p=e.closeWindow),"showMenu"in e&&o(1,m=e.showMenu),"showLangSelect"in e&&o(2,g=e.showLangSelect),"settings"in e&&d(o(3,h=e.settings)),"websiteSettings"in e&&a(o(4,f=e.websiteSettings)),"extensionContext"in e&&o(15,_=e.extensionContext),"platformBehaviour"in e&&o(5,v=e.platformBehaviour),"textProcessingMode"in e&&o(6,w=e.textProcessingMode),"showSettingsIcon"in e&&o(7,b=e.showSettingsIcon),"showProStatus"in e&&o(8,y=e.showProStatus),"showServiceName"in e&&o(9,E=e.showServiceName)},[p,m,g,h,f,v,w,b,y,E,s,$,x,function(){let e=jc;t({action:"dlTrackLogoClickedEvent",payload:{extensionContext:_}}),w===ee.write&&(e=Bc),t({action:"dlExternalURLRedirect",payload:{destination:e,utmContent:"gdocs_logo"}})},function(){t({action:"dlOpenInternalPage",payload:{destination:tg.settings_page}})},_,function(t){ka.call(this,e,t)},e=>{switch(v){case Q.gdocs:x(e.detail.selectedOption);break;case Q.default:default:$(e.detail.selectedOption)}}]}class tf extends al{constructor(e){super(),rl(this,e,ef,Qh,Mr,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:15,platformBehaviour:5,textProcessingMode:6,showSettingsIcon:7,showProStatus:8,showServiceName:9})}}function nf(e){let t,n;return t=new tf({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],textProcessingMode:e[8],showSettingsIcon:e[9],showProStatus:e[10],showServiceName:e[11]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.textProcessingMode=e[8]),512&n&&(o.showSettingsIcon=e[9]),1024&n&&(o.showProStatus=e[10]),2048&n&&(o.showServiceName=e[11]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function of(e){let t,n,o,i,s,r=e[3]&&nf(e);const a=e[14].default,l=Nr(a,e,e[13],null);return{c(){t=ea("div"),r&&r.c(),n=oa(),o=ea("div"),l&&l.c(),la(o,"class","dl-content svelte-jwy61a"),la(t,"class",i=Hr(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"),la(t,"translate","no"),la(t,"dir",e[12])},m(e,i){Xr(e,t,i),r&&r.m(t,null),Yr(t,n),Yr(t,o),l&&l.m(o,null),s=!0},p(e,[o]){e[3]?r?(r.p(e,o),8&o&&Ka(r,1)):(r=nf(e),r.c(),Ka(r,1),r.m(t,n)):r&&(Ya(),Xa(r,1,1,(()=>{r=null})),Za()),l&&l.p&&(!s||8192&o)&&Dr(l,a,e,e[13],s?Rr(a,e[13],o,null):Pr(e[13]),null),(!s||4&o&&i!==(i=Hr(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"))&&la(t,"class",i)},i(e){s||(Ka(r),Ka(l,e),s=!0)},o(e){Xa(r),Xa(l,e),s=!1},d(e){e&&Jr(t),r&&r.d(),l&&l.d(e)}}}function sf(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=La("text_direction");let{closeWindow:r}=t,{showMenu:a=!1}=t,{showLangSelect:l=!1}=t,{withHeader:c=!0}=t,{settings:d}=t,{websiteSettings:u}=t,{extensionContext:p}=t,{platformBehaviour:m=Q.default}=t,{textProcessingMode:g=ee.translate}=t,{showSettingsIcon:h=!0}=t,{showProStatus:f=!1}=t,{showServiceName:_=!1}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,r=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,l=e.showLangSelect),"withHeader"in e&&n(3,c=e.withHeader),"settings"in e&&n(4,d=e.settings),"websiteSettings"in e&&n(5,u=e.websiteSettings),"extensionContext"in e&&n(6,p=e.extensionContext),"platformBehaviour"in e&&n(7,m=e.platformBehaviour),"textProcessingMode"in e&&n(8,g=e.textProcessingMode),"showSettingsIcon"in e&&n(9,h=e.showSettingsIcon),"showProStatus"in e&&n(10,f=e.showProStatus),"showServiceName"in e&&n(11,_=e.showServiceName),"$$scope"in e&&n(13,i=e.$$scope)},[r,a,l,c,d,u,p,m,g,h,f,_,s,i,o]}class rf extends al{constructor(e){super(),rl(this,e,sf,of,Mr,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,textProcessingMode:8,showSettingsIcon:9,showProStatus:10,showServiceName:11})}}function af(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=ea("div"),n=ea("input"),o=oa(),i=ea("div"),s=oa(),r=ea("label"),a=na(e[3]),la(n,"id",e[1]),la(n,"name",e[4]),la(n,"type","radio"),n.checked=e[2],la(n,"data-qa",e[6]),la(n,"class","svelte-1jny8vu"),la(i,"class","radio-icon svelte-1jny8vu"),la(r,"for",e[1]),la(r,"class","svelte-1jny8vu"),la(t,"class",l=Hr(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1jny8vu")},m(l,u){Xr(l,t,u),Yr(t,n),da(n,e[0]),Yr(t,o),Yr(t,i),Yr(t,s),Yr(t,r),Yr(r,a),c||(d=[sa(n,"change",e[10]),sa(n,"change",e[8]),sa(n,"mousedown",aa(ra(e[9]))),sa(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&la(n,"id",e[1]),16&o&&la(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&la(n,"data-qa",e[6]),1&o&&da(n,e[0]),8&o&&ca(a,e[3]),2&o&&la(r,"for",e[1]),36&o&&l!==(l=Hr(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1jny8vu")&&la(t,"class",l)},i:xr,o:xr,d(e){e&&Jr(t),c=!1,Lr(d)}}}function lf(e,t,n){let{id:o}=t,{checked:i=!1}=t,{label:s=""}=t,{value:r=""}=t,{name:a=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,i=e.checked),"label"in e&&n(3,s=e.label),"value"in e&&n(0,r=e.value),"name"in e&&n(4,a=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[r,o,i,s,a,l,c,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(){r=this.value,n(0,r)}]}class cf extends al{constructor(e){super(),rl(this,e,lf,af,Mr,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}function df(e){let t,n,o;return n=new rf({props:{withHeader:!1,$$slots:{default:[uf]},$$scope:{ctx:e}}}),{c(){t=ea("div"),ol(n.$$.fragment)},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,t){const o={};524297&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function uf(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new cf({props:{name:"disable_inline_translation",id:z.disablePerSite,value:z.disablePerSite,cssClassName:"radio--with-border",checked:e[3]===z.disablePerSite,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[12]),d=new cf({props:{name:"disable_inline_translation",id:z.disableEverywhere,value:z.disableEverywhere,cssClassName:"radio--with-border",checked:e[3]===z.disableEverywhere,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[13]),{c(){t=ea("div"),n=ea("button"),o=oa(),i=ea("div"),s=ea("p"),s.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,r=oa(),a=ea("div"),ol(l.$$.fragment),c=oa(),ol(d.$$.fragment),u=oa(),p=ea("div"),m=ea("span"),m.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,g=oa(),h=ea("button"),f=na(y),la(n,"type","button"),la(n,"class","close-icon svelte-1i225gi"),la(t,"class","header svelte-1i225gi"),la(s,"class","font-bold svelte-1i225gi"),la(a,"class","option-container svelte-1i225gi"),la(m,"class","link svelte-1i225gi"),la(m,"data-qa","close-settings-popup-link"),la(h,"class",_=Hr("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-1i225gi"),la(h,"data-qa","save-settings-change-button"),la(p,"class","action-container svelte-1i225gi"),la(i,"class","dl-widget svelte-1i225gi")},m(_,y){Xr(_,t,y),Yr(t,n),Xr(_,o,y),Xr(_,i,y),Yr(i,s),Yr(i,r),Yr(i,a),il(l,a,null),Yr(a,c),il(d,a,null),Yr(i,u),Yr(i,p),Yr(p,m),Yr(p,g),Yr(p,h),Yr(h,f),v=!0,w||(b=[sa(n,"click",aa(ra((function(){kr(e[0])&&e[0].apply(this,arguments)})))),sa(t,"mousedown",aa(ra(e[11]))),sa(m,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),sa(h,"click",aa(ra(e[6]))),sa(i,"mousedown",aa(ra(e[10])))],w=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===z.disablePerSite),l.$set(o);const i={};8&n&&(i.checked=e[3]===z.disableEverywhere),d.$set(i),(!v||8&n&&_!==(_=Hr("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-1i225gi"))&&la(h,"class",_)},i(e){v||(Ka(l.$$.fragment,e),Ka(d.$$.fragment,e),v=!0)},o(e){Xa(l.$$.fragment,e),Xa(d.$$.fragment,e),v=!1},d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i),sl(l),sl(d),w=!1,Lr(b)}}}function pf(e){let t,n,o,i,s=e[4].enableInlineTranslation&&df(e);return{c(){t=ea("div"),s&&s.c(),la(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-1i225gi"),la(t,"data-qa","deepl-inline-settings-tooltip"),la(t,"style",e[2]),la(t,"dir",Tt())},m(r,a){Xr(r,t,a),s&&s.m(t,null),e[14](t),n=!0,o||(i=[Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[15])],o=!0)},p(e,[o]){e[4].enableInlineTranslation?s?(s.p(e,o),16&o&&Ka(s,1)):(s=df(e),s.c(),Ka(s,1),s.m(t,null)):s&&(Ya(),Xa(s,1,1,(()=>{s=null})),Za()),(!n||4&o)&&la(t,"style",e[2])},i(e){n||(Ka(s),n=!0)},o(e){Xa(s),n=!1},d(n){n&&Jr(t),s&&s.d(),e[14](null),o=!1,Lr(i)}}}function mf(e,n,o){let i;Ar(e,dl,(e=>o(4,i=e))),Ca("text_direction",Tt());let s,r,a,{closeTooltip:l}=n,{replaceElement:c}=n,d="visibility: hidden; opacity:0; height:0;",u="";function p(e){o(3,u=e)}xa((()=>{setTimeout((()=>{o(2,d="")}),100),a=Ql(s,(({clientHeight:e})=>{o(9,r=e)}))})),Ta((()=>{a&&a()}));return e.$$set=e=>{"closeTooltip"in e&&o(0,l=e.closeTooltip),"replaceElement"in e&&o(8,c=e.replaceElement)},e.$$.update=()=>{768&e.$$.dirty&&c(r)},[l,s,d,u,i,p,function(){if(!u)return;switch(u){case z.disableEverywhere:dl.set({enableInlineTranslation:!1}),t({action:"dlTrackSettingChanged",payload:{settingType:z.disableEverywhere,domainName:window.location.hostname,uiFunction:W,uiLocation:R.inlineTranslationSettingPopup}});break;case z.disablePerSite:!function(){let e=i.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),dl.set({blacklistDomainsForReading:e}),t({action:"dlTrackSettingChanged",payload:{settingType:z.disablePerSite,domainName:window.location.hostname,uiFunction:W,uiLocation:R.inlineTranslationSettingPopup}}))}()}let e=Dm(window.location.hostname,["www."]);l(),t({action:"dlSendNotification",payload:{type:N.inlineTranslation,options:{theme:O.green_theme,currentDomain:e,saveAction:u,settingsPageURL:tg.settings_reading}}})},function(e){o(3,u=e.currentTarget.value)},c,r,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},()=>p(z.disablePerSite),()=>p(z.disableEverywhere),function(e){Ia[e?"unshift":"push"]((()=>{s=e,o(1,s)}))},()=>l()]}class gf extends al{constructor(e){super(),rl(this,e,mf,pf,Mr,{closeTooltip:0,replaceElement:8})}}class hf{static HTML_TAG_NAME="deepl-inline-translate-settings-tooltip";static createElement=(e=document)=>{const t=e.createElement(hf.HTML_TAG_NAME),n=new hf(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t)=>{const{deepl_inline_ui:n}=A;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.domElement.shadowContainer.appendChild(this.domElement.container);const i=e?.top,s=window.innerHeight-(e?.bottom||0);let r="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),a=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new gf({target:this.domElement.container,props:{closeTooltip:t,replaceElement:t=>{const d=i>o;s>o?l=e.y+8:d&&(l=e.y-30-t-4),s<o&&i<o&&(r=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,a=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.domElement.container.style.top=`${parseInt(l)}px`,this.domElement.container.style.left=`${parseInt(c)}px`}}})};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const ff={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60},_f=e=>({top:e?.selectedTop,bottom:window.innerHeight-e?.selectedBottom,right:e?.selectedRight,left:e?.selectedLeft}),vf=e=>{const{coords:t,clientHeight:n}=e,o=_f(t),i={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(i))if(e.isPossible)return e.position},wf=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},bf=(e,t,n)=>{const{coords:o,clientHeight:i,style:s,TOOLTIP_WIDTH:r,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":s.top=o.y-o.height-i-2-a-n.y+"px",s.left=wf(t)-n.x+"px";break;case"bottom":s.top=o.y+2+a-n.y+"px",s.left=wf(t)-n.x+"px";break;case"left":s.top=vf(t)-n.y+"px",s.left=o.x-r-2-n.x+"px";break;case"right":s.top=vf(t)-n.y+"px",s.left=o.x+o.selectedWidth+2-n.x+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px",s.left=window.innerWidth/2-r/2-n.x+"px"}},yf=(e,t,n)=>{const{coords:o,clientHeight:i,TOOLTIP_WIDTH:s,style:r}=t;switch(r.left=o.x-s-10-n.x+"px",e){case"top":r.top=o.y-i-n.y+"px";break;case"bottom":r.top=o.y-o.height-n.y+"px";break;default:r.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px"}},Ef=(e,t)=>{const n=$f(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},$f=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,i=_f(o);return{left:i.left>t,right:i.right>t,bottom:i.bottom>n,top:i.top>n}};function xf(e){return e&&function(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}(e).replaceAll("\n","<br />")}const Tf=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),Sf=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);function Cf(e){let t,n,o,i,s,r,a,l,c;return{c(){t=ea("div"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=oa(),i=ea("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,la(n,"class","list-entry svelte-h9gtq7"),la(n,"data-qa","dl-toolbar-listener-button-target-lang"),ma(n,"dl-entry-notAvaiable",!e[0]),la(i,"class","list-entry svelte-h9gtq7"),la(i,"data-qa","dl-toolbar-listener-button-source-lang"),ma(i,"dl-entry-notAvaiable",!e[1]),la(t,"class","listen-list svelte-h9gtq7"),la(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,r){Xr(s,t,r),Yr(t,n),Yr(t,o),Yr(t,i),a=!0,l||(c=[sa(n,"click",(function(){kr(e[3](e[4].translatedSnippet,e[5].selectedTargetLanguage))&&e[3](e[4].translatedSnippet,e[5].selectedTargetLanguage).apply(this,arguments)})),sa(i,"click",(function(){kr(e[3](e[4].originalSnippet,e[4].websiteLanguage))&&e[3](e[4].originalSnippet,e[4].websiteLanguage).apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!a||1&o)&&ma(n,"dl-entry-notAvaiable",!e[0]),(!a||2&o)&&ma(i,"dl-entry-notAvaiable",!e[1])},i(e){a||(Pa((()=>{a&&(r&&r.end(1),s=Qa(t,vl,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=el(t,vl,{y:-5,duration:500}),a=!1},d(e){e&&Jr(t),e&&r&&r.end(),l=!1,Lr(c)}}}function Lf(e,t,n){let o,i,s=xr,r=()=>(s(),s=Ir(c,(e=>n(4,o=e))),c);Ar(e,dl,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>s()));let{isAvailableSelectedTargetLang:a}=t,{isAvailableSourceLang:l}=t,{websiteSettings:c}=t;r();let{listen:d=(()=>{})}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,a=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,l=e.isAvailableSourceLang),"websiteSettings"in e&&r(n(2,c=e.websiteSettings)),"listen"in e&&n(3,d=e.listen)},[a,l,c,d,o,i]}class kf extends al{constructor(e){super(),rl(this,e,Lf,Cf,Mr,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,websiteSettings:2,listen:3})}}function Mf(e){let t,n,o,i;return{c(){t=ea("button"),la(t,"type","button"),la(t,"class","dl-replace-button svelte-9vlams"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,s){Xr(n,t,s),o||(i=sa(t,"click",aa(ra(e[5]))),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&Jr(t),o=!1,i()}}}function If(e){let t,n;return t=new Jl({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[Mf]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),524&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Af(e,n,o){let i,s,r=xr,a=()=>(r(),r=Ir(u,(e=>o(7,i=e))),u),c=xr,d=()=>(c(),c=Ir(p,(e=>o(8,s=e))),p);e.$$.on_destroy.push((()=>r())),e.$$.on_destroy.push((()=>c()));let{websiteSettings:u}=n;a();let{settings:p}=n;d();let m,{onClose:g}=n,h=!1,f=i.translationState===l.anonymousUserMaxCharExceeded;return xa((()=>{o(2,m=it())})),e.$$set=e=>{"websiteSettings"in e&&a(o(0,u=e.websiteSettings)),"settings"in e&&d(o(1,p=e.settings)),"onClose"in e&&o(6,g=e.onClose)},[u,p,m,h,f,function(){const e=tt().text;o(3,h=!0);const n=document.querySelector("deepl-gdocs-icon");n&&(n.applyReplacement(),g(),t({action:"dlTrackGDocsReplaceText",payload:{sourceLang:i.websiteLanguage,targetLang:s.selectedTargetLanguage,sourceLength:e.length,targetLength:i.translatedSnippet.length}}))},g]}class Nf extends al{constructor(e){super(),rl(this,e,Af,If,Mr,{websiteSettings:0,settings:1,onClose:6})}}function Of(e){let t,n;return{c(){t=ea("div"),n=ea("div"),la(t,"class","tooltip-linguee svelte-nqc56z")},m(o,i){Xr(o,t,i),Yr(t,n),n.innerHTML=e[14]},p(e,t){16384&t[0]&&(n.innerHTML=e[14])},d(e){e&&Jr(t)}}}function Rf(e){let t,n,o,i,s;return n=new Jl({props:{tooltip:e[13],zIndex:300,$$slots:{default:[Pf]},$$scope:{ctx:e}}}),{c(){t=ea("fragment"),ol(n.$$.fragment)},m(r,a){Xr(r,t,a),il(n,t,null),o=!0,i||(s=[sa(t,"mouseover",e[21]),sa(t,"mouseleave",e[25])],i=!0)},p(e,t){const o={};8192&t[0]&&(o.tooltip=e[13]),7681&t[0]|1&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n),i=!1,Lr(s)}}}function Df(e){let t,n;return t=new kf({props:{websiteSettings:e[0],isAvailableSelectedTargetLang:e[11],isAvailableSourceLang:e[12],listen:e[17]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.websiteSettings=e[0]),2048&n[0]&&(o.isAvailableSelectedTargetLang=e[11]),4096&n[0]&&(o.isAvailableSourceLang=e[12]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Pf(e){let t,n,o,i,s,r,a=e[10]&&Df(e);return{c(){t=ea("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-nqc56z"></span>',n=oa(),a&&a.c(),o=ia(),la(t,"type","button"),la(t,"class","dl-btn svelte-nqc56z"),la(t,"data-qa","dl-toolbar-listener-button"),ma(t,"dl-btn-active",e[9]),ma(t,"dl-btn-hovered",e[10])},m(l,c){Xr(l,t,c),Xr(l,n,c),a&&a.m(l,c),Xr(l,o,c),i=!0,s||(r=sa(t,"click",e[18]),s=!0)},p(e,n){(!i||512&n[0])&&ma(t,"dl-btn-active",e[9]),(!i||1024&n[0])&&ma(t,"dl-btn-hovered",e[10]),e[10]?a?(a.p(e,n),1024&n[0]&&Ka(a,1)):(a=Df(e),a.c(),Ka(a,1),a.m(o.parentNode,o)):a&&(Ya(),Xa(a,1,1,(()=>{a=null})),Za())},i(e){i||(Ka(a),i=!0)},o(e){Xa(a),i=!1},d(e){e&&Jr(t),e&&Jr(n),a&&a.d(e),e&&Jr(o),s=!1,r()}}}function Hf(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-nqc56z"></span>',la(t,"type","button"),la(t,"class","dl-btn svelte-nqc56z"),la(t,"data-qa","dl-toolbar-copy-button"),ma(t,"dl-btn-active",e[15])},m(i,s){Xr(i,t,s),n||(o=[sa(t,"click",e[19]),sa(t,"mouseleave",e[20])],n=!0)},p(e,n){32768&n[0]&&ma(t,"dl-btn-active",e[15])},d(e){e&&Jr(t),n=!1,Lr(o)}}}function Uf(e){let t,n;return t=new Nf({props:{websiteSettings:e[0],settings:dl,onClose:e[7]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.websiteSettings=e[0]),128&n[0]&&(o.onClose=e[7]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Gf(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E,$,x,T=!e[3]||!e[2]()||!e[5]||e[6],S=T&&Of(e),C=(e[11]||e[12])&&Rf(e);b=new Jl({props:{zIndex:300,tooltip:chrome.i18n.getMessage(e[15]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[Hf]},$$scope:{ctx:e}}});let L=e[8]===Q.gdocs&&Uf(e);return{c(){t=ea("div"),n=ea("div"),o=ea("button"),i=ea("span"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,s=oa(),r=ea("span"),a=oa(),l=ea("fragment"),c=ea("div"),d=ea("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=oa(),p=ea("div"),m=oa(),g=ea("div"),f=oa(),S&&S.c(),_=oa(),v=ea("div"),C&&C.c(),w=oa(),ol(b.$$.fragment),y=oa(),L&&L.c(),la(r,"class","icon icon-external-link svelte-nqc56z"),la(o,"type","button"),la(o,"class","link svelte-nqc56z"),la(n,"class","dl-link-container"),la(d,"class","dict-text svelte-nqc56z"),la(p,"class","img_book svelte-nqc56z"),ma(p,"shown-dict",e[4]&&e[3]&&e[5]),la(g,"class","img_arrow svelte-nqc56z"),ma(g,"shown-dict",e[4]&&e[3]&&e[5]),la(c,"class",h="dl-dictionary "+(e[3]&&e[2]()&&e[5]&&!e[6]?"":"disable")+" "+(e[4]&&e[3]?"shown-dict":"")+" svelte-nqc56z"),la(c,"data-qa","dl-toolbar-dictionary-button"),ua(l,"position","relative"),la(v,"class","dl-btn-group svelte-nqc56z"),la(t,"class","dl-toolbar svelte-nqc56z")},m(h,T){Xr(h,t,T),Yr(t,n),Yr(n,o),Yr(o,i),Yr(o,s),Yr(o,r),Yr(t,a),Yr(t,l),Yr(l,c),Yr(c,d),Yr(c,u),Yr(c,p),Yr(c,m),Yr(c,g),Yr(l,f),S&&S.m(l,null),Yr(t,_),Yr(t,v),C&&C.m(v,null),Yr(v,w),il(b,v,null),Yr(v,y),L&&L.m(v,null),E=!0,$||(x=[sa(o,"click",e[16]),sa(c,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),sa(c,"mouseenter",e[22])],$=!0)},p(t,n){e=t,(!E||56&n[0])&&ma(p,"shown-dict",e[4]&&e[3]&&e[5]),(!E||56&n[0])&&ma(g,"shown-dict",e[4]&&e[3]&&e[5]),(!E||124&n[0]&&h!==(h="dl-dictionary "+(e[3]&&e[2]()&&e[5]&&!e[6]?"":"disable")+" "+(e[4]&&e[3]?"shown-dict":"")+" svelte-nqc56z"))&&la(c,"class",h),108&n[0]&&(T=!e[3]||!e[2]()||!e[5]||e[6]),T?S?S.p(e,n):(S=Of(e),S.c(),S.m(l,null)):S&&(S.d(1),S=null),e[11]||e[12]?C?(C.p(e,n),6144&n[0]&&Ka(C,1)):(C=Rf(e),C.c(),Ka(C,1),C.m(v,w)):C&&(Ya(),Xa(C,1,1,(()=>{C=null})),Za());const o={};32768&n[0]&&(o.tooltip=chrome.i18n.getMessage(e[15]?"ui_inline_translation_copied":"ui_inline_translation_copy")),32768&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:e}),b.$set(o),e[8]===Q.gdocs?L?(L.p(e,n),256&n[0]&&Ka(L,1)):(L=Uf(e),L.c(),Ka(L,1),L.m(v,null)):L&&(Ya(),Xa(L,1,1,(()=>{L=null})),Za())},i(e){E||(Ka(C),Ka(b.$$.fragment,e),Ka(L),E=!0)},o(e){Xa(C),Xa(b.$$.fragment,e),Xa(L),E=!1},d(e){e&&Jr(t),S&&S.d(),C&&C.d(),sl(b),L&&L.d(),$=!1,Lr(x)}}}function zf(e,n,o){let i,s,r=xr,a=()=>(r(),r=Ir(l,(e=>o(23,i=e))),l);Ar(e,dl,(e=>o(24,s=e))),e.$$.on_destroy.push((()=>r()));let{websiteSettings:l}=n;a();let c,d,u,p,{switchVisibilityDictionary:m}=n,{isSingleWord:g}=n,{dictionaryHTML:h}=n,{showDictionary:f=!1}=n,{langPair:_}=n,{errorMessageDict:v}=n,{onClose:w}=n,{platformBehaviour:b=Q.default}=n,y=!1,E=!1,$=!1;function x(){t({action:"dlStopSpeech"}),o(9,u=!1)}function C(e){try{t({action:"dlTrackInlineListen",payload:e})}catch(e){console.error(e)}}async function L(e,t,n){if("dlVoiceOverStopped"===e.action)o(9,u=!1),n()}function k(e){try{t({action:"dlTrackVoiceOverStops",payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(L),Ta((()=>{u&&k({targetLang:s.selectedTargetLanguage,targetLength:i.translatedSnippet.length,triggerType:S,nicheIntegration:b}),x(),chrome.runtime.onMessage.removeListener(L)}));return e.$$set=e=>{"websiteSettings"in e&&a(o(0,l=e.websiteSettings)),"switchVisibilityDictionary"in e&&o(1,m=e.switchVisibilityDictionary),"isSingleWord"in e&&o(2,g=e.isSingleWord),"dictionaryHTML"in e&&o(3,h=e.dictionaryHTML),"showDictionary"in e&&o(4,f=e.showDictionary),"langPair"in e&&o(5,_=e.langPair),"errorMessageDict"in e&&o(6,v=e.errorMessageDict),"onClose"in e&&o(7,w=e.onClose),"platformBehaviour"in e&&o(8,b=e.platformBehaviour)},e.$$.update=()=>{if(25167360&e.$$.dirty[0]&&(s.selectedTargetLanguage&&t({action:"dlGetSupportedVoices"}).then((e=>{o(11,c=e.includes(["EN-US","EN-GB"].includes(s.selectedTargetLanguage)?"EN":["PT-PT","PT-BR"].includes(s.selectedTargetLanguage)?"PT":s.selectedTargetLanguage)),o(12,d=e.includes(i.websiteLanguage))})),!y&&u?setTimeout((()=>{o(13,E=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):o(13,E=!1)),100&e.$$.dirty[0]&&(v?o(14,p=v):g()?o(14,p=_?chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"):chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair")):o(14,p=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word"))),16&e.$$.dirty[0]&&f)try{t({action:"dlTrackOpenDictionarySection",payload:{}})}catch(e){console.log(e)}},[l,m,g,h,f,_,v,w,b,u,y,c,d,E,p,$,function(){const e={};i&&s&&(e.sourceLang=i.websiteLanguage,e.targetLang=s.selectedTargetLanguage,e.textToShare=i.originalSnippet),t({action:"dlExternalURLRedirect",payload:{destination:Wc,...e}});try{t({action:"dlTrackUiAction",payload:{uiAction:H,nicheIntegration:b}})}catch(e){console.error(e)}},async function(e,n){u||(t({action:"dlTextToSpeech",payload:{text:e,lang:n}}),o(9,u=!0),C({targetLang:s.selectedTargetLanguage,targetLength:i.translatedSnippet.length,actionType:j,nicheIntegration:b}),o(10,y=!1))},function(){u?(x(),o(9,u=!1),k({targetLang:s.selectedTargetLanguage,targetLength:i.translatedSnippet.length,triggerType:T,nicheIntegration:b}),C({targetLang:s.selectedTargetLanguage,targetLength:i.translatedSnippet.length,actionType:B,nicheIntegration:b})):o(10,y=!0)},function(){navigator.clipboard.writeText(i.translatedSnippet).then((function(){o(15,$=!0)}),(function(e){console.error(e)})),function(e){try{t({action:"dlTrackInlineCopy",payload:e})}catch(e){console.error(e)}}({targetLang:s.selectedTargetLanguage,targetLength:i.translatedSnippet.length,nicheIntegration:b})},function(){setTimeout((()=>{o(15,$=!1)}),300)},function(){u||o(10,y=!0)},function(){if(!h||!g())try{t({action:"dlTrackDisabledDictionaryHover",payload:{}})}catch(e){console.log(e)}},i,s,()=>o(10,y=!1)]}class qf extends al{constructor(e){super(),rl(this,e,zf,Gf,Mr,{websiteSettings:0,switchVisibilityDictionary:1,isSingleWord:2,dictionaryHTML:3,showDictionary:4,langPair:5,errorMessageDict:6,onClose:7,platformBehaviour:8},null,[-1,-1])}}function Wf(e){let t,n,o,i,s,r;return{c(){t=ea("div"),n=ea("button"),n.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,o=oa(),i=ea("button"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,la(n,"class","btn-primary svelte-1sp8mp6"),la(i,"class","btn-secondary svelte-1sp8mp6"),la(t,"class","dl-toolbar svelte-1sp8mp6")},m(a,l){Xr(a,t,l),Yr(t,n),Yr(t,o),Yr(t,i),s||(r=[sa(n,"click",e[0]),sa(i,"click",e[1])],s=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),s=!1,Lr(r)}}}function jf(e,t,n){let{onClose:o}=t;return e.$$set=e=>{"onClose"in e&&n(2,o=e.onClose)},[()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&(e.applyReplacement(),e.trackDeeplWriteInsertCopy()),o()},()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&e.trackDeeplWriteDiscardCopy(),o()},o]}class Bf extends al{constructor(e){super(),rl(this,e,jf,Wf,Mr,{onClose:2})}}function Ff(e){let t,n,o,i,s,r=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=ea("p"),n=na(e[0]),o=oa(),i=ea("pre"),s=na(r),la(i,"class","debug-settings svelte-mu7va1")},m(e,r){Xr(e,t,r),Yr(t,n),Xr(e,o,r),Xr(e,i,r),Yr(i,s)},p(e,[t]){1&t&&ca(n,e[0]),2&t&&r!==(r=JSON.stringify(e[1](),void 0,2)+"")&&ca(s,r)},i:xr,o:xr,d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i)}}}function Vf(e,t,n){let{headline:o="JSON block"}=t,{jsonData:i=(()=>{})}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,i=e.jsonData)},[o,i]}class Yf extends al{constructor(e){super(),rl(this,e,Vf,Ff,Mr,{headline:0,jsonData:1})}}function Zf(e){let t,n,o,i;return{c(){t=ea("div"),n=ea("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: "Open Sans", sans-serif;\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: "Open Sans", sans-serif;\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=oa(),i=new ha(!1),la(n,"lang","scss"),i.a=null},m(s,r){Xr(s,t,r),Yr(t,n),Yr(t,o),i.m(e[0],t)},p(e,[t]){1&t&&i.p(e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function Kf(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class Xf extends al{constructor(e){super(),rl(this,e,Kf,Zf,Mr,{html:0})}}function Jf(e,t,n){const o=e.slice();return o[29]=t[n],o}function Qf(e,t,n){const o=e.slice();return o[32]=t[n],o}function e_(e,t,n){const o=e.slice();return o[35]=t[n],o}function t_(e){let t,n,o,i,s,r,a,l,c=!Ge.includes(e[5].selectedTargetLanguage),d=c&&o_(e),u=e[5].gDocsSegmentation===Ue.SENTENCE&&void 0!==e[1]&&i_(e),p=e[5].gDocsSegmentation===Ue.WORD&&a_(e);return{c(){t=ea("div"),n=ea("div"),d&&d.c(),o=oa(),i=ea("button"),i.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_sentence")}`,s=oa(),u&&u.c(),r=oa(),p&&p.c(),la(i,"class","segmentation-button sentence svelte-18mxrb4"),ma(i,"active",e[5].gDocsSegmentation===Ue.SENTENCE),la(n,"class","dl-segmentation-selector svelte-18mxrb4")},m(c,m){Xr(c,t,m),Yr(t,n),d&&d.m(n,null),Yr(n,o),Yr(n,i),Yr(t,s),u&&u.m(t,null),Yr(t,r),p&&p.m(t,null),a||(l=sa(i,"click",e[21]),a=!0)},p(e,s){32&s[0]&&(c=!Ge.includes(e[5].selectedTargetLanguage)),c?d?d.p(e,s):(d=o_(e),d.c(),d.m(n,o)):d&&(d.d(1),d=null),32&s[0]&&ma(i,"active",e[5].gDocsSegmentation===Ue.SENTENCE),e[5].gDocsSegmentation===Ue.SENTENCE&&void 0!==e[1]?u?u.p(e,s):(u=i_(e),u.c(),u.m(t,r)):u&&(u.d(1),u=null),e[5].gDocsSegmentation===Ue.WORD?p?p.p(e,s):(p=a_(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},d(e){e&&Jr(t),d&&d.d(),u&&u.d(),p&&p.d(),a=!1,l()}}}function n_(e){let t;return{c(){t=ea("div"),t.innerHTML='<div class="skeleton-item svelte-18mxrb4"><div class="skeleton-subitem svelte-18mxrb4"></div></div> \n      <div class="skeleton-item svelte-18mxrb4"><div class="skeleton-subitem svelte-18mxrb4"></div></div> \n      <div class="skeleton-item svelte-18mxrb4"><div class="skeleton-subitem svelte-18mxrb4"></div> \n        <div class="skeleton-subitem is-short-line svelte-18mxrb4"></div></div>',la(t,"class","dl-alternatives-loading-skeleton svelte-18mxrb4")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function o_(e){let t,n,o;return{c(){t=ea("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_word")}`,la(t,"class","segmentation-button word svelte-18mxrb4"),ma(t,"active",e[5].gDocsSegmentation===Ue.WORD)},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[20]),n=!0)},p(e,n){32&n[0]&&ma(t,"active",e[5].gDocsSegmentation===Ue.WORD)},d(e){e&&Jr(t),n=!1,o()}}}function i_(e){let t,n,o=e[3],i=[];for(let t=0;t<o.length;t+=1)i[t]=r_(Qf(e,o,t));return{c(){t=ea("div");for(let e=0;e<i.length;e+=1)i[e].c();la(t,"class","alternatives svelte-18mxrb4"),la(t,"dir",n=Tt(e[0].targetLang))},m(e,n){Xr(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(264&s[0]){let n;for(o=e[3],n=0;n<o.length;n+=1){const r=Qf(e,o,n);i[n]?i[n].p(r,s):(i[n]=r_(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}1&s[0]&&n!==(n=Tt(e[0].targetLang))&&la(t,"dir",n)},d(e){e&&Jr(t),Qr(i,e)}}}function s_(e){let t,n,o=ut(e[35].text)+"";return{c(){t=ea("span"),n=na(o),la(t,"class","svelte-18mxrb4"),ma(t,"highlighted-text-chunk",e[35].isHighlighted)},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,i){8&i[0]&&o!==(o=ut(e[35].text)+"")&&ca(n,o),8&i[0]&&ma(t,"highlighted-text-chunk",e[35].isHighlighted)},d(e){e&&Jr(t)}}}function r_(e){let t,n,o,i,s=e[32].textChunks,r=[];for(let t=0;t<s.length;t+=1)r[t]=s_(e_(e,s,t));function a(){return e[22](e[32])}return{c(){t=ea("div");for(let e=0;e<r.length;e+=1)r[e].c();n=oa(),la(t,"class","sentence-alternatives alternative svelte-18mxrb4")},m(e,s){Xr(e,t,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);Yr(t,n),o||(i=sa(t,"click",a),o=!0)},p(o,i){if(e=o,8&i[0]){let o;for(s=e[32].textChunks,o=0;o<s.length;o+=1){const a=e_(e,s,o);r[o]?r[o].p(a,i):(r[o]=s_(a),r[o].c(),r[o].m(t,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(e){e&&Jr(t),Qr(r,e),o=!1,i()}}}function a_(e){let t,n,o=e[4],i=[];for(let t=0;t<o.length;t+=1)i[t]=l_(Jf(e,o,t));return{c(){t=ea("div");for(let e=0;e<i.length;e+=1)i[e].c();la(t,"class","alternatives svelte-18mxrb4"),la(t,"dir",n=Tt(e[0].targetLang))},m(e,n){Xr(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(528&s[0]){let n;for(o=e[4],n=0;n<o.length;n+=1){const r=Jf(e,o,n);i[n]?i[n].p(r,s):(i[n]=l_(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}1&s[0]&&n!==(n=Tt(e[0].targetLang))&&la(t,"dir",n)},d(e){e&&Jr(t),Qr(i,e)}}}function l_(e){let t,n,o,i,s,r=ut(e[29].text)+"";function a(){return e[23](e[29])}return{c(){t=ea("div"),n=na(r),o=oa(),la(t,"class","word-alternative alternative svelte-18mxrb4")},m(e,r){Xr(e,t,r),Yr(t,n),Yr(t,o),i||(s=sa(t,"click",a),i=!0)},p(t,o){e=t,16&o[0]&&r!==(r=ut(e[29].text)+"")&&ca(n,r)},d(e){e&&Jr(t),i=!1,s()}}}function c_(e){let t,n,o,i,s;function r(e,t){return e[6]?n_:e[2]?t_:void 0}let a=r(e),l=a&&a(e);return{c(){t=ea("div"),n=ea("button"),n.textContent=`${chrome.i18n.getMessage("ui_alternatives_title")}`,o=oa(),l&&l.c(),la(n,"class","dl-toggle-show-alternatives svelte-18mxrb4"),ma(n,"is-showing",e[2]),la(t,"class","dl-alternatives-container svelte-18mxrb4")},m(r,a){Xr(r,t,a),Yr(t,n),Yr(t,o),l&&l.m(t,null),i||(s=sa(n,"click",e[19]),i=!0)},p(e,o){4&o[0]&&ma(n,"is-showing",e[2]),a===(a=r(e))&&l?l.p(e,o):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(t,null)))},i:xr,o:xr,d(e){e&&Jr(t),l&&l.d(),i=!1,s()}}}function d_(e,n,o){let i;const s=La("deepl_settings");Ar(e,s,(e=>o(5,i=e)));let{textProcessingMode:r=ee.translate}=n,{contentProcessBuildingBlocks:a}=n,{buildAndSetReplaceData:l}=n,{activeSentence:c}=n,{activeWord:d}=n,{shouldMarkWordOrSentenceAsActive:u}=n,{registerAlternativesCallbacks:p}=n,{clearAlternativesCallbacks:m}=n,g=!1,h=!1,f=[],_=[];const v=async e=>{if(i.gDocsSegmentation===Ue.SENTENCE){o(1,c=e),o(2,g=!0),o(3,f=[]),o(6,h=!0);try{const n=await t({action:"dlRequestGDocsSentenceAlternatives",payload:{mode:r,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[e],contextBefore:e>0&&a.sentences[e-1].text,contextAfter:e<a.sentences.length-1&&a.sentences[e+1].text}});for(const t of n.result.translations[0].beams)t.sentences[0].text!==a.processedSentences[e].text&&f.length<4&&o(3,f=[...f,{text:t.sentences[0].text,textChunks:xl(t.sentences[0].text,a.processedSentences[e].text)}]);S(Ue.SENTENCE)}catch(e){console.error(e)}o(6,h=!1)}},w=async(e,n,s)=>{if(i.gDocsSegmentation===Ue.WORD){o(1,c=e),o(13,d=n),o(2,g=!0),o(4,_=[]),o(6,h=!0);try{const n=await t({action:"dlRequestGDocsWordAlternatives",payload:{mode:r,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[e],contextBefore:e>0&&a.sentences[e-1].text,contextAfter:e<a.sentences.length-1&&a.sentences[e+1].text,partialTranslation:a.processedSentences[e].text.substring(0,s.offsetStartRaw)}});for(const t of n.result.translations[0].beams)if(t.sentences[0].text!==a.processedSentences[e].text.substring(0,s.offsetStartRaw+s.offsetLengthRaw)&&_.length<4){const e=t.sentences[0].text.substring(s.offsetStartRaw);e.trim().length>0&&o(4,_=[..._,{text:`${e}...`,partialTranslation:t.sentences[0].text}])}S(Ue.WORD)}catch(e){console.error(e)}o(6,h=!1)}},b=e=>{o(0,a.processedSentences[c].text=e,a),o(3,f=[]),l(),T(Ue.SENTENCE)},y=async e=>{o(0,a.processedSentences[c].text=e,a),o(4,_=[]);try{const n=await t({action:"dlRequestGDocsSentenceFromPartialTranslation",payload:{mode:r,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[c],contextBefore:c>0&&a.sentences[c-1].text,contextAfter:c<a.sentences.length-1&&a.sentences[c+1].text,partialTranslation:e}});o(0,a.processedSentences[c].text=n.result.translations[0].beams[0].sentences[0].text,a),l(),T(Ue.WORD)}catch(e){console.error(e)}},E=()=>{Ur(s,i.gDocsSegmentation=Ue.SENTENCE,i),o(1,c=void 0),o(13,d=void 0),x(Ue.SENTENCE)},$=()=>{Ur(s,i.gDocsSegmentation=Ue.WORD,i),o(1,c=void 0),o(13,d=void 0),x(Ue.WORD)},x=async e=>await C({eventType:Se,alternativesSegmentation:e}),T=async e=>await C({eventType:Ce,alternativesSegmentation:e}),S=async e=>await C({eventType:Te,alternativesSegmentation:e}),C=async({eventType:e,alternativesSegmentation:n})=>await t({action:"dlTrackAlternativesEvent",payload:{eventType:e,alternativesMetaData:{sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,nicheIntegration:Q.gdocs,contentProcessingMode:r,alternativesSegmentation:n}}});xa((()=>{p({showSentenceAlternatives:v,showWordAlternatives:w})})),Ta((()=>{m()}));return e.$$set=e=>{"textProcessingMode"in e&&o(15,r=e.textProcessingMode),"contentProcessBuildingBlocks"in e&&o(0,a=e.contentProcessBuildingBlocks),"buildAndSetReplaceData"in e&&o(16,l=e.buildAndSetReplaceData),"activeSentence"in e&&o(1,c=e.activeSentence),"activeWord"in e&&o(13,d=e.activeWord),"shouldMarkWordOrSentenceAsActive"in e&&o(14,u=e.shouldMarkWordOrSentenceAsActive),"registerAlternativesCallbacks"in e&&o(17,p=e.registerAlternativesCallbacks),"clearAlternativesCallbacks"in e&&o(18,m=e.clearAlternativesCallbacks)},e.$$.update=()=>{60&e.$$.dirty[0]&&o(14,u=g&&(i.gDocsSegmentation===Ue.WORD&&_||i.gDocsSegmentation===Ue.SENTENCE&&f))},[a,c,g,f,_,i,h,s,b,y,E,$,S,d,u,r,l,p,m,()=>{o(2,g=!g),S()},()=>$(),()=>E(),e=>b(e.text),e=>y(e.partialTranslation)]}class u_ extends al{constructor(e){super(),rl(this,e,d_,c_,Mr,{textProcessingMode:15,contentProcessBuildingBlocks:0,buildAndSetReplaceData:16,activeSentence:1,activeWord:13,shouldMarkWordOrSentenceAsActive:14,registerAlternativesCallbacks:17,clearAlternativesCallbacks:18},null,[-1,-1])}}function p_(e,t,n){const o=e.slice();return o[27]=t[n],o}function m_(e,t,n){const o=e.slice();return o[30]=t[n],o}function g_(e,t,n){const o=e.slice();return o[33]=t[n],o[35]=n,o}function h_(e){let t,n,o=e[10].contentReference,i=[];for(let t=0;t<o.length;t+=1)i[t]=x_(p_(e,o,t));return{c(){t=ea("div");for(let e=0;e<i.length;e+=1)i[e].c();la(t,"class","preview-text-scroller svelte-t9u7lm"),la(t,"dir",n=Tt(e[9].selectedTargetLanguage))},m(e,n){Xr(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(65024&s[0]){let n;for(o=e[10].contentReference,n=0;n<o.length;n+=1){const r=p_(e,o,n);i[n]?i[n].p(r,s):(i[n]=x_(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}512&s[0]&&n!==(n=Tt(e[9].selectedTargetLanguage))&&la(t,"dir",n)},d(e){e&&Jr(t),Qr(i,e)}}}function f_(e){let t;return{c(){t=ea("div"),la(t,"class","dl-untranslatable-line svelte-t9u7lm")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function __(e){let t,n,o=e[10].textLinesComponents[e[27].index],i=[];for(let t=0;t<o.length;t+=1)i[t]=$_(m_(e,o,t));return{c(){t=ea("div");for(let e=0;e<i.length;e+=1)i[e].c();n=oa(),la(t,"class","dl-translatable-line svelte-t9u7lm"),ma(t,"is-sentence-segmentation",e[9].gDocsSegmentation===Ue.SENTENCE),ma(t,"is-word-segmentation",e[9].gDocsSegmentation===Ue.WORD)},m(e,o){Xr(e,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);Yr(t,n)},p(e,s){if(65024&s[0]){let r;for(o=e[10].textLinesComponents[e[27].index],r=0;r<o.length;r+=1){const a=m_(e,o,r);i[r]?i[r].p(a,s):(i[r]=$_(a),i[r].c(),i[r].m(t,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}512&s[0]&&ma(t,"is-sentence-segmentation",e[9].gDocsSegmentation===Ue.SENTENCE),512&s[0]&&ma(t,"is-word-segmentation",e[9].gDocsSegmentation===Ue.WORD)},d(e){e&&Jr(t),Qr(i,e)}}}function v_(e){let t,n=ut(e[10].processedSentences[e[30]].text)+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){1024&o[0]&&n!==(n=ut(e[10].processedSentences[e[30]].text)+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function w_(e){let t,n=pt(e[10].processedSentences[e[30]].text),o=[];for(let t=0;t<n.length;t+=1)o[t]=E_(g_(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=ia()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xr(e,t,n)},p(e,i){if(48128&i[0]){let s;for(n=pt(e[10].processedSentences[e[30]].text),s=0;s<n.length;s+=1){const r=g_(e,n,s);o[s]?o[s].p(r,i):(o[s]=E_(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Qr(o,e),e&&Jr(t)}}}function b_(e){let t,n,o=e[33].text+"";return{c(){t=ea("span"),n=na(o)},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){1024&t[0]&&o!==(o=e[33].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function y_(e){let t,n,o,i,s=e[33].text+"";function r(){return e[20](e[30],e[35],e[33])}return{c(){t=ea("span"),n=na(s),la(t,"class","word-text svelte-t9u7lm"),ma(t,"active-word",e[30]===e[11]&&e[12]===e[35]&&e[13])},m(e,s){Xr(e,t,s),Yr(t,n),o||(i=sa(t,"click",r),o=!0)},p(o,i){e=o,1024&i[0]&&s!==(s=e[33].text+"")&&ca(n,s),15360&i[0]&&ma(t,"active-word",e[30]===e[11]&&e[12]===e[35]&&e[13])},d(e){e&&Jr(t),o=!1,i()}}}function E_(e){let t;function n(e,t){return e[33].isWord?y_:b_}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function $_(e){let t,n,o,i,s,r,a,l=e[10].processedSentences[e[30]].prefix+"",c=e[9].gDocsSegmentation===Ue.SENTENCE&&v_(e),d=e[9].gDocsSegmentation===Ue.WORD&&w_(e);function u(){return e[21](e[30])}return{c(){t=ea("span"),n=na(l),o=oa(),i=ea("span"),c&&c.c(),s=oa(),d&&d.c(),la(t,"class","sentence-prefix"),la(i,"class","sentence-text svelte-t9u7lm"),ma(i,"active-sentence",e[11]===e[30]&&e[13])},m(e,l){Xr(e,t,l),Yr(t,n),Xr(e,o,l),Xr(e,i,l),c&&c.m(i,null),Yr(i,s),d&&d.m(i,null),r||(a=sa(i,"click",u),r=!0)},p(t,o){e=t,1024&o[0]&&l!==(l=e[10].processedSentences[e[30]].prefix+"")&&ca(n,l),e[9].gDocsSegmentation===Ue.SENTENCE?c?c.p(e,o):(c=v_(e),c.c(),c.m(i,s)):c&&(c.d(1),c=null),e[9].gDocsSegmentation===Ue.WORD?d?d.p(e,o):(d=w_(e),d.c(),d.m(i,null)):d&&(d.d(1),d=null),11264&o[0]&&ma(i,"active-sentence",e[11]===e[30]&&e[13])},d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i),c&&c.d(),d&&d.d(),r=!1,a()}}}function x_(e){let t;function n(e,t){return e[27].isTranslatable?__:f_}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function T_(e){let t,n,o;return n=new qf({props:{platformBehaviour:Q.gdocs,websiteSettings:e[1],showDictionary:e[2],errorMessageDict:e[3],dictionaryHTML:e[4],langPair:e[5],switchVisibilityDictionary:e[6],isSingleWord:e[7],onClose:e[8]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","dl-inline-translate-toolbar-frame svelte-t9u7lm")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,t){const o={};2&t[0]&&(o.websiteSettings=e[1]),4&t[0]&&(o.showDictionary=e[2]),8&t[0]&&(o.errorMessageDict=e[3]),16&t[0]&&(o.dictionaryHTML=e[4]),32&t[0]&&(o.langPair=e[5]),64&t[0]&&(o.switchVisibilityDictionary=e[6]),128&t[0]&&(o.isSingleWord=e[7]),256&t[0]&&(o.onClose=e[8]),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function S_(e){let t,n;return t=new Bf({props:{onClose:e[8]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.onClose=e[8]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function C_(e){let t,n,o,i,s,r;function a(t){e[22](t)}function l(t){e[23](t)}function c(t){e[24](t)}function d(t){e[25](t)}let u={textProcessingMode:e[0],buildAndSetReplaceData:e[17],registerAlternativesCallbacks:e[18],clearAlternativesCallbacks:e[19]};return void 0!==e[10]&&(u.contentProcessBuildingBlocks=e[10]),void 0!==e[11]&&(u.activeSentence=e[11]),void 0!==e[12]&&(u.activeWord=e[12]),void 0!==e[13]&&(u.shouldMarkWordOrSentenceAsActive=e[13]),t=new u_({props:u}),Ia.push((()=>nl(t,"contentProcessBuildingBlocks",a))),Ia.push((()=>nl(t,"activeSentence",l))),Ia.push((()=>nl(t,"activeWord",c))),Ia.push((()=>nl(t,"shouldMarkWordOrSentenceAsActive",d))),{c(){ol(t.$$.fragment)},m(e,n){il(t,e,n),r=!0},p(e,r){const a={};1&r[0]&&(a.textProcessingMode=e[0]),!n&&1024&r[0]&&(n=!0,a.contentProcessBuildingBlocks=e[10],Ha((()=>n=!1))),!o&&2048&r[0]&&(o=!0,a.activeSentence=e[11],Ha((()=>o=!1))),!i&&4096&r[0]&&(i=!0,a.activeWord=e[12],Ha((()=>i=!1))),!s&&8192&r[0]&&(s=!0,a.shouldMarkWordOrSentenceAsActive=e[13],Ha((()=>s=!1))),t.$set(a)},i(e){r||(Ka(t.$$.fragment,e),r=!0)},o(e){Xa(t.$$.fragment,e),r=!1},d(e){sl(t,e)}}}function L_(e){let t,n,o,i,s,r,a=e[10]&&e[10].contentReference&&h_(e),l=e[0]===ee.translate&&T_(e),c=e[0]===ee.write&&S_(e),d=e[10]&&C_(e);return{c(){t=ea("div"),a&&a.c(),n=oa(),l&&l.c(),o=oa(),c&&c.c(),i=oa(),s=ea("div"),d&&d.c(),la(s,"class","dl-alternatives-frame svelte-t9u7lm")},m(e,u){Xr(e,t,u),a&&a.m(t,null),Yr(t,n),l&&l.m(t,null),Yr(t,o),c&&c.m(t,null),Yr(t,i),Yr(t,s),d&&d.m(s,null),r=!0},p(e,r){e[10]&&e[10].contentReference?a?a.p(e,r):(a=h_(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),e[0]===ee.translate?l?(l.p(e,r),1&r[0]&&Ka(l,1)):(l=T_(e),l.c(),Ka(l,1),l.m(t,o)):l&&(Ya(),Xa(l,1,1,(()=>{l=null})),Za()),e[0]===ee.write?c?(c.p(e,r),1&r[0]&&Ka(c,1)):(c=S_(e),c.c(),Ka(c,1),c.m(t,i)):c&&(Ya(),Xa(c,1,1,(()=>{c=null})),Za()),e[10]?d?(d.p(e,r),1024&r[0]&&Ka(d,1)):(d=C_(e),d.c(),Ka(d,1),d.m(s,null)):d&&(Ya(),Xa(d,1,1,(()=>{d=null})),Za())},i(e){r||(Ka(l),Ka(c),Ka(d),r=!0)},o(e){Xa(l),Xa(c),Xa(d),r=!1},d(e){e&&Jr(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function k_(e,t,n){let o;const i=La("deepl_settings");Ar(e,i,(e=>n(9,o=e)));let s,r,a,l,{textProcessingMode:c=ee.translate}=t,{websiteSettings:d}=t,{showDictionary:u}=t,{errorMessageDict:p}=t,{dictionaryHTML:m}=t,{langPair:g}=t,{switchVisibilityDictionary:h}=t,{isSingleWord:f}=t,{onClose:_}=t,v=!1,w=()=>{},b=()=>{};const y=()=>{if(r)try{const{processedText:e,processedEntities:t}=dt({textLines:r.textLinesComponents.map((e=>e.map((e=>r.processedSentences[e].prefix+r.processedSentences[e].text)))),entities:r.entities,contentReference:r.contentReference});d.update({translatedSnippet:e}),s&&s.setReplaceData({entities:t,text:e,originalObject:r.originalObject})}catch(e){console.error(e)}};xa((()=>{s=document.querySelector("deepl-gdocs-icon"),n(10,r=s.getContentProcessBuildingBlocks()),y()}));return e.$$set=e=>{"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"websiteSettings"in e&&n(1,d=e.websiteSettings),"showDictionary"in e&&n(2,u=e.showDictionary),"errorMessageDict"in e&&n(3,p=e.errorMessageDict),"dictionaryHTML"in e&&n(4,m=e.dictionaryHTML),"langPair"in e&&n(5,g=e.langPair),"switchVisibilityDictionary"in e&&n(6,h=e.switchVisibilityDictionary),"isSingleWord"in e&&n(7,f=e.isSingleWord),"onClose"in e&&n(8,_=e.onClose)},e.$$.update=()=>{512&e.$$.dirty[0]&&Ge.includes(o.selectedTargetLanguage)&&Ur(i,o.gDocsSegmentation=Ue.SENTENCE,o)},[c,d,u,p,m,g,h,f,_,o,r,a,l,v,w,b,i,y,e=>{n(14,w=e.showSentenceAlternatives),n(15,b=e.showWordAlternatives)},()=>{n(14,w=()=>{}),n(15,b=()=>{})},(e,t,n)=>b(e,t,n),e=>w(e),function(e){r=e,n(10,r)},function(e){a=e,n(11,a)},function(e){l=e,n(12,l)},function(e){v=e,n(13,v)}]}class M_ extends al{constructor(e){super(),rl(this,e,k_,L_,Mr,{textProcessingMode:0,websiteSettings:1,showDictionary:2,errorMessageDict:3,dictionaryHTML:4,langPair:5,switchVisibilityDictionary:6,isSingleWord:7,onClose:8},null,[-1,-1])}}function I_(e){let t,n,o,i;return t=new Yf({props:{headline:"Response - Translated DOM",jsonData:e[19]}}),o=new Yf({props:{headline:"Request - Original DOM",jsonData:e[20]}}),{c(){ol(t.$$.fragment),n=oa(),ol(o.$$.fragment)},m(e,s){il(t,e,s),Xr(e,n,s),il(o,e,s),i=!0},p(e,n){const i={};32&n&&(i.jsonData=e[19]),t.$set(i);const s={};32&n&&(s.jsonData=e[20]),o.$set(s)},i(e){i||(Ka(t.$$.fragment,e),Ka(o.$$.fragment,e),i=!0)},o(e){Xa(t.$$.fragment,e),Xa(o.$$.fragment,e),i=!1},d(e){sl(t,e),e&&Jr(n),sl(o,e)}}}function A_(e){let t,n,o,i,s,r,a=xf(e[5].translatedSnippet)+"",l=e[3]===ee.translate&&P_(e),c=e[3]===ee.write&&H_(e);return{c(){t=ea("div"),o=oa(),l&&l.c(),i=oa(),c&&c.c(),s=ia(),la(t,"class","result-frame svelte-1o8y5qz"),la(t,"dir",n=Tt(e[6].selectedTargetLanguage))},m(e,n){Xr(e,t,n),t.innerHTML=a,Xr(e,o,n),l&&l.m(e,n),Xr(e,i,n),c&&c.m(e,n),Xr(e,s,n),r=!0},p(e,o){(!r||32&o)&&a!==(a=xf(e[5].translatedSnippet)+"")&&(t.innerHTML=a),(!r||64&o&&n!==(n=Tt(e[6].selectedTargetLanguage)))&&la(t,"dir",n),e[3]===ee.translate?l?(l.p(e,o),8&o&&Ka(l,1)):(l=P_(e),l.c(),Ka(l,1),l.m(i.parentNode,i)):l&&(Ya(),Xa(l,1,1,(()=>{l=null})),Za()),e[3]===ee.write?c?(c.p(e,o),8&o&&Ka(c,1)):(c=H_(e),c.c(),Ka(c,1),c.m(s.parentNode,s)):c&&(Ya(),Xa(c,1,1,(()=>{c=null})),Za())},i(e){r||(Ka(l),Ka(c),r=!0)},o(e){Xa(l),Xa(c),r=!1},d(e){e&&Jr(t),e&&Jr(o),l&&l.d(e),e&&Jr(i),c&&c.d(e),e&&Jr(s)}}}function N_(e){let t,n;return t=new M_({props:{textProcessingMode:e[3],websiteSettings:e[1],showDictionary:e[7],errorMessageDict:e[9],dictionaryHTML:e[8],langPair:e[4],switchVisibilityDictionary:e[14],isSingleWord:e[12],onClose:e[0]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.textProcessingMode=e[3]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.errorMessageDict=e[9]),256&n&&(o.dictionaryHTML=e[8]),16&n&&(o.langPair=e[4]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function O_(e){let t,n;return t=new ru({props:{error:e[5].error}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.error=e[5].error),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function R_(e){let t,n,o,i,s,r,a,l,c,d,u;function p(e,t){return e[3]===ee.translate?G_:U_}let m=p(e),g=m(e);function h(e,t){return e[3]===ee.translate?q_:z_}let f=h(e),_=f(e);function v(e,t){return e[3]===ee.translate?j_:W_}let w=v(e),b=w(e);return{c(){t=ea("div"),n=ea("p"),g.c(),o=oa(),i=ea("div"),s=ea("h2"),_.c(),r=oa(),b.c(),a=oa(),l=ea("div"),c=ea("button"),c.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,la(n,"class","counter svelte-1o8y5qz"),la(s,"class","svelte-1o8y5qz"),la(c,"class","svelte-1o8y5qz"),la(l,"class","button-row svelte-1o8y5qz"),la(i,"class","box svelte-1o8y5qz"),la(t,"class","anonymous-user-max-char-exceeded svelte-1o8y5qz")},m(p,m){Xr(p,t,m),Yr(t,n),g.m(n,null),Yr(t,o),Yr(t,i),Yr(i,s),_.m(s,null),Yr(i,r),b.m(i,null),Yr(i,a),Yr(i,l),Yr(l,c),d||(u=sa(c,"click",e[15]),d=!0)},p(e,t){m===(m=p(e))&&g?g.p(e,t):(g.d(1),g=m(e),g&&(g.c(),g.m(n,null))),f===(f=h(e))&&_?_.p(e,t):(_.d(1),_=f(e),_&&(_.c(),_.m(s,null))),w===(w=v(e))&&b?b.p(e,t):(b.d(1),b=w(e),b&&(b.c(),b.m(i,a)))},i:xr,o:xr,d(e){e&&Jr(t),g.d(),_.d(),b.d(),d=!1,u()}}}function D_(e){let t,n,o;return n=new eg({}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","loading-spinner-container svelte-1o8y5qz")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p:xr,i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function P_(e){let t,n;return t=new qf({props:{platformBehaviour:e[2],websiteSettings:e[1],showDictionary:e[7],errorMessageDict:e[9],dictionaryHTML:e[8],langPair:e[4],switchVisibilityDictionary:e[14],isSingleWord:e[12],onClose:e[0]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.errorMessageDict=e[9]),256&n&&(o.dictionaryHTML=e[8]),16&n&&(o.langPair=e[4]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function H_(e){let t,n;return t=new Bf({props:{onClose:e[0]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function U_(e){let t,n,o=e[5].originalSnippet.length+"";return{c(){t=na(o),n=na("/2000")},m(e,o){Xr(e,t,o),Xr(e,n,o)},p(e,n){32&n&&o!==(o=e[5].originalSnippet.length+"")&&ca(t,o)},d(e){e&&Jr(t),e&&Jr(n)}}}function G_(e){let t,n,o=e[5].originalSnippet.length+"";return{c(){t=na(o),n=na("/5000")},m(e,o){Xr(e,t,o),Xr(e,n,o)},p(e,n){32&n&&o!==(o=e[5].originalSnippet.length+"")&&ca(t,o)},d(e){e&&Jr(t),e&&Jr(n)}}}function z_(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_improvement_title")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function q_(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function W_(e){let t;return{c(){t=ea("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body_write")}`},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function j_(e){let t;return{c(){t=ea("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function B_(e){let t,n,o,i;return n=new Xf({props:{html:e[8]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","dl__dictionary svelte-1o8y5qz")},m(e,o){Xr(e,t,o),il(n,t,null),i=!0},p(e,t){const o={};256&t&&(o.html=e[8]),n.$set(o)},i(e){i||(Ka(n.$$.fragment,e),o||Pa((()=>{o=Qa(t,vl,{y:-50,duration:700}),o.start()})),i=!0)},o(e){Xa(n.$$.fragment,e),i=!1},d(e){e&&Jr(t),sl(n)}}}function F_(e){let t,n,o,i,s,r,a;const c=[D_,R_,O_,N_,A_,I_],d=[];function u(e,t){return 32&t&&(n=null),null==e[5]||e[5].translationState===l.ongoingTranslation?0:e[5].translationState===l.anonymousUserMaxCharExceeded?1:e[5].error?2:e[2]===Q.gdocs?3:e[5].translatedSnippet?4:(null==n&&(n=!(!jt()||!e[5].translatedDOMSnippet)),n?5:-1)}~(o=u(e,-1))&&(i=d[o]=c[o](e));let p=e[7]&&e[8]&&B_(e);return{c(){t=ea("div"),i&&i.c(),s=oa(),p&&p.c(),r=ia(),la(t,"class","tooltip-container svelte-1o8y5qz"),la(t,"data-qa","deepl-inline-translation-result-container"),ma(t,"error",e[5].error)},m(e,n){Xr(e,t,n),~o&&d[o].m(t,null),Xr(e,s,n),p&&p.m(e,n),Xr(e,r,n),a=!0},p(e,n){let s=o;o=u(e,n),o===s?~o&&d[o].p(e,n):(i&&(Ya(),Xa(d[s],1,1,(()=>{d[s]=null})),Za()),~o?(i=d[o],i?i.p(e,n):(i=d[o]=c[o](e),i.c()),Ka(i,1),i.m(t,null)):i=null),(!a||32&n)&&ma(t,"error",e[5].error),e[7]&&e[8]?p?(p.p(e,n),384&n&&Ka(p,1)):(p=B_(e),p.c(),Ka(p,1),p.m(r.parentNode,r)):p&&(Ya(),Xa(p,1,1,(()=>{p=null})),Za())},i(e){a||(Ka(i),Ka(p),a=!0)},o(e){Xa(i),Xa(p),a=!1},d(e){e&&Jr(t),~o&&d[o].d(),e&&Jr(s),p&&p.d(e),e&&Jr(r)}}}function V_(e){let t,n,o;return n=new rf({props:{closeWindow:e[13],showLangSelect:!e[5].error,settings:dl,websiteSettings:e[1],extensionContext:e[11],platformBehaviour:e[2],textProcessingMode:e[3],showProStatus:e[10],showServiceName:!0,showSettingsIcon:!0,$$slots:{default:[F_]},$$scope:{ctx:e}}}),{c(){t=ea("div"),ol(n.$$.fragment)},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,[t]){const o={};32&t&&(o.showLangSelect=!e[5].error),2&t&&(o.websiteSettings=e[1]),4&t&&(o.platformBehaviour=e[2]),8&t&&(o.textProcessingMode=e[3]),1024&t&&(o.showProStatus=e[10]),67109887&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function Y_(e,n,o){let i,s,r=xr,a=()=>(r(),r=Ir(d,(e=>o(5,i=e))),d);Ar(e,dl,(e=>o(6,s=e))),e.$$.on_destroy.push((()=>r()));let{closeTooltip:c}=n,{websiteSettings:d}=n;a();let u,p,m,g,h,{platformBehaviour:f=Q.default}=n,{textProcessingMode:_=ee.translate}=n,{setPositioningStatus:v}=n,w="",b="",E="",$=y;function x(){return!!g&&1===g.trim().split(" ").length}function T(){const e=w&&m&&x()?C:L;if(i.originalSnippet&&i.originalSnippet!==E){E=i.originalSnippet;try{t({action:"dltrackDictionaryStatus",payload:{status:e,langPair:m}})}catch(e){console.log(e)}}}async function S(){let e=chrome.i18n.getUILanguage();var n;e&&(n=e,Tf.has(n.toUpperCase()))||(e="EN"),e=e.substring(0,2).toUpperCase(),o(9,b=""),await(Da(),Oa),t({action:"dlGetDictionary",payload:{interfaceLang:e,sourceLang:i.websiteLanguage,targetLang:s.selectedTargetLanguage,text:g}}).then((e=>{o(8,w=e)})).catch((e=>{switch(t({action:"dlTrackLingueeErrorData",payload:{lingueeError:e.error}}),e.error){case pr:o(9,b=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"));break;case ur:o(9,b=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",g));break;default:o(9,b=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"))}})).finally((()=>{T(),o(7,u=!1)}))}async function k(e){switch(_){case ee.translate:{const n=await bt(i.originalSnippet);let o;e===Le&&(o="dlTrackGdocsMaxCharExceededShown"),e===ke&&(o="dlTrackGDocsMaxCharExceededTryProClicked"),t({action:o,payload:{sourceLang:n,targetLang:s.selectedTargetLanguage,sourceLength:i.originalSnippet.length}})}break;case ee.write:{const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.trackMaxCharExceeded(e)}}}return e.$$set=e=>{"closeTooltip"in e&&o(0,c=e.closeTooltip),"websiteSettings"in e&&a(o(1,d=e.websiteSettings)),"platformBehaviour"in e&&o(2,f=e.platformBehaviour),"textProcessingMode"in e&&o(3,_=e.textProcessingMode),"setPositioningStatus"in e&&o(16,v=e.setPositioningStatus)},e.$$.update=()=>{if(36&e.$$.dirty&&f===Q.gdocs&&i.translationState===l.anonymousUserMaxCharExceeded&&i.originalSnippet.length>0&&k(Le),96&e.$$.dirty&&i&&s&&(i.websiteLanguage,s.selectedTargetLanguage,i.originalSnippet),33&e.$$.dirty&&i&&(!i.isTranslationTooltipInjected||i.translationState!==l.none||i.translatedSnippet||i.error||i.translatedDOMSnippet||c()),65572&e.$$.dirty&&!i.translationState&&f===Q.default&&v&&(v(!0),setTimeout((()=>{v(!1)}),600)),262256&e.$$.dirty){if(s.selectedTargetLanguage!==i.snippetDetectedSourceLang&&i.snippetDetectedSourceLang){let e=i.snippetDetectedSourceLang,t=s.selectedTargetLanguage;["EN-GB","EN-US"].includes(e)&&(e="EN"),["EN-GB","EN-US"].includes(t)&&(t="EN"),["PT-PT","PT-BR"].includes(e)&&(e="PT"),["PT-PT","PT-BR"].includes(t)&&(t="PT"),o(4,m=function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return Sf.get(n)}(e,t))}else o(4,m="");i.originalSnippet&&i.originalSnippet.trim()!==g?(o(18,g=i.originalSnippet.trim()),o(9,b=""),m&&x()?(o(17,p=m),S()):(o(8,w=""),T(),o(7,u=!1))):o(7,u=!1)}131088&e.$$.dirty&&m!=p&&m&&x()&&S(),72&e.$$.dirty&&o(10,h=We(s,ge.TRANSLATOR)&&_===ee.translate||We(s,ge.WRITE)&&_===ee.write)},[c,d,f,_,m,i,s,u,w,b,h,$,x,function(){t({action:"dlTrackUiAction",payload:{uiAction:U,nicheIntegration:f}}),c()},function(){m&&x()&&w&&!b&&o(7,u=!u)},function(){k(ke),t({action:"dlExternalURLRedirect",payload:{destination:_===ee.translate?zc:qc,utmContent:_===ee.translate?"gdocs_customization":"gdocs_customization_write"}})},v,p,g,()=>i.translatedDOMSnippet,()=>i.originalSnippet]}class Z_ extends al{constructor(e){super(),rl(this,e,Y_,V_,Mr,{closeTooltip:0,websiteSettings:1,platformBehaviour:2,textProcessingMode:3,setPositioningStatus:16})}}function K_(e){let t,n,o,i,s,r,a,l;return s=new Z_({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=ea("div"),n=ea("div"),o=oa(),i=ea("div"),ol(s.$$.fragment),la(n,"class","tooltip-drag-handle svelte-1syntch"),la(i,"class","tooltip-body svelte-1syntch"),la(t,"class","tooltip-wrapper svelte-1syntch"),la(t,"style",e[6]),la(t,"draggable",e[5]),la(t,"dir",Tt())},m(c,d){Xr(c,t,d),Yr(t,n),Yr(t,o),Yr(t,i),il(s,i,null),e[18](t),r=!0,a||(l=[sa(n,"mouseover",e[8]),sa(n,"mouseout",e[9]),Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[17]),sa(t,"dragstart",e[10])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),8&n&&(o.textProcessingMode=e[3]),s.$set(o),(!r||64&n)&&la(t,"style",e[6]),(!r||32&n)&&la(t,"draggable",e[5])},i(e){r||(Ka(s.$$.fragment,e),r=!0)},o(e){Xa(s.$$.fragment,e),r=!1},d(n){n&&Jr(t),sl(s),e[18](null),a=!1,Lr(l)}}}function X_(e){return e.preventDefault(),!1}function J_(e,n,o){let i;Ar(e,dl,(e=>o(16,i=e))),Ca("deepl_settings",dl),Ca("text_direction",Tt());let s,r,a,l,{closeTooltip:c}=n,{websiteSettings:d}=n,{replaceElement:u}=n,{actualPosition:p}=n,{dragContainerTo:m}=n,{platformBehaviour:g=Q.default}=n,{textProcessingMode:h=ee.translate}=n,f=!1,_=!1,v="visibility: hidden; opacity:0; height:0;";let w={x:0,y:0};function b(e){e.preventDefault(),0!==e.y&&0!==e.x&&m({x:e.pageX-w.x,y:e.pageY-w.y})}xa((()=>{o(15,l=i.isLoggedIn),setTimeout((()=>{o(6,v="")}),100),document.addEventListener("dragover",X_),document.addEventListener("drop",b),a=Ql(s,(({clientHeight:e})=>{o(14,r=e)}))})),Ta((()=>{document.removeEventListener("dragover",X_),document.removeEventListener("drop",b),a&&a()}));return e.$$set=e=>{"closeTooltip"in e&&o(0,c=e.closeTooltip),"websiteSettings"in e&&o(1,d=e.websiteSettings),"replaceElement"in e&&o(12,u=e.replaceElement),"actualPosition"in e&&o(11,p=e.actualPosition),"dragContainerTo"in e&&o(13,m=e.dragContainerTo),"platformBehaviour"in e&&o(2,g=e.platformBehaviour),"textProcessingMode"in e&&o(3,h=e.textProcessingMode)},e.$$.update=()=>{var t,n;98305&e.$$.dirty&&!1===l&&!0===i.isLoggedIn&&c(),65536&e.$$.dirty&&o(11,(t=i.inlineTranslateTooltipPosition,p=u(r,t))),16384&e.$$.dirty&&o(11,(n=r,p=_||g===Q.gdocs?u(n,i.inlineTranslateTooltipPosition):p))},[c,d,g,h,s,f,v,e=>{_=e},function(){o(5,f=!0)},function(){o(5,f=!1)},function(e){e.dataTransfer.setData("text/html","");const n=e.target.getBoundingClientRect(),o=e.clientX-n.left,i=e.clientY-n.top;w.x=o>0?o:0,w.y=i>0?i:0,function(){try{t({action:"dlTrackInlineDragStart",payload:{nicheIntegration:g}})}catch(e){console.error(e)}}()},p,u,m,r,l,i,()=>c(),function(e){Ia[e?"unshift":"push"]((()=>{s=e,o(4,s)}))}]}class Q_ extends al{constructor(e){super(),rl(this,e,J_,K_,Mr,{closeTooltip:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2,textProcessingMode:3})}}class ev{static HTML_TAG_NAME="deepl-inline-translate-tooltip";static createElement=(e=document)=>{const t=e.createElement(ev.HTML_TAG_NAME),n=new ev(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};#e=void 0;constructor(e){this.domElement=e,this.domElement.platformBehaviour=Q.default,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t,n)=>{const{deepl_inline_ui:o}=A;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===Q.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let i=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let s="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(o.z_index-100),r=`position: absolute; top: ${i.y}px; left: ${i.x-200}px; z-index: ${o.z_index-100};`;switch(this.domElement.platformBehaviour){case Q.gdocs:r+="top: 600px; left: 10px;";break;case Q.default:default:r+=""}this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=r,this.domElement.mainComponent=new Q_({target:this.domElement.container,props:{closeTooltip:t,websiteSettings:n,replaceElement:(t,n)=>{i=e(this.domElement.selectionRange);const o={coords:i,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let s=n;const r=$f(o),[a,l]=(e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]})(n),c=this.#e??{x:0,y:0};if(this.domElement.platformBehaviour===Q.gdocs){for(const e of l)if(Ef(e,o)){yf(e,o,c);break}}else for(const e of a)if(Ef(e,o)){s="middle"!==e?e:void 0,bf(e,o,c);break}return{...r,current:s}},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo}})};dragContainerTo=e=>{this.#e={y:parseInt(this.domElement.container.style.top)-e.y+(this.#e?.y??0),x:parseInt(this.domElement.container.style.left)-e.x+(this.#e?.x??0)},this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function tv(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v;return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=ea("div"),s=oa(),r=ea("div"),a=ea("div"),a.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,l=oa(),c=ea("div"),c.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,d=oa(),u=ea("button"),la(i,"class","logo svelte-12nyqlb"),la(a,"class","headline svelte-12nyqlb"),la(c,"class","text svelte-12nyqlb"),la(r,"class","text-wrapper svelte-12nyqlb"),la(o,"class","content svelte-12nyqlb"),la(u,"class","close-icon svelte-12nyqlb"),la(n,"class",p=Hr(`body body__${e[1]}`)+" svelte-12nyqlb"),la(t,"class",m=Hr(`container container__${e[1]}`)+" svelte-12nyqlb")},m(p,m){Xr(p,t,m),Yr(t,n),Yr(n,o),Yr(o,i),Yr(o,s),Yr(o,r),Yr(r,a),Yr(r,l),Yr(r,c),Yr(n,d),Yr(n,u),f=!0,_||(v=sa(u,"click",e[3]),_=!0)},p(e,[o]){(!f||2&o&&p!==(p=Hr(`body body__${e[1]}`)+" svelte-12nyqlb"))&&la(n,"class",p),(!f||2&o&&m!==(m=Hr(`container container__${e[1]}`)+" svelte-12nyqlb"))&&la(t,"class",m)},i(e){f||(Pa((()=>{f&&(h&&h.end(1),g=Qa(t,vl,{x:100,duration:1e3}),g.start())})),f=!0)},o(e){g&&g.invalidate(),h=el(t,vl,{x:100,duration:1e3}),f=!1},d(e){e&&Jr(t),e&&h&&h.end(),_=!1,v()}}}function nv(n,o,i){let{closeInlineHighlighter:s=(()=>{})}=o,{el:r}=o,a="topLeft";xa((async()=>{try{t({action:"dltrackOpenInlineHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}));return n.$$set=e=>{"closeInlineHighlighter"in e&&i(0,s=e.closeInlineHighlighter),"el"in e&&i(2,r=e.el)},n.$$.update=()=>{if(4&n.$$.dirty&&r){const e=r.getBoundingClientRect();let t=e.x>387,n=window.innerWidth-e.right>387,o=window.innerHeight-e.bottom>150,s=e.y>150;s&&t?i(1,a="topLeft"):s&&n?i(1,a="topRight"):o&&t?i(1,a="bottomLeft"):o&&n&&i(1,a="bottomRight")}},[s,a,r,()=>s(J.close_icon)]}class ov extends al{constructor(e){super(),rl(this,e,nv,tv,Mr,{closeInlineHighlighter:0,el:2})}}function iv(e){let t,n,o,i,s,r,a,l,c,d=e[3]&&!e[1].isInlineHighlighterShown&&sv(e);return o=new Jl({props:{tooltip:e[2],showProShield:We(e[1],ge.WRITE),$$slots:{default:[rv]},$$scope:{ctx:e}}}),s=new Jl({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[av]},$$scope:{ctx:e}}}),{c(){d&&d.c(),t=oa(),n=ea("div"),ol(o.$$.fragment),i=oa(),ol(s.$$.fragment),la(n,"class","icon-container svelte-1b84pdq"),la(n,"data-qa","deepl-inline-translate-icon-container"),la(n,"dir",Tt())},m(r,u){d&&d.m(r,u),Xr(r,t,u),Xr(r,n,u),il(o,n,null),Yr(n,i),il(s,n,null),e[24](n),a=!0,l||(c=[sa(n,"blur",e[15]),sa(n,"mouseenter",e[7]),sa(n,"mouseleave",e[8])],l=!0)},p(e,n){e[3]&&!e[1].isInlineHighlighterShown?d?(d.p(e,n),10&n&&Ka(d,1)):(d=sv(e),d.c(),Ka(d,1),d.m(t.parentNode,t)):d&&(Ya(),Xa(d,1,1,(()=>{d=null})),Za());const i={};4&n&&(i.tooltip=e[2]),2&n&&(i.showProShield=We(e[1],ge.WRITE)),67108864&n&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const r={};67108880&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r)},i(e){a||(Ka(d),Ka(o.$$.fragment,e),Ka(s.$$.fragment,e),r||Pa((()=>{r=Qa(n,vl,{x:-5,duration:300}),r.start()})),a=!0)},o(e){Xa(d),Xa(o.$$.fragment,e),Xa(s.$$.fragment,e),a=!1},d(i){d&&d.d(i),i&&Jr(t),i&&Jr(n),sl(o),sl(s),e[24](null),l=!1,Lr(c)}}}function sv(e){let t,n;return t=new ov({props:{closeInlineHighlighter:e[11],el:e[3]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.el=e[3]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function rv(e){let t,n,o;return{c(){t=ea("div"),la(t,"class","dl-logo svelte-1b84pdq"),la(t,"data-qa","deepl-inline-translate-menu-icon")},m(i,s){Xr(i,t,s),n||(o=[sa(t,"click",aa(ra(e[6]))),sa(t,"focus",e[19]),sa(t,"mouseup",aa(ra(e[20]))),sa(t,"mousedown",aa(ra(e[21]))),sa(t,"mouseenter",e[22])],n=!0)},p:xr,d(e){e&&Jr(t),n=!1,Lr(o)}}}function av(e){let t,n,o,i,s;return{c(){t=ea("div"),la(t,"data-qa","deepl-inline-translate-turnoff-icon"),la(t,"class",n=Hr(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-1b84pdq")},m(n,o){Xr(n,t,o),i||(s=[sa(t,"click",aa(ra(e[9]))),sa(t,"focus",e[16]),sa(t,"mousedown",aa(ra(e[17]))),sa(t,"mouseup",aa(ra(e[18]))),sa(t,"mouseenter",e[23])],i=!0)},p(e,o){16&o&&n!==(n=Hr(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-1b84pdq")&&la(t,"class",n)},i(e){o||Pa((()=>{o=Qa(t,vl,{x:-5,duration:300}),o.start()}))},o:xr,d(e){e&&Jr(t),i=!1,Lr(s)}}}function lv(e){let t,n,o=!e[5]&&iv(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[5]?o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za()):o?(o.p(e,n),32&n&&Ka(o,1)):(o=iv(e),o.c(),Ka(o,1),o.m(t.parentNode,t))},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function cv(e,o,i){let s,r,a,l=xr,c=()=>(l(),l=Ir(d,(e=>i(14,a=e))),d);Ar(e,dl,(e=>i(1,r=e))),e.$$.on_destroy.push((()=>l())),Ca("deepl_settings",dl),Ca("text_direction",Tt());let{websiteSettings:d}=o;c();let u,p,{platformBehaviour:m=Q.default}=o,g="",h=!1;function f(){KE(),v(),t({action:"dlTriggerTranslateInline"}),g||n(N.hintKeyboardShortcut),b(J.deepl_icon)}async function _(e,n,o){if("dlTriggerTranslationShortcut"===e.action)f(),t({action:"dlTrackUseOfShortcut",payload:{shortcutType:D,location:R.inlineTranslationTriggerIcon,nicheIntegration:m}}),o()}function v(){a&&a.isInlineTranslateSettingsTooltipInjected||i(4,h=!1)}function w(e){t({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:m}})}function b(e){if(!r.isInlineHighlighterShown){dl.set({isInlineHighlighterShown:!0});try{t({action:"dltrackCloseInlineHighlighter",payload:{trigger:e}})}catch(e){console.error(e)}}}t({action:"dlCheckCommandShortcuts"}).then((e=>i(13,g=e?e.filter((e=>e.name==D))[0].shortcut:""))),chrome.runtime.onMessage.addListener(_),Ta((()=>{chrome.runtime.onMessage.removeListener(_)}));return e.$$set=e=>{"websiteSettings"in e&&c(i(0,d=e.websiteSettings)),"platformBehaviour"in e&&i(12,m=e.platformBehaviour)},e.$$.update=()=>{if(2&e.$$.dirty&&i(5,s=r.blacklistDomainsForReading&&r.blacklistDomainsForReading.includes(window.location.hostname)||!r.enableInlineTranslation||r.isGmailEnabled&&Cm()),24576&e.$$.dirty){let e;e=chrome.i18n.getMessage("context_menus_translate_section"),i(2,u=g?`${e} (${g})`:e),!1===a.isInlineTranslateSettingsTooltipInjected&&i(4,h=!1)}},[d,r,u,p,h,s,f,function(){i(4,h=!0)},v,function(){a&&!a.isInlineTranslateSettingsTooltipInjected&&(i(4,h=!0),ZE(m),t({action:"dlTrackInlineSettingOpened",payload:{uiFunction:W,uiLocation:R.inlineTranslationTriggerIcon,nicheIntegration:m}})),b(J.deepl_icon)},w,b,m,g,a,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},()=>w(R.inlineTranslationTriggerIcon),()=>w(R.inlineTranslationSettingsIcon),function(e){Ia[e?"unshift":"push"]((()=>{p=e,i(3,p)}))}]}class dv extends al{constructor(e){super(),rl(this,e,cv,lv,Mr,{websiteSettings:0,platformBehaviour:12})}}class uv{static HTML_TAG_NAME="deepl-inline-trigger";static createElement=(e=document)=>{const t=e.createElement(uv.HTML_TAG_NAME),n=new uv(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.repositionContainer(t),this.domElement.shadowContainer.appendChild(this.domElement.container),this.domElement.mainComponent=new dv({target:this.domElement.container,props:{websiteSettings:e}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t};repositionContainer=e=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:t}=A,n=t.z_index-500,o=Hm();let i=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}`,s=`position: absolute; z-index: ${n};`;this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=s;const r=function(e,t){let n={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return n;const{TRIGGER_EXPENDED_WIDTH:o,TRIGGER_WIDTH:i,TRIGGER_HEIGHT:s}=ff,r=e?.detail;if(1===r){if(e.isOutsideOfView)return n;let r=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const a=document.body.parentNode.getBoundingClientRect();let l=e.pageY+.5*r,c=t.selectedTop+t.height-r-a.y;if(t.height<1.5*r){n.containerStyleLeft=e.clientX;const s=t.x+t.selectedWidth;e.clientX>s?n.containerStyleLeft=t.selectedRight>o?s:s-o:e.clientX-t.x<i&&e.clientX<t.x&&(n.containerStyleLeft=t.selectedLeft>o?t.x:t.x+o)}else l>c?n.containerStyleLeft=e.clientX:l<c&&(n.containerStyleTop=t.y-t.height-s-5,n.containerStyleLeft=e.clientX)}else if(2===r){n.containerStyleLeft=t.x+t.selectedWidth-i;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));parseInt(t.height/2)>e&&(n.containerStyleTop=t.y-t.height+e+2)}const a=window.innerWidth||document.documentElement.innerWidth,l=window.scrollHeight||document.documentElement.scrollHeight;return n.containerStyleLeft+o>a&&(n.containerStyleLeft=n.containerStyleLeft-o),(n.containerStyleTop+s>l||n.containerStyleTop<0)&&(n.containerStyleTop=t.y-s),n}(e,o);this.domElement.container.style.top=`${parseInt(r.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(r.containerStyleLeft)}px`};cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent);addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)};removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()}}function pv(e){let t,n,o;return{c(){t=ea("div"),la(t,"class","container svelte-1dicgbw")},m(i,s){Xr(i,t,s),t.innerHTML=e[1],n||(o=sa(t,"click",e[0]),n=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),n=!1,o()}}}function mv(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:Fc}}),t({action:"dlTrackUiAction",payload:{uiAction:P}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}class gv extends al{constructor(e){super(),rl(this,e,mv,pv,Mr,{})}}function hv(e){let t,n,o;return{c(){t=ea("div"),la(t,"class","container svelte-1dicgbw"),la(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(i,s){Xr(i,t,s),t.innerHTML=e[0],n||(o=sa(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0])},i:xr,o:xr,d(e){e&&Jr(t),n=!1,o()}}}function fv(e,n,o){let{options:i}=n,s=i?.settingsPageURL?i?.settingsPageURL:tg.settings_page;let r="",a=i?.currentDomain?i.currentDomain:"";switch(i.saveAction){case z.disableEverywhere:r=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case z.disablePerSite:r=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&o(2,i=e.options)},[r,function(){t({action:"dlOpenInternalPage",payload:{destination:s}})},i]}class _v extends al{constructor(e){super(),rl(this,e,fv,hv,Mr,{options:2})}}function vv(e){let t,n,o;return{c(){t=ea("div"),la(t,"class","container svelte-1dicgbw"),la(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Xr(i,t,s),t.innerHTML=e[0],n||(o=sa(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0])},i:xr,o:xr,d(e){e&&Jr(t),n=!1,o()}}}function wv(e,n,o){let{options:i}=n,s=i?.settingsPageURL?i?.settingsPageURL:tg.settings_page;let r="",a=i?.currentDomain?i.currentDomain:"";switch(i.saveAction){case z.disableEverywhere:r=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case z.disablePerSite:r=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&o(2,i=e.options)},[r,function(){t({action:"dlOpenInternalPage",payload:{destination:s}})},i]}class bv extends al{constructor(e){super(),rl(this,e,wv,vv,Mr,{options:2})}}function yv(e){let t,n,o;return{c(){t=ea("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,la(t,"class","container svelte-66p1xn"),la(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[0]),n=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),n=!1,o()}}}function Ev(e){return[function(){t({action:"dlOpenInternalPage",payload:{destination:tg.settings_page}})}]}class $v extends al{constructor(e){super(),rl(this,e,Ev,yv,Mr,{})}}function xv(e){let t;return{c(){t=ea("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,la(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class Tv extends al{constructor(e){super(),rl(this,e,null,xv,Mr,{})}}function Sv(e){let t;return{c(){t=ea("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,la(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}class Cv extends al{constructor(e){super(),rl(this,e,null,Sv,Mr,{})}}function Lv(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;var h=e[5];function f(e){return{props:{options:e[1]}}}return h&&(a=fa(h,f(e))),{c(){t=ea("div"),n=ea("div"),o=ea("button"),s=oa(),r=ea("div"),a&&ol(a.$$.fragment),la(o,"class",i="dl-close-icon "+e[4]+" svelte-z9irgj"),la(n,"class","header"),la(n,"notificationtheme",e[4]),la(r,"class",l="body "+e[4]+" svelte-z9irgj"),la(t,"class",c="container "+e[4]+" svelte-z9irgj"),la(t,"dir",Tt()),ma(t,"contrast",e[0]===N.fullPageTranslation),ma(t,"success",e[0]===N.accountSuccessfullyCreated||e[0]===N.successfullyLoggedIn)},m(i,l){Xr(i,t,l),Yr(t,n),Yr(n,o),Yr(t,s),Yr(t,r),a&&il(a,r,null),p=!0,m||(g=sa(o,"click",(function(){kr(e[2])&&e[2].apply(this,arguments)})),m=!0)},p(s,d){e=s,(!p||16&d&&i!==(i="dl-close-icon "+e[4]+" svelte-z9irgj"))&&la(o,"class",i),(!p||16&d)&&la(n,"notificationtheme",e[4]);const u={};if(2&d&&(u.options=e[1]),32&d&&h!==(h=e[5])){if(a){Ya();const e=a;Xa(e.$$.fragment,1,0,(()=>{sl(e,1)})),Za()}h?(a=fa(h,f(e)),ol(a.$$.fragment),Ka(a.$$.fragment,1),il(a,r,null)):a=null}else h&&a.$set(u);(!p||16&d&&l!==(l="body "+e[4]+" svelte-z9irgj"))&&la(r,"class",l),(!p||16&d&&c!==(c="container "+e[4]+" svelte-z9irgj"))&&la(t,"class",c),(!p||17&d)&&ma(t,"contrast",e[0]===N.fullPageTranslation),(!p||17&d)&&ma(t,"success",e[0]===N.accountSuccessfullyCreated||e[0]===N.successfullyLoggedIn)},i(e){p||(a&&Ka(a.$$.fragment,e),Pa((()=>{p&&(u&&u.end(1),d=Qa(t,vl,{x:100,duration:1e3}),d.start())})),p=!0)},o(e){a&&Xa(a.$$.fragment,e),d&&d.invalidate(),u=el(t,vl,{x:100,duration:1e3}),p=!1},d(e){e&&Jr(t),a&&sl(a),e&&u&&u.end(),m=!1,g()}}}function kv(e){let t,n,o=e[3]&&Lv(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&Ka(o,1)):(o=Lv(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function Mv(e,t,n){let o,i;Ca("text_direction",Tt());let{type:s}=t,{options:r}=t,{close:a}=t,l=!1;const c={[N.hintKeyboardShortcut]:gv,[N.inputTranslation]:_v,[N.inlineTranslation]:bv,[N.fullPageTranslation]:$v,[N.accountSuccessfullyCreated]:Tv,[N.successfullyLoggedIn]:Cv};return xa((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>a()),11100)})),e.$$set=e=>{"type"in e&&n(0,s=e.type),"options"in e&&n(1,r=e.options),"close"in e&&n(2,a=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[s]),2&e.$$.dirty&&n(4,i=O[r?.theme]?O[r?.theme]:"")},[s,r,a,l,i,o]}class Iv extends al{constructor(e){super(),rl(this,e,Mv,kv,Mr,{type:0,options:1,close:2})}}class Av{static HTML_TAG_NAME="deepl-notification";static createElement=(e=document)=>{const t=e.createElement(Av.HTML_TAG_NAME),n=new Av(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{const n="rtl"===Tt()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${n}: 20px; z-index: ${A.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new Iv({target:this.domElement.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}function Nv(e){let t,n,o,i;return{c(){t=ea("div"),n=ea("div"),la(n,"class","close-button svelte-2cst7"),la(t,"class","close-button-container svelte-2cst7")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(n,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Jr(t),o=!1,i()}}}function Ov(e){let t,n,o,i,s,r=e[0]&&Nv(e);const a=e[2].default,l=Nr(a,e,e[1],null);return{c(){r&&r.c(),t=oa(),n=ea("div"),o=ea("div"),i=oa(),l&&l.c(),la(o,"class","logo svelte-2cst7"),la(n,"class","body svelte-2cst7")},m(e,a){r&&r.m(e,a),Xr(e,t,a),Xr(e,n,a),Yr(n,o),Yr(n,i),l&&l.m(n,null),s=!0},p(e,[n]){e[0]?r?r.p(e,n):(r=Nv(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),l&&l.p&&(!s||2&n)&&Dr(l,a,e,e[1],s?Rr(a,e[1],n,null):Pr(e[1]),null)},i(e){s||(Ka(l,e),s=!0)},o(e){Xa(l,e),s=!1},d(e){r&&r.d(e),e&&Jr(t),e&&Jr(n),l&&l.d(e)}}}function Rv(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Dv extends al{constructor(e){super(),rl(this,e,Rv,Ov,Mr,{onClose:0})}}function Pv(e){let t,n;return{c(){t=ea("div"),n=na(e[0]),la(t,"class","info-msg svelte-17qaccl")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,[t]){1&t&&ca(n,e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function Hv(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class Uv extends al{constructor(e){super(),rl(this,e,Hv,Pv,Mr,{message:0})}}function Gv(e){let t,n,o,i,s;const r=e[7].default,a=Nr(r,e,e[6],null);return{c(){t=ea("button"),a&&a.c(),la(t,"type","button"),la(t,"class",n=Hr(e[0])+" svelte-1wkb4xl"),t.disabled=e[1],la(t,"id",e[5]),la(t,"data-qa",e[4]),ma(t,"disabled",e[1]),ma(t,"font-size-sm","sm"===e[2]),ma(t,"padding-x-md","md"===e[3]),ma(t,"padding-x-none","none"===e[3])},m(n,r){Xr(n,t,r),a&&a.m(t,null),o=!0,i||(s=[sa(t,"click",e[8]),sa(t,"mousedown",aa(ra(e[9])))],i=!0)},p(e,[i]){a&&a.p&&(!o||64&i)&&Dr(a,r,e,e[6],o?Rr(r,e[6],i,null):Pr(e[6]),null),(!o||1&i&&n!==(n=Hr(e[0])+" svelte-1wkb4xl"))&&la(t,"class",n),(!o||2&i)&&(t.disabled=e[1]),(!o||32&i)&&la(t,"id",e[5]),(!o||16&i)&&la(t,"data-qa",e[4]),(!o||3&i)&&ma(t,"disabled",e[1]),(!o||5&i)&&ma(t,"font-size-sm","sm"===e[2]),(!o||9&i)&&ma(t,"padding-x-md","md"===e[3]),(!o||9&i)&&ma(t,"padding-x-none","none"===e[3])},i(e){o||(Ka(a,e),o=!0)},o(e){Xa(a,e),o=!1},d(e){e&&Jr(t),a&&a.d(e),i=!1,Lr(s)}}}function zv(e,t,n){let{$$slots:o={},$$scope:i}=t,{className:s="button-primary"}=t,{disabled:r=!1}=t,{fontSize:a="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,s=e.className),"disabled"in e&&n(1,r=e.disabled),"fontSize"in e&&n(2,a=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,i=e.$$scope)},[s,r,a,l,c,d,i,o,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)}]}class qv extends al{constructor(e){super(),rl(this,e,zv,Gv,Mr,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function Wv(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_cancel")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function jv(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_confirm")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Bv(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E,$,x,T,S,C,L,k,M,I,A,N;return C=new qv({props:{className:"button-link",paddingX:"none",$$slots:{default:[Wv]},$$scope:{ctx:e}}}),C.$on("click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),k=new qv({props:{className:"button-primary",$$slots:{default:[jv]},$$scope:{ctx:e}}}),k.$on("click",e[4]),I=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[7][0]),{c(){t=ea("div"),n=ea("p"),n.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,o=oa(),i=ea("div"),s=ea("div"),r=ea("label"),a=ea("span"),l=ea("input"),c=oa(),d=ea("span"),d.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,u=oa(),p=ea("div"),m=ea("label"),g=ea("span"),h=ea("input"),f=oa(),_=ea("span"),_.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,v=oa(),w=ea("div"),b=ea("label"),y=ea("span"),E=ea("input"),$=oa(),x=ea("span"),x.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,T=oa(),S=ea("div"),ol(C.$$.fragment),L=oa(),ol(k.$$.fragment),la(n,"class","font-bold svelte-1vpv55x"),la(l,"id","option-website"),la(l,"name","option"),la(l,"type","radio"),l.__value="website",l.value=l.__value,la(l,"class","svelte-1vpv55x"),la(d,"class","label svelte-1vpv55x"),la(r,"for","option-website"),la(r,"class","svelte-1vpv55x"),la(s,"class","option svelte-1vpv55x"),la(h,"id","option-lang"),la(h,"type","radio"),la(h,"name","option"),h.__value="lang",h.value=h.__value,la(h,"class","svelte-1vpv55x"),la(_,"class","label svelte-1vpv55x"),la(m,"for","option-lang"),la(m,"class","svelte-1vpv55x"),la(p,"class","option svelte-1vpv55x"),la(E,"id","option-fpt"),la(E,"type","radio"),la(E,"name","option"),E.__value="fpt",E.value=E.__value,la(E,"class","svelte-1vpv55x"),la(x,"class","label svelte-1vpv55x"),la(b,"for","option-fpt"),la(b,"class","svelte-1vpv55x"),la(w,"class","option svelte-1vpv55x"),la(i,"class","cancel-container svelte-1vpv55x"),la(t,"class","cancel-translation-body svelte-1vpv55x"),la(S,"class","cancel-translation-footer svelte-1vpv55x"),I.p(l,h,E)},m(I,O){Xr(I,t,O),Yr(t,n),Yr(t,o),Yr(t,i),Yr(i,s),Yr(s,r),Yr(r,a),Yr(a,l),l.checked=l.__value===e[1],Yr(r,c),Yr(r,d),Yr(i,u),Yr(i,p),Yr(p,m),Yr(m,g),Yr(g,h),h.checked=h.__value===e[1],Yr(m,f),Yr(m,_),Yr(i,v),Yr(i,w),Yr(w,b),Yr(b,y),Yr(y,E),E.checked=E.__value===e[1],Yr(b,$),Yr(b,x),Xr(I,T,O),Xr(I,S,O),il(C,S,null),Yr(S,L),il(k,S,null),M=!0,A||(N=[sa(l,"change",e[6]),sa(h,"change",e[8]),sa(E,"change",e[9])],A=!0)},p(t,[n]){e=t,2&n&&(l.checked=l.__value===e[1]),2&n&&(h.checked=h.__value===e[1]),2&n&&(E.checked=E.__value===e[1]);const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),C.$set(o);const i={};65536&n&&(i.$$scope={dirty:n,ctx:e}),k.$set(i)},i(e){M||(Ka(C.$$.fragment,e),Ka(k.$$.fragment,e),M=!0)},o(e){Xa(C.$$.fragment,e),Xa(k.$$.fragment,e),M=!1},d(e){e&&Jr(t),e&&Jr(T),e&&Jr(S),sl(C),sl(k),I.r(),A=!1,Lr(N)}}}function Fv(e,n,o){let i,s;const r=La("deepl_settings");Ar(e,r,(e=>o(11,s=e)));const l=La("deepl_website_settings");Ar(e,l,(e=>o(10,i=e)));let{onClose:c}=n,{onCancel:d}=n,u="fpt";return e.$$set=e=>{"onClose"in e&&o(5,c=e.onClose),"onCancel"in e&&o(0,d=e.onCancel)},[d,u,r,l,()=>{const e={hideOption:void 0,sourceLang:i.websiteLanguage,domainName:i.hostname,uiLocation:wh(R.fptHideModal)};switch(u){case"website":Ur(r,s.blacklistDomains=[...s.blacklistDomains,i.hostname],s),e.hideOption=E;break;case"lang":n=i.websiteLanguage,o=a,"EN"===n?(Ur(r,s.languagesForTranslation={...s.languagesForTranslation,"EN-GB":o},s),Ur(r,s.languagesForTranslation={...s.languagesForTranslation,"EN-US":o},s)):"PT"===n?(Ur(r,s.languagesForTranslation={...s.languagesForTranslation,"PT-PT":o},s),Ur(r,s.languagesForTranslation={...s.languagesForTranslation,"PT-BR":o},s)):Ur(r,s.languagesForTranslation={...s.languagesForTranslation,[n]:o},s),e.hideOption=$;break;default:e.hideOption=x,r.set({enableFullPageTranslation:!1})}var n,o;(()=>{const e=s.notificationsViewed;e&&e.fullPageTranslation||(p$(N.fullPageTranslation),r.set({notificationsViewed:{...e,fullPageTranslation:!0}}))})(),t({action:"dlTrackFptHide",payload:e}),c()},c,function(){u=this.__value,o(1,u)},[[]],function(){u=this.__value,o(1,u)},function(){u=this.__value,o(1,u)}]}class Vv extends al{constructor(e){super(),rl(this,e,Fv,Bv,Mr,{onClose:5,onCancel:0})}}function Yv(e,t,n){const o=e.slice();return o[18]=t[n],o}function Zv(e,t,n){const o=e.slice();return o[18]=t[n],o}function Kv(e,t,n){const o=e.slice();return o[18]=t[n],o}function Xv(e,t,n){const o=e.slice();return o[18]=t[n],o}function Jv(e,t,n){const o=e.slice();return o[18]=t[n],o}function Qv(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("ui_fpt_hide_checkbox")+"";t=new Dv({props:{onClose:e[0],$$slots:{default:[cw]},$$scope:{ctx:e}}});let m=e[6]&&dw(e);return{c(){ol(t.$$.fragment),n=oa(),m&&m.c(),o=oa(),i=ea("div"),s=ea("label"),r=ea("input"),a=oa(),l=na(p),la(r,"type","checkbox"),r.disabled=e[6],la(r,"class","svelte-1nurum5"),la(s,"class","svelte-1nurum5"),la(i,"class","footer svelte-1nurum5"),ma(i,"hasError",e[6])},m(p,g){il(t,p,g),Xr(p,n,g),m&&m.m(p,g),Xr(p,o,g),Xr(p,i,g),Yr(i,s),Yr(s,r),Yr(s,a),Yr(s,l),c=!0,d||(u=sa(s,"click",e[15]),d=!0)},p(e,n){const s={};1&n&&(s.onClose=e[0]),536870932&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[6]?m?(m.p(e,n),64&n&&Ka(m,1)):(m=dw(e),m.c(),Ka(m,1),m.m(o.parentNode,o)):m&&(Ya(),Xa(m,1,1,(()=>{m=null})),Za()),(!c||64&n)&&(r.disabled=e[6]),(!c||64&n)&&ma(i,"hasError",e[6])},i(e){c||(Ka(t.$$.fragment,e),Ka(m),c=!0)},o(e){Xa(t.$$.fragment,e),Xa(m),c=!1},d(e){sl(t,e),e&&Jr(n),m&&m.d(e),e&&Jr(o),e&&Jr(i),d=!1,u()}}}function ew(e){let t,n,o,i;return t=new Dv({props:{onClose:e[0]}}),o=new Vv({props:{onClose:e[0],onCancel:e[13]}}),{c(){ol(t.$$.fragment),n=oa(),ol(o.$$.fragment)},m(e,s){il(t,e,s),Xr(e,n,s),il(o,e,s),i=!0},p(e,n){const i={};1&n&&(i.onClose=e[0]),t.$set(i);const s={};1&n&&(s.onClose=e[0]),8&n&&(s.onCancel=e[13]),o.$set(s)},i(e){i||(Ka(t.$$.fragment,e),Ka(o.$$.fragment,e),i=!0)},o(e){Xa(t.$$.fragment,e),Xa(o.$$.fragment,e),i=!1},d(e){sl(t,e),e&&Jr(n),sl(o,e)}}}function tw(e){let t,n;return t=new Dv({props:{$$slots:{default:[Cw]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870966&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function nw(e){let t,n;return t=new Dv({props:{$$slots:{default:[Aw]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870928&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function ow(e){let t,n;return t=new Dv({props:{$$slots:{default:[Nw]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function iw(e){let t,n;return t=new Dv({props:{$$slots:{default:[Ow]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function sw(e){let t,n;return t=new Dv({props:{$$slots:{default:[Rw]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function rw(e){let t,n;return t=new Dv({props:{$$slots:{default:[Dw]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function aw(e){let t,n;return t=new Dv({props:{$$slots:{default:[Pw]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function lw(e){let t;return{c(){t=ea("span"),t.textContent=`${chrome.i18n.getMessage("ui_fpt_translate_button")}`,la(t,"class","svelte-1nurum5")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function cw(e){let t,n,o,i,s,r,a,l,c,d,u,p;return l=new ap({props:{value:e[2].selectedTargetLanguage,variant:"alternate",alignRight:!1}}),l.$on("selection",e[14]),u=new qv({props:{className:"btn-primary",paddingX:"md",dataQa:"dl-button-translate-page",$$slots:{default:[lw]},$$scope:{ctx:e}}}),u.$on("click",e[10]),{c(){t=ea("div"),n=ea("div"),o=na(e[4]),i=oa(),s=ea("div"),r=oa(),a=ea("div"),ol(l.$$.fragment),c=oa(),d=ea("div"),ol(u.$$.fragment),la(n,"class","website-lang svelte-1nurum5"),la(s,"class","translate-to-arrow svelte-1nurum5"),la(a,"class","language-switch svelte-1nurum5"),la(t,"class","language-selection svelte-1nurum5"),la(d,"class","translate-button svelte-1nurum5")},m(e,m){Xr(e,t,m),Yr(t,n),Yr(n,o),Yr(t,i),Yr(t,s),Yr(t,r),Yr(t,a),il(l,a,null),Xr(e,c,m),Xr(e,d,m),il(u,d,null),p=!0},p(e,t){(!p||16&t)&&ca(o,e[4]);const n={};4&t&&(n.value=e[2].selectedTargetLanguage),l.$set(n);const i={};536870912&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i)},i(e){p||(Ka(l.$$.fragment,e),Ka(u.$$.fragment,e),p=!0)},o(e){Xa(l.$$.fragment,e),Xa(u.$$.fragment,e),p=!1},d(e){e&&Jr(t),sl(l),e&&Jr(c),e&&Jr(d),sl(u)}}}function dw(e){let t,n,o;return n=new ru({props:{error:e[1].error}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","error-container svelte-1nurum5")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function uw(e){let t,n=yl(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=hw(Zv(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=ia()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xr(e,t,n)},p(e,i){if(16&i){let s;for(n=yl(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"]),s=0;s<n.length;s+=1){const r=Zv(e,n,s);o[s]?o[s].p(r,i):(o[s]=hw(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Qr(o,e),e&&Jr(t)}}}function pw(e){let t;function n(e,t){return e[5]?_w:fw}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function mw(e){let t,n=e[18].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){16&o&&n!==(n=e[18].text+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function gw(e){let t,n,o=e[18].text+"";return{c(){t=ea("strong"),n=na(o),la(t,"class","svelte-1nurum5")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){16&t&&o!==(o=e[18].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function hw(e){let t;function n(e,t){return"strong"===e[18].block?gw:mw}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function fw(e){let t,n=yl(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=bw(Kv(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=ia()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xr(e,t,n)},p(e,i){if(2&i){let s;for(n=yl(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"]),s=0;s<n.length;s+=1){const r=Kv(e,n,s);o[s]?o[s].p(r,i):(o[s]=bw(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Qr(o,e),e&&Jr(t)}}}function _w(e){let t,n=yl(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=$w(Xv(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=ia()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Xr(e,t,n)},p(e,i){if(18&i){let s;for(n=yl(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"]),s=0;s<n.length;s+=1){const r=Xv(e,n,s);o[s]?o[s].p(r,i):(o[s]=$w(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Qr(o,e),e&&Jr(t)}}}function vw(e){let t,n=e[18].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){2&o&&n!==(n=e[18].text+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function ww(e){let t,n,o=e[18].text+"";return{c(){t=ea("strong"),n=na(o),la(t,"class","svelte-1nurum5")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){2&t&&o!==(o=e[18].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function bw(e){let t;function n(e,t){return"strong"===e[18].block?ww:vw}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function yw(e){let t,n=e[18].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){18&o&&n!==(n=e[18].text+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function Ew(e){let t,n,o=e[18].text+"";return{c(){t=ea("strong"),n=na(o),la(t,"class","svelte-1nurum5")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){18&t&&o!==(o=e[18].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function $w(e){let t;function n(e,t){return"strong"===e[18].block?Ew:yw}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function xw(e){let t,n=e[18].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Tw(e){let t,n,o,i,s=e[18].text+"";return{c(){t=ea("span"),n=na(s),la(t,"class","link svelte-1nurum5")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",e[9]),o=!0)},p:xr,d(e){e&&Jr(t),o=!1,i()}}}function Sw(e){let t;let n=function(e,t){return"settingsLink"===e[18].block?Tw:xw}(e),o=n(e);return{c(){o.c(),t=ia()},m(e,n){o.m(e,n),Xr(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&Jr(t)}}}function Cw(e){let t,n,o,i,s;function r(e,t){return 6&t&&(o=null),null==o&&(o=!!e[2].blacklistDomains.includes(e[1].hostname)),o?pw:e[5]?uw:void 0}let a=r(e,-1),l=a&&a(e),c=yl(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"]),d=[];for(let t=0;t<c.length;t+=1)d[t]=Sw(Yv(e,c,t));return{c(){t=ea("div"),n=ea("p"),l&&l.c(),i=oa(),s=ea("p");for(let e=0;e<d.length;e+=1)d[e].c();la(n,"class","svelte-1nurum5"),la(s,"class","svelte-1nurum5")},m(e,o){Xr(e,t,o),Yr(t,n),l&&l.m(n,null),Yr(t,i),Yr(t,s);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(s,null)},p(e,t){if(a===(a=r(e,t))&&l?l.p(e,t):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(n,null))),512&t){let n;for(c=yl(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"]),n=0;n<c.length;n+=1){const o=Yv(e,c,n);d[n]?d[n].p(o,t):(d[n]=Sw(o),d[n].c(),d[n].m(s,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=c.length}},d(e){e&&Jr(t),l&&l.d(),Qr(d,e)}}}function Lw(e){let t,n=e[18].text+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p(e,o){16&o&&n!==(n=e[18].text+"")&&ca(t,n)},d(e){e&&Jr(t)}}}function kw(e){let t,n,o=e[18].text+"";return{c(){t=ea("strong"),n=na(o),la(t,"class","svelte-1nurum5")},m(e,o){Xr(e,t,o),Yr(t,n)},p(e,t){16&t&&o!==(o=e[18].text+"")&&ca(n,o)},d(e){e&&Jr(t)}}}function Mw(e){let t;function n(e,t){return"strong"===e[18].block?kw:Lw}let o=n(e),i=o(e);return{c(){i.c(),t=ia()},m(e,n){i.m(e,n),Xr(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&Jr(t)}}}function Iw(e){let t,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){t=na(n)},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Aw(e){let t,n,o,i,s,r,a=yl(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"]),l=[];for(let t=0;t<a.length;t+=1)l[t]=Mw(Jv(e,a,t));return s=new qv({props:{className:"button-reload",$$slots:{default:[Iw]},$$scope:{ctx:e}}}),s.$on("click",e[11]),{c(){t=ea("div"),n=ea("p");for(let e=0;e<l.length;e+=1)l[e].c();o=oa(),i=ea("p"),ol(s.$$.fragment),la(n,"class","mb-none svelte-1nurum5"),la(i,"class","svelte-1nurum5")},m(e,a){Xr(e,t,a),Yr(t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(n,null);Yr(t,o),Yr(t,i),il(s,i,null),r=!0},p(e,t){if(16&t){let o;for(a=yl(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"]),o=0;o<a.length;o+=1){const i=Jv(e,a,o);l[o]?l[o].p(i,t):(l[o]=Mw(i),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=a.length}const o={};536870912&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){r||(Ka(s.$$.fragment,e),r=!0)},o(e){Xa(s.$$.fragment,e),r=!1},d(e){e&&Jr(t),Qr(l,e),sl(s)}}}function Nw(e){let t;return{c(){t=ea("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,la(t,"class","translation-in-progress svelte-1nurum5")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Ow(e){let t;return{c(){t=ea("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,la(t,"class","translation-in-progress svelte-1nurum5")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function Rw(e){let t,n;return t=new Uv({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p:xr,i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Dw(e){let t,n;return t=new Uv({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p:xr,i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Pw(e){let t,n,o;return n=new eg({}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","translation-in-progress svelte-1nurum5")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p:xr,i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function Hw(e){let t,n,o,i,s,r;const a=[aw,rw,sw,iw,ow,nw,tw,ew,Qv],c=[];function d(e,t){return 2&t&&(n=null),38&t&&(o=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===l.ongoingAutoDetection?3:e[1].translationState===l.ongoingTranslation?4:e[1].translationState===l.isTranslationComplete?5:(null==o&&(o=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[5])),o?6:e[3]?7:e[1].websiteLanguage?8:-1))}return~(i=d(e,-1))&&(s=c[i]=a[i](e)),{c(){t=ea("div"),s&&s.c(),la(t,"class","full-page-translation svelte-1nurum5")},m(e,n){Xr(e,t,n),~i&&c[i].m(t,null),r=!0},p(e,[n]){let o=i;i=d(e,n),i===o?~i&&c[i].p(e,n):(s&&(Ya(),Xa(c[o],1,1,(()=>{c[o]=null})),Za()),~i?(s=c[i],s?s.p(e,n):(s=c[i]=a[i](e),s.c()),Ka(s,1),s.m(t,null)):s=null)},i(e){r||(Ka(s),r=!0)},o(e){Xa(s),r=!1},d(e){e&&Jr(t),~i&&c[i].d()}}}function Uw(e,n,o){let i,s,r,c;const d=La("deepl_settings");Ar(e,d,(e=>o(2,c=e)));const u=La("deepl_website_settings");Ar(e,u,(e=>o(1,r=e)));let p=b,{onClose:g}=n;let h,f,_=!1;return e.$$set=e=>{"onClose"in e&&o(0,g=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&o(6,i=r&&r.error),6&e.$$.dirty&&o(5,s=$t(r.websiteLanguage,c.languagesForTranslation,a)),6&e.$$.dirty&&r&&c&&_t(c.selectedTargetLanguage,r.websiteLanguage),2&e.$$.dirty&&r&&(r.isSupportedLanguage?o(4,h=chrome.i18n.getMessage(`supported_languages_${r.websiteLanguage}`)):o(4,h=chrome.i18n.getMessage("supported_languages_EN"))),4098&e.$$.dirty&&r&&r.hostname&&r.hostname!==f&&(o(12,f=r.hostname),t({action:"dlTrackExtensionOpenedEvent",payload:{domainName:f,extensionContext:p}}))},[g,r,c,_,h,s,i,d,u,function(){t({action:"dlOpenInternalPage",payload:{destination:tg.settings_page}})},function(){0==c.isTargetLanguageConfirmed&&d.set({isTargetLanguageConfirmed:!0}),Vx(r.websiteLanguage,m)},()=>{u.update({translationState:l.showOriginal})},f,()=>{o(3,_=!1)},e=>d.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant}),()=>{i||o(3,_=!_)}]}class Gw extends al{constructor(e){super(),rl(this,e,Uw,Hw,Mr,{onClose:0})}}function zw(e){let t,n,o;return n=new Gw({props:{onClose:e[0]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","app-popup svelte-no0utm"),la(t,"style",`z-index: ${e[2].z_index}`),la(t,"dir",Tt())},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function qw(e){let t,n,o=e[3]()&&e[1]&&e[1].isValidUrlForPopup,i=o&&zw(e);return{c(){i&&i.c(),t=ia()},m(e,o){i&&i.m(e,o),Xr(e,t,o),n=!0},p(e,[n]){2&n&&(o=e[3]()&&e[1]&&e[1].isValidUrlForPopup),o?i?(i.p(e,n),2&n&&Ka(i,1)):(i=zw(e),i.c(),Ka(i,1),i.m(t.parentNode,t)):i&&(Ya(),Xa(i,1,1,(()=>{i=null})),Za())},i(e){n||(Ka(i),n=!0)},o(e){Xa(i),n=!1},d(e){i&&i.d(e),e&&Jr(t)}}}function Ww(e,t,n){let o,i;Ar(e,dl,(e=>n(4,o=e))),Ar(e,Ju,(e=>n(1,i=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let{onClose:s}=t;const{deepl_inline_ui:r}=A;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose)},[s,i,r,function(){return We(o,ge.TRANSLATOR)}]}class jw extends al{constructor(e){super(),rl(this,e,Ww,qw,Mr,{onClose:0})}}class Bw{static HTML_TAG_NAME="deepl-page-load-popup";static createElement=(e=document)=>{const t=e.createElement(Bw.HTML_TAG_NAME),n=new Bw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new jw({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const Fw=e=>({}),Vw=e=>({}),Yw=e=>({}),Zw=e=>({}),Kw=e=>({}),Xw=e=>({}),Jw=e=>({}),Qw=e=>({}),eb=e=>({}),tb=e=>({}),nb=e=>({}),ob=e=>({});function ib(e){let t,n;const o=e[4].warning,i=Nr(o,e,e[3],ob);return{c(){t=ea("div"),i&&i.c(),la(t,"class","alert-warning svelte-eva13k")},m(e,o){Xr(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||8&t)&&Dr(i,o,e,e[3],n?Rr(o,e[3],t,nb):Pr(e[3]),ob)},i(e){n||(Ka(i,e),n=!0)},o(e){Xa(i,e),n=!1},d(e){e&&Jr(t),i&&i.d(e)}}}function sb(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E=e[1]&&ib(e);const $=e[4].header,x=Nr($,e,e[3],tb),T=e[4].usp1,S=Nr(T,e,e[3],Qw),C=e[4].usp2,L=Nr(C,e,e[3],Xw),k=e[4].usp3,M=Nr(k,e,e[3],Zw),I=e[4].graphics,A=Nr(I,e,e[3],Vw);return{c(){t=ea("div"),n=ea("div"),o=ea("span"),i=oa(),s=ea("button"),r=oa(),E&&E.c(),a=oa(),l=ea("h2"),x&&x.c(),c=oa(),d=ea("ul"),u=ea("li"),S&&S.c(),p=oa(),m=ea("li"),L&&L.c(),g=oa(),h=ea("li"),M&&M.c(),f=oa(),_=ea("div"),A&&A.c(),la(o,"class","logo svelte-eva13k"),la(s,"class","close-button svelte-eva13k"),la(n,"class","header svelte-eva13k"),la(l,"class","header svelte-eva13k"),la(u,"class","svelte-eva13k"),la(m,"class","svelte-eva13k"),la(h,"class","svelte-eva13k"),la(d,"class","ups svelte-eva13k"),la(_,"class","graphics"),la(t,"class","dl-onboarding-container svelte-eva13k"),la(t,"dir",e[2])},m(v,$){Xr(v,t,$),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),Yr(t,r),E&&E.m(t,null),Yr(t,a),Yr(t,l),x&&x.m(l,null),Yr(t,c),Yr(t,d),Yr(d,u),S&&S.m(u,null),Yr(d,p),Yr(d,m),L&&L.m(m,null),Yr(d,g),Yr(d,h),M&&M.m(h,null),Yr(t,f),Yr(t,_),A&&A.m(_,null),w=!0,b||(y=sa(s,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),b=!0)},p(n,[o]){(e=n)[1]?E?(E.p(e,o),2&o&&Ka(E,1)):(E=ib(e),E.c(),Ka(E,1),E.m(t,a)):E&&(Ya(),Xa(E,1,1,(()=>{E=null})),Za()),x&&x.p&&(!w||8&o)&&Dr(x,$,e,e[3],w?Rr($,e[3],o,eb):Pr(e[3]),tb),S&&S.p&&(!w||8&o)&&Dr(S,T,e,e[3],w?Rr(T,e[3],o,Jw):Pr(e[3]),Qw),L&&L.p&&(!w||8&o)&&Dr(L,C,e,e[3],w?Rr(C,e[3],o,Kw):Pr(e[3]),Xw),M&&M.p&&(!w||8&o)&&Dr(M,k,e,e[3],w?Rr(k,e[3],o,Yw):Pr(e[3]),Zw),A&&A.p&&(!w||8&o)&&Dr(A,I,e,e[3],w?Rr(I,e[3],o,Fw):Pr(e[3]),Vw)},i(e){w||(Ka(E),Ka(x,e),Ka(S,e),Ka(L,e),Ka(M,e),Ka(A,e),v||Pa((()=>{v=Qa(t,vl,{y:-5,duration:500}),v.start()})),w=!0)},o(e){Xa(E),Xa(x,e),Xa(S,e),Xa(L,e),Xa(M,e),Xa(A,e),w=!1},d(e){e&&Jr(t),E&&E.d(),x&&x.d(e),S&&S.d(e),L&&L.d(e),M&&M.d(e),A&&A.d(e),b=!1,y()}}}function rb(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=La("text_direction");let{onClose:r}=t,{hasWarning:a}=t;return e.$$set=e=>{"onClose"in e&&n(0,r=e.onClose),"hasWarning"in e&&n(1,a=e.hasWarning),"$$scope"in e&&n(3,i=e.$$scope)},[r,a,s,i,o]}class ab extends al{constructor(e){super(),rl(this,e,rb,sb,Mr,{onClose:0,hasWarning:1})}}function lb(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_title")+"";return{c(){t=ea("span"),la(t,"slot","header")},m(e,o){Xr(e,t,o),t.innerHTML=n},p:xr,d(e){e&&Jr(t)}}}function cb(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_1")+"";return{c(){t=ea("span"),la(t,"slot","usp1")},m(e,o){Xr(e,t,o),t.innerHTML=n},p:xr,d(e){e&&Jr(t)}}}function db(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_2")+"";return{c(){t=ea("span"),la(t,"slot","usp2")},m(e,o){Xr(e,t,o),t.innerHTML=n},p:xr,d(e){e&&Jr(t)}}}function ub(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_3")+"";return{c(){t=ea("span"),la(t,"slot","usp3")},m(e,o){Xr(e,t,o),t.innerHTML=n},p:xr,d(e){e&&Jr(t)}}}function pb(e){let t,n,o=chrome.i18n.getMessage("ui_gdocs_onboarding_image_text")+"";return{c(){t=ea("div"),n=ea("div"),la(n,"class","text-box svelte-aimp06"),la(t,"slot","graphics"),la(t,"class","onboarding-graphics svelte-aimp06")},m(e,i){Xr(e,t,i),Yr(t,n),n.innerHTML=o},p:xr,d(e){e&&Jr(t)}}}function mb(e){let t,n;return t=new ab({props:{onClose:e[0],$$slots:{graphics:[pb],usp3:[ub],usp2:[db],usp1:[cb],header:[lb]},$$scope:{ctx:e}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.onClose=e[0]),4&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function gb(e,n,o){let{onClose:i}=n;return xa((()=>{t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Q.gdocs}})})),e.$$set=e=>{"onClose"in e&&o(0,i=e.onClose)},[i]}class hb extends al{constructor(e){super(),rl(this,e,gb,mb,Mr,{onClose:0})}}function fb(e){let t,n,o,i,s,r,a,l,c,d,u;o=new Jl({props:{tooltip:e[5],showProShield:We(e[0],ge.TRANSLATOR),zIndex:"10000000000",$$slots:{default:[_b]},$$scope:{ctx:e}}});let p=e[4]&&vb(e);return a=new Jl({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_turn_off"),zIndex:"10000000000",$$slots:{default:[bb]},$$scope:{ctx:e}}}),{c(){t=ea("div"),n=ea("button"),ol(o.$$.fragment),i=oa(),p&&p.c(),s=oa(),r=ea("button"),ol(a.$$.fragment),la(n,"class","dl-icon-circle dl-icon svelte-fyt1eq"),la(r,"class","dl-icon-circle dl-on-off-icon svelte-fyt1eq"),la(r,"data-qa","deepl-inline-translate-menu-icon"),la(t,"class","dl-gdocs-icon svelte-fyt1eq"),ua(t,"top",e[6].top),ua(t,"left",e[6].left),la(t,"dir",Tt()),ma(t,"has-deepl-write",e[4])},m(l,m){Xr(l,t,m),Yr(t,n),il(o,n,null),Yr(t,i),p&&p.m(t,null),Yr(t,s),Yr(t,r),il(a,r,null),c=!0,d||(u=[sa(n,"click",e[8]),sa(n,"mouseenter",e[24]),sa(r,"click",e[11]),sa(r,"mouseenter",e[27])],d=!0)},p(e,n){const i={};32&n[0]&&(i.tooltip=e[5]),1&n[0]&&(i.showProShield=We(e[0],ge.TRANSLATOR)),16777216&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i),e[4]?p?(p.p(e,n),16&n[0]&&Ka(p,1)):(p=vb(e),p.c(),Ka(p,1),p.m(t,s)):p&&(Ya(),Xa(p,1,1,(()=>{p=null})),Za());const r={};16777216&n[1]&&(r.$$scope={dirty:n,ctx:e}),a.$set(r),(!c||64&n[0])&&ua(t,"top",e[6].top),(!c||64&n[0])&&ua(t,"left",e[6].left),(!c||16&n[0])&&ma(t,"has-deepl-write",e[4])},i(e){c||(Ka(o.$$.fragment,e),Ka(p),Ka(a.$$.fragment,e),l||Pa((()=>{l=Qa(t,_l,{x:-5,duration:300}),l.start()})),c=!0)},o(e){Xa(o.$$.fragment,e),Xa(p),Xa(a.$$.fragment,e),c=!1},d(e){e&&Jr(t),sl(o),p&&p.d(),sl(a),d=!1,Lr(u)}}}function _b(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-fyt1eq")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function vb(e){let t,n,o,i,s;return n=new Jl({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_deepl_write"),showProShield:We(e[0],ge.WRITE),zIndex:"10000000000",$$slots:{default:[wb]},$$scope:{ctx:e}}}),{c(){t=ea("button"),ol(n.$$.fragment),la(t,"class","dl-icon-circle dl-write-icon svelte-fyt1eq")},m(r,a){Xr(r,t,a),il(n,t,null),o=!0,i||(s=[sa(t,"click",e[25]),sa(t,"mouseenter",e[26])],i=!0)},p(e,t){const o={};1&t[0]&&(o.showProShield=We(e[0],ge.WRITE)),16777216&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n),i=!1,Lr(s)}}}function wb(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-fyt1eq")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function bb(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-fyt1eq")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function yb(e){let t,n;return t=new hb({props:{onClose:e[28]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};8&n[0]&&(o.onClose=e[28]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Eb(e){let t,n,o,i=e[7]&&!e[1]&&!e[2]&&fb(e),s=e[3]&&yb(e);return{c(){i&&i.c(),t=oa(),s&&s.c(),n=ia()},m(e,r){i&&i.m(e,r),Xr(e,t,r),s&&s.m(e,r),Xr(e,n,r),o=!0},p(e,o){!e[7]||e[1]||e[2]?i&&(Ya(),Xa(i,1,1,(()=>{i=null})),Za()):i?(i.p(e,o),134&o[0]&&Ka(i,1)):(i=fb(e),i.c(),Ka(i,1),i.m(t.parentNode,t)),e[3]?s?(s.p(e,o),8&o[0]&&Ka(s,1)):(s=yb(e),s.c(),Ka(s,1),s.m(n.parentNode,n)):s&&(Ya(),Xa(s,1,1,(()=>{s=null})),Za())},i(e){o||(Ka(i),Ka(s),o=!0)},o(e){Xa(i),Xa(s),o=!1},d(e){i&&i.d(e),e&&Jr(t),s&&s.d(e),e&&Jr(n)}}}function $b(e,n,o){let i,s;Ar(e,dl,(e=>o(0,s=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let r,a,l,c,d,u,{replaceData:p}=n,{contentProcessBuildingBlocks:m}=n,{deeplWriteTrackingData:g={lang:"",sourceLength:0,targetLength:0,nicheIntegration:Q.gdocs,error:""}}=n,h=!0,f=!1,_=!1,v="",w="",b=!1,y="",E={top:0,left:0};async function $(e,n,o){if("dlTriggerTranslationShortcut"===e.action)T(),t({action:"dlTrackUseOfShortcut",payload:{shortcutType:D,location:R.inlineTranslationTriggerIcon,nicheIntegration:Q.gdocs}}),o()}const x=e=>{c=ee.translate,e&&(d=e),et()},T=()=>{x(s.selectedTargetLanguage)},S=()=>{c=ee.write,et()},C=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:n}}=ot();e!==f&&o(2,f=e),o(6,E.left=`${Math.round(t)}px`,E),o(6,E.top=`${Math.round(n)}px`,E)};function L(e){t({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:Q.gdocs}})}const k=()=>{r=setInterval((()=>{const e=tt(),n=!e.text;!n&&h&&C(),n&&!h&&(()=>{if(!s.isInlineHighlighterShown){dl.set({isInlineHighlighterShown:!0});try{t({action:"dltrackCloseInlineHighlighter",payload:{trigger:J.outside_click}})}catch(e){console.error(e)}}})(),o(1,h=n),v!==e.text&&o(22,v=e.text)}),300)},M=()=>{const e=document.querySelector("#docs-instant-bubble");l=new MutationObserver((()=>{C()}));return l.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>l.unobserve()},I=async e=>{if(c&&("ClipboardEvent"===e.constructor.name||e.constructor.toString().includes("ClipboardEvent"))){switch(c){case ee.translate:Kx({event:e,targetLang:d});break;case ee.write:Xx({event:e,lang:w})}c=void 0}},A=()=>{k(),(()=>{const e=document.querySelector("#kix-appview");a=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(C(),M())})),a.observe(e,{attributes:!1,childList:!0,characterData:!1})})(),(()=>{const e=new ResizeObserver((()=>{C()}));e.observe(document.body)})(),document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll",C),(()=>{const{editable:e}=Qe();e.addEventListener("copy",I)})()},N=()=>{a&&a.disconnect(),l&&l.disconnect(),r&&clearInterval(r),document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll",C),(()=>{const{editable:e}=Qe();e.removeEventListener("copy",I)})()};xa((()=>{A(),s.isGDocsOnboardingShown||(o(3,_=!0),Ur(dl,s.isGDocsOnboardingShown=!0,s)),chrome.runtime.onMessage.addListener($),t({action:"dlCheckCommandShortcuts"}).then((e=>o(23,y=e?e.filter((e=>e.name==D))[0].shortcut:"")))})),Ta((()=>{N()}));return e.$$set=e=>{"replaceData"in e&&o(13,p=e.replaceData),"contentProcessBuildingBlocks"in e&&o(12,m=e.contentProcessBuildingBlocks),"deeplWriteTrackingData"in e&&o(14,g=e.deeplWriteTrackingData)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&o(7,i=s&&s.isGDocsEnabled),4194304&e.$$.dirty[0]&&(async e=>{const t=await bt(e);w=t,o(4,b=xt(w)&&!je(s,ge.WRITE))})(v),8388608&e.$$.dirty[0]){let e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");o(5,u=y?`${e} (${y})`:e)}},[s,h,f,_,b,u,E,i,T,S,L,()=>{dl.set({isGDocsEnabled:!1}),t({action:"dlTrackCustomizationEnabledEvent",payload:{nicheIntegration:Q.gdocs,uiLocation:R.inlineTranslationTriggerIcon,customizationEnabled:!1}})},m,p,g,e=>{o(12,m=e)},()=>m,()=>{p&&mt(p)},x,()=>{mT({eventType:_e,...g})},()=>{mT({eventType:ve,...g})},e=>{switch(e){case Le:mT({eventType:we,...g});break;case ke:t({action:"dlTrackGDocsMaxCharExceededTryProClicked",payload:{sourceLang:g.lang,targetLang:g.lang,sourceLength:g.sourceLength}})}},v,y,()=>L(R.inlineTranslationTriggerIcon),()=>S(),()=>L(R.deeplWriteIcon),()=>L(R.inlineTranslationSettingsIcon),()=>o(3,_=!1)]}class xb extends al{constructor(e){super(),rl(this,e,$b,Eb,Mr,{replaceData:13,contentProcessBuildingBlocks:12,deeplWriteTrackingData:14,setContentProcessBuildingBlocks:15,getContentProcessBuildingBlocks:16,applyReplacement:17,requestTranslation:18,trackDeeplWriteInsertCopy:19,trackDeeplWriteDiscardCopy:20,trackMaxCharExceeded:21},null,[-1,-1])}get setContentProcessBuildingBlocks(){return this.$$.ctx[15]}get getContentProcessBuildingBlocks(){return this.$$.ctx[16]}get applyReplacement(){return this.$$.ctx[17]}get requestTranslation(){return this.$$.ctx[18]}get trackDeeplWriteInsertCopy(){return this.$$.ctx[19]}get trackDeeplWriteDiscardCopy(){return this.$$.ctx[20]}get trackMaxCharExceeded(){return this.$$.ctx[21]}}class Tb{static HTML_TAG_NAME="deepl-gdocs-icon";static createElement=(e=document)=>{const t=e.createElement(Tb.HTML_TAG_NAME),n=new Tb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setReplaceData=n.setReplaceData,t.applyReplacement=n.applyReplacement,t.requestNewTranslation=n.requestNewTranslation,t.setDeeplWriteTrackingData=n.setDeeplWriteTrackingData,t.trackDeeplWriteInsertCopy=n.trackDeeplWriteInsertCopy,t.trackDeeplWriteDiscardCopy=n.trackDeeplWriteDiscardCopy,t.trackMaxCharExceeded=n.trackMaxCharExceeded,t.setContentProcessBuildingBlocks=n.setContentProcessBuildingBlocks,t.getContentProcessBuildingBlocks=n.getContentProcessBuildingBlocks,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new xb({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})};setReplaceData=e=>{this.domElement.mainComponent.$$set({replaceData:e})};setDeeplWriteTrackingData=e=>{this.domElement.mainComponent.$$set({deeplWriteTrackingData:e})};trackDeeplWriteInsertCopy=()=>this.domElement.mainComponent.trackDeeplWriteInsertCopy();trackDeeplWriteDiscardCopy=()=>this.domElement.mainComponent.trackDeeplWriteDiscardCopy();trackMaxCharExceeded=e=>this.domElement.mainComponent.trackMaxCharExceeded(e);applyReplacement=()=>{this.domElement.mainComponent.applyReplacement()};requestNewTranslation=e=>{this.domElement.mainComponent.requestTranslation(e)};setContentProcessBuildingBlocks=e=>this.domElement.mainComponent.setContentProcessBuildingBlocks(e);getContentProcessBuildingBlocks=()=>this.domElement.mainComponent.getContentProcessBuildingBlocks();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Sb(e){let t,n;return t=new qh({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Cb(e){let t,n;return t=new qh({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Lb(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("ui_gslides_write_cta")+"",c=We(e[4],ge.TRANSLATOR),d=c&&Cb();return{c(){t=ea("button"),n=na(l),o=oa(),d&&d.c(),la(t,"class","action-button svelte-c2z0h2"),t.disabled=i=!xt(e[3])||je(e[4],ge.WRITE)},m(i,l){Xr(i,t,l),Yr(t,n),Yr(t,o),d&&d.m(t,null),s=!0,r||(a=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(n,o){e=n,16&o&&(c=We(e[4],ge.TRANSLATOR)),c?d?16&o&&Ka(d,1):(d=Cb(),d.c(),Ka(d,1),d.m(t,null)):d&&(Ya(),Xa(d,1,1,(()=>{d=null})),Za()),(!s||24&o&&i!==(i=!xt(e[3])||je(e[4],ge.WRITE)))&&(t.disabled=i)},i(e){s||(Ka(d),s=!0)},o(e){Xa(d),s=!1},d(e){e&&Jr(t),d&&d.d(),r=!1,a()}}}function kb(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E=chrome.i18n.getMessage("ui_gslides_translate_cta")+"",$=We(e[4],ge.TRANSLATOR);r=new ap({props:{disabled:e[2],websiteSettings:e[6],value:e[3],showSortCode:!0,showRegionalVariants:!1,extraPadding:!0}}),r.$on("selection",e[10]),u=new ap({props:{disabled:e[2],websiteSettings:e[6],value:e[4].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[11]);let x=$&&Sb();return v=new Jl({props:{tooltip:je(e[4],ge.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("ui_gslides_write_tooltip"),zIndex:"10000000000",multiline:!0,$$slots:{default:[Lb]},$$scope:{ctx:e}}}),{c(){t=ea("div"),n=ea("div"),o=ea("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_from")}`,i=oa(),s=ea("div"),ol(r.$$.fragment),a=oa(),l=ea("p"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_into")}`,c=oa(),d=ea("div"),ol(u.$$.fragment),p=oa(),m=ea("button"),g=na(E),h=oa(),x&&x.c(),f=oa(),_=ea("div"),ol(v.$$.fragment),la(o,"class","svelte-c2z0h2"),la(s,"class","dropdown svelte-c2z0h2"),la(l,"class","svelte-c2z0h2"),la(d,"class","dropdown svelte-c2z0h2"),la(m,"class","action-button svelte-c2z0h2"),la(n,"class","translate-container svelte-c2z0h2"),la(_,"class","write-container svelte-c2z0h2"),la(t,"class","dl-gslides-toolbar svelte-c2z0h2")},m(E,$){Xr(E,t,$),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),il(r,s,null),Yr(n,a),Yr(n,l),Yr(n,c),Yr(n,d),il(u,d,null),Yr(n,p),Yr(n,m),Yr(m,g),Yr(m,h),x&&x.m(m,null),Yr(t,f),Yr(t,_),il(v,_,null),w=!0,b||(y=sa(m,"click",(function(){kr(e[0])&&e[0].apply(this,arguments)})),b=!0)},p(t,[n]){e=t;const o={};4&n&&(o.disabled=e[2]),8&n&&(o.value=e[3]),r.$set(o);const i={};4&n&&(i.disabled=e[2]),16&n&&(i.value=e[4].selectedTargetLanguage),u.$set(i),16&n&&($=We(e[4],ge.TRANSLATOR)),$?x?16&n&&Ka(x,1):(x=Sb(),x.c(),Ka(x,1),x.m(m,null)):x&&(Ya(),Xa(x,1,1,(()=>{x=null})),Za());const s={};16&n&&(s.tooltip=je(e[4],ge.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("ui_gslides_write_tooltip")),4122&n&&(s.$$scope={dirty:n,ctx:e}),v.$set(s)},i(e){w||(Ka(r.$$.fragment,e),Ka(u.$$.fragment,e),Ka(x),Ka(v.$$.fragment,e),w=!0)},o(e){Xa(r.$$.fragment,e),Xa(u.$$.fragment,e),Xa(x),Xa(v.$$.fragment,e),w=!1},d(e){e&&Jr(t),sl(r),sl(u),x&&x.d(),sl(v),b=!1,y()}}}function Mb(e,t,n){let o;const i=La("deepl_settings");Ar(e,i,(e=>n(4,o=e)));const s=La("deepl_website_settings");let{onTranslateSelection:r}=t,{onImproveSelection:a}=t,{isLoading:l}=t,{sourceLang:c}=t,{manualSourceLang:d}=t;const u=e=>{n(9,d=e)},p=e=>{Ur(i,o.selectedTargetLanguage=e,o)};return e.$$set=e=>{"onTranslateSelection"in e&&n(0,r=e.onTranslateSelection),"onImproveSelection"in e&&n(1,a=e.onImproveSelection),"isLoading"in e&&n(2,l=e.isLoading),"sourceLang"in e&&n(3,c=e.sourceLang),"manualSourceLang"in e&&n(9,d=e.manualSourceLang)},[r,a,l,c,o,i,s,u,p,d,e=>{u(e.detail.selectedOption.value)},e=>{p(e.detail.selectedOption.value)}]}class Ib extends al{constructor(e){super(),rl(this,e,Mb,kb,Mr,{onTranslateSelection:0,onImproveSelection:1,isLoading:2,sourceLang:3,manualSourceLang:9})}}function Ab(e){let t,n,o,i,s,r,a;function l(t){e[12](t)}let c={onTranslateSelection:e[7],onImproveSelection:e[8],isLoading:e[4],sourceLang:e[1]};return void 0!==e[0]&&(c.manualSourceLang=e[0]),n=new Ib({props:c}),Ia.push((()=>nl(n,"manualSourceLang",l))),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","dl-gslides-toolbar svelte-1mendym")},m(o,i){Xr(o,t,i),il(n,t,null),s=!0,r||(a=[Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[13])],r=!0)},p(e,t){const i={};16&t&&(i.isLoading=e[4]),2&t&&(i.sourceLang=e[1]),!o&&1&t&&(o=!0,i.manualSourceLang=e[0],Ha((()=>o=!1))),n.$set(i)},i(e){s||(Ka(n.$$.fragment,e),Pa((()=>{s&&(i||(i=tl(t,_l,{},!0)),i.run(1))})),s=!0)},o(e){Xa(n.$$.fragment,e),i||(i=tl(t,_l,{},!1)),i.run(0),s=!1},d(e){e&&Jr(t),sl(n),e&&i&&i.end(),r=!1,Lr(a)}}}function Nb(e){let t,n;return t=new eg({props:{small:!0}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Ob(e){let t,n,o,i,s,r,a,l=e[3]&&Ab(e),c=e[4]&&Nb();return{c(){t=ea("div"),l&&l.c(),n=oa(),o=ea("button"),c&&c.c(),la(o,"class","dl-gslides-button svelte-1mendym"),la(o,"title","Translate with DeepL"),ma(o,"is-loading",e[4]),la(t,"class","dl-gslides-icon svelte-1mendym"),ua(t,"bottom",e[2].bottom+"px"),ua(t,"right",e[2].right+"px")},m(i,d){Xr(i,t,d),l&&l.m(t,null),Yr(t,n),Yr(t,o),c&&c.m(o,null),s=!0,r||(a=sa(o,"click",e[6]),r=!0)},p(e,[i]){e[3]?l?(l.p(e,i),8&i&&Ka(l,1)):(l=Ab(e),l.c(),Ka(l,1),l.m(t,n)):l&&(Ya(),Xa(l,1,1,(()=>{l=null})),Za()),e[4]?c?16&i&&Ka(c,1):(c=Nb(),c.c(),Ka(c,1),c.m(o,null)):c&&(Ya(),Xa(c,1,1,(()=>{c=null})),Za()),(!s||16&i)&&ma(o,"is-loading",e[4]),(!s||4&i)&&ua(t,"bottom",e[2].bottom+"px"),(!s||4&i)&&ua(t,"right",e[2].right+"px")},i(e){s||(Ka(l),Ka(c),Pa((()=>{s&&(i||(i=tl(o,_l,{},!0)),i.run(1))})),s=!0)},o(e){Xa(l),Xa(c),i||(i=tl(o,_l,{},!1)),i.run(0),s=!1},d(e){e&&Jr(t),l&&l.d(),c&&c.d(),e&&i&&i.end(),r=!1,a()}}}const Rb="application/x-vnd.google-docs-drawings-object+wrapped",Db="application/x-vnd.google-docs-document-slice-clip+wrapped";function Pb(e,t,n){let o;const i=La("deepl_settings");Ar(e,i,(e=>n(15,o=e)));let s,{registerActionIconCallbacks:r}=t,{clearActionIconCallbacks:a}=t,{sourceLang:l}=t,{manualSourceLang:c}=t,{charLimitError:d}=t,u={bottom:0,right:0},p=!1,m=!1;const g=()=>{const e=document.querySelector("#canvas-container");if(e){const t=e.getBoundingClientRect(),o=t.right>window.innerWidth?0:window.innerWidth-t.right,i=t.bottom>window.innerHeight?0:window.innerHeight-t.bottom;n(2,u={bottom:i+16,right:o+16})}else n(2,u={bottom:16,right:16})},h=async(e,t)=>{try{let i=e.clipboardData.getData(Rb),r=e.clipboardData.getData(Db);if(i){n(4,m=!0);const e=await(async(e,t)=>{const n=JSON.parse(e),i=JSON.parse(n.data),s=i.unresolved,{entities:r,sentencesToTranslate:a}=Mt(s),c=await Jx({targetLang:o.selectedTargetLanguage,sourceLang:l,sentences:a,mode:t}),d=[];for(let e=0;e<r.length;e++)It({entity:r[e],translatedSentences:c,modifiersToDelete:d});return i.unresolved=i.unresolved.filter((e=>!d.includes(e))),n.data=JSON.stringify(i),JSON.stringify(n)})(i,t);Wl("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),f(e),n(4,m=!1)}else if(r){n(4,m=!0);const i=await(async(e,t)=>await Qx({event:e,sourceLang:l,targetLang:o.selectedTargetLanguage,mode:t}))(e,t);Wl("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),_(i),n(4,m=!1)}else await kt(),s=t,n(3,p=!1),et()}catch(e){console.log("errororr slidews",e),e.name===fr?n(9,d=He.ANONYMOUS):e.name===hr?n(9,d=He.FREE):e.name===vr?n(9,d=vr):e.name===wr&&n(9,d=wr),console.error(e),n(4,m=!1)}},f=e=>{const{editable:t}=Qe();let n;if(Xe())n=new ClipboardEvent("paste",{dataType:Rb,data:e});else{const t=new DataTransfer;t.setData(Rb,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)},_=e=>{const{editable:t}=Qe();let n;if(Xe())n=new ClipboardEvent("paste",{dataType:Db,data:e});else{const t=new DataTransfer;t.setData(Db,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};xa((()=>{setTimeout((()=>{const{editable:e}=Qe();e.addEventListener("copy",(e=>{if(s){const t=s;s=void 0,h(e,t)}}))}),2e3),r({repositionActionIcon:g})})),Ta((()=>{a()}));return e.$$set=e=>{"registerActionIconCallbacks"in e&&n(10,r=e.registerActionIconCallbacks),"clearActionIconCallbacks"in e&&n(11,a=e.clearActionIconCallbacks),"sourceLang"in e&&n(1,l=e.sourceLang),"manualSourceLang"in e&&n(0,c=e.manualSourceLang),"charLimitError"in e&&n(9,d=e.charLimitError)},[c,l,u,p,m,i,()=>{n(3,p=!p)},()=>{s=ee.translate,n(3,p=!1),et()},()=>{s=ee.write,n(3,p=!1),et()},d,r,a,function(e){c=e,n(0,c)},()=>{n(3,p=!1)}]}class Hb extends al{constructor(e){super(),rl(this,e,Pb,Ob,Mr,{registerActionIconCallbacks:10,clearActionIconCallbacks:11,sourceLang:1,manualSourceLang:0,charLimitError:9})}}function Ub(e){let t,n,o,i;return{c(){t=ea("button"),n=ea("span"),la(n,"class","svelte-1fp3zj4"),la(t,"aria-label",e[3]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),la(t,"class","switch svelte-1fp3zj4"),la(t,"data-testid","deepl-switch"),la(t,"data-qa",e[2]),ma(t,"checked",e[0]),ma(t,"disabled",e[1])},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",e[3]),o=!0)},p(e,[n]){4&n&&la(t,"data-qa",e[2]),1&n&&ma(t,"checked",e[0]),2&n&&ma(t,"disabled",e[1])},i:xr,o:xr,d(e){e&&Jr(t),o=!1,i()}}}function Gb(e,t,n){let{checked:o=!1}=t,{disabled:i=!1}=t,{qaRoot:s="dl-switch"}=t;const r=Sa();return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"disabled"in e&&n(1,i=e.disabled),"qaRoot"in e&&n(2,s=e.qaRoot)},[o,i,s,function(){i||r("change",{checked:!o})}]}class zb extends al{constructor(e){super(),rl(this,e,Gb,Ub,Mr,{checked:0,disabled:1,qaRoot:2})}}function qb(e){let t,n,o,i,s,r,a,l,c,d,u=e[1]&&Wb();return a=new zb({props:{checked:e[3].isGSlidesEnabled}}),a.$on("change",e[8]),{c(){t=ea("div"),u&&u.c(),n=oa(),o=ea("div"),i=ea("div"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,s=oa(),r=ea("div"),ol(a.$$.fragment),la(i,"class","legend"),la(r,"class","switch svelte-145khfi"),la(o,"class","turn-on-off-panel svelte-145khfi"),la(t,"class","dl-gslides-top-icon-modal svelte-145khfi"),ua(t,"left",e[2]+"px")},m(p,m){Xr(p,t,m),u&&u.m(t,null),Yr(t,n),Yr(t,o),Yr(o,i),Yr(o,s),Yr(o,r),il(a,r,null),l=!0,c||(d=[Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=Wb(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGSlidesEnabled),a.$set(i),(!l||4&o)&&ua(t,"left",e[2]+"px")},i(e){l||(Ka(a.$$.fragment,e),l=!0)},o(e){Xa(a.$$.fragment,e),l=!1},d(e){e&&Jr(t),u&&u.d(),sl(a),c=!1,Lr(d)}}}function Wb(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=ea("div"),n=ea("div"),o=ea("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,i=oa(),s=ea("div"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,r=oa(),a=ea("div"),l=ea("div"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,c=oa(),d=ea("div"),d.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,la(o,"class","svelte-145khfi"),la(s,"class","beta-label svelte-145khfi"),la(n,"class","header svelte-145khfi"),la(l,"class","ups-item svelte-145khfi"),la(d,"class","ups-item svelte-145khfi"),la(a,"class","ups-list"),la(t,"class","onboarding svelte-145khfi")},m(e,u){Xr(e,t,u),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),Yr(t,r),Yr(t,a),Yr(a,l),Yr(a,c),Yr(a,d)},p:xr,d(e){e&&Jr(t)}}}function jb(e){let t,n,o,i,s,r,a=e[0]&&qb(e);return{c(){t=ea("button"),n=oa(),a&&a.c(),o=ia(),la(t,"class","dl-gslides-top-icon svelte-145khfi"),ua(t,"left",e[2]+"px"),ma(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown)},m(l,c){Xr(l,t,c),Xr(l,n,c),a&&a.m(l,c),Xr(l,o,c),i=!0,s||(r=sa(t,"click",e[7]),s=!0)},p(e,[n]){(!i||4&n)&&ua(t,"left",e[2]+"px"),(!i||8&n)&&ma(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown),e[0]?a?(a.p(e,n),1&n&&Ka(a,1)):(a=qb(e),a.c(),Ka(a,1),a.m(o.parentNode,o)):a&&(Ya(),Xa(a,1,1,(()=>{a=null})),Za())},i(e){i||(Ka(a),i=!0)},o(e){Xa(a),i=!1},d(e){e&&Jr(t),e&&Jr(n),a&&a.d(e),e&&Jr(o),s=!1,r()}}}function Bb(e,n,o){let i;const s=La("deepl_settings");Ar(e,s,(e=>o(3,i=e)));let r,{registerTopIconCallbacks:a}=n,{clearTopIconCallbacks:l}=n,c=!1,d=!1;const u=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container");if(e){const t=e.getBoundingClientRect();o(2,r=t.left-45)}};xa((()=>{u(),a({repositionTopIcon:u})})),Ta((()=>{l()}));return e.$$set=e=>{"registerTopIconCallbacks"in e&&o(5,a=e.registerTopIconCallbacks),"clearTopIconCallbacks"in e&&o(6,l=e.clearTopIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&c&&d&&t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Q.gslides}})},[c,d,r,i,s,a,l,()=>{o(0,c=!0),i.isGSlidesOnboardingShown||(Ur(s,i.isGSlidesOnboardingShown=!0,i),o(1,d=!0))},e=>Ur(s,i.isGSlidesEnabled=e.detail.checked,i),()=>{o(1,d=!1),o(0,c=!1)}]}class Fb extends al{constructor(e){super(),rl(this,e,Bb,jb,Mr,{registerTopIconCallbacks:5,clearTopIconCallbacks:6})}}function Vb(e){let t,n,o,i,s;function r(e,t){return e[0]===He.FREE?Kb:e[0]===He.ANONYMOUS?Zb:void 0}let a=r(e),l=a&&a(e);return{c(){t=ea("button"),n=oa(),l&&l.c(),o=ia(),la(t,"class","close-button svelte-8x6yh8")},m(r,a){Xr(r,t,a),Xr(r,n,a),l&&l.m(r,a),Xr(r,o,a),i||(s=sa(t,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),i=!0)},p(t,n){a===(a=r(e=t))&&l?l.p(e,n):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(o.parentNode,o)))},i:xr,o:xr,d(e){e&&Jr(t),e&&Jr(n),l&&l.d(e),e&&Jr(o),i=!1,s()}}}function Yb(e){let t,n;return t=new ru({props:{error:{error:e[0]},close:e[1],config:{nicheIntegration:Q.gslides}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),2&n&&(o.close=e[1]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Zb(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=ea("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,n=oa(),o=ea("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,i=oa(),s=ea("div"),r=ea("button"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,a=oa(),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,la(t,"class","svelte-8x6yh8"),la(o,"class","svelte-8x6yh8"),la(r,"class","btn-secondary svelte-8x6yh8"),la(l,"class","btn-primary svelte-8x6yh8"),la(s,"class","buttons-row svelte-8x6yh8")},m(u,p){Xr(u,t,p),Xr(u,n,p),Xr(u,o,p),Xr(u,i,p),Xr(u,s,p),Yr(s,r),Yr(s,a),Yr(s,l),c||(d=[sa(r,"click",e[4]),sa(l,"click",e[3])],c=!0)},p:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o),e&&Jr(i),e&&Jr(s),c=!1,Lr(d)}}}function Kb(e){let t,n,o,i,s,r,a,l;return{c(){t=ea("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,n=oa(),o=ea("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,i=oa(),s=ea("div"),r=ea("button"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,la(t,"class","svelte-8x6yh8"),la(o,"class","svelte-8x6yh8"),la(r,"class","btn-primary svelte-8x6yh8"),la(s,"class","buttons-row svelte-8x6yh8")},m(c,d){Xr(c,t,d),Xr(c,n,d),Xr(c,o,d),Xr(c,i,d),Xr(c,s,d),Yr(s,r),a||(l=sa(r,"click",e[3]),a=!0)},p:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o),e&&Jr(i),e&&Jr(s),a=!1,l()}}}function Xb(e){let t,n,o,i,s,r,a;const l=[Yb,Vb],c=[];function d(e,t){return e[2]?0:1}return o=d(e),i=c[o]=l[o](e),{c(){t=ea("div"),n=ea("div"),i.c(),la(n,"class","dl-char-limit-error-container svelte-8x6yh8"),ma(n,"is-translator-limit",!e[2]),la(t,"class","dl-char-limit-error-overlay svelte-8x6yh8")},m(i,l){Xr(i,t,l),Yr(t,n),c[o].m(n,null),s=!0,r||(a=[Gr(Fl.call(null,n,{isShadow:!0})),sa(n,"click_outside",(function(){kr(e[1])&&e[1].apply(this,arguments)}))],r=!0)},p(t,[r]){let a=o;o=d(e=t),o===a?c[o].p(e,r):(Ya(),Xa(c[a],1,1,(()=>{c[a]=null})),Za(),i=c[o],i?i.p(e,r):(i=c[o]=l[o](e),i.c()),Ka(i,1),i.m(n,null)),(!s||4&r)&&ma(n,"is-translator-limit",!e[2])},i(e){s||(Ka(i),s=!0)},o(e){Xa(i),s=!1},d(e){e&&Jr(t),c[o].d(),r=!1,Lr(a)}}}function Jb(e,n,o){let i,{charLimitError:s}=n,{closeModal:r}=n;let a=!1;return e.$$set=e=>{"charLimitError"in e&&o(0,s=e.charLimitError),"closeModal"in e&&o(1,r=e.closeModal)},e.$$.update=()=>{1&e.$$.dirty&&o(2,i=s===vr||s===wr)},[s,r,i,()=>{t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"gslides_customization"}}),r()},()=>{a||(t({action:"dlTrackUILocationClicked",payload:R.gslidesCharLimitLogin}),a=!0,t({action:"dlRequestLogin"}).then((()=>{a=!1,r()})).catch((()=>{a=!1})))}]}class Qb extends al{constructor(e){super(),rl(this,e,Jb,Xb,Mr,{charLimitError:0,closeModal:1})}}function ey(e){let t,n;return t=new Qb({props:{charLimitError:e[2],closeModal:e[10]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.charLimitError=e[2]),4&n&&(o.closeModal=e[10]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function ty(e){let t,n,o,i;function s(t){e[11](t)}function r(t){e[12](t)}let a={registerActionIconCallbacks:e[7],clearActionIconCallbacks:e[8],sourceLang:e[3]};return void 0!==e[0]&&(a.manualSourceLang=e[0]),void 0!==e[2]&&(a.charLimitError=e[2]),t=new Hb({props:a}),Ia.push((()=>nl(t,"manualSourceLang",s))),Ia.push((()=>nl(t,"charLimitError",r))),{c(){ol(t.$$.fragment)},m(e,n){il(t,e,n),i=!0},p(e,i){const s={};8&i&&(s.sourceLang=e[3]),!n&&1&i&&(n=!0,s.manualSourceLang=e[0],Ha((()=>n=!1))),!o&&4&i&&(o=!0,s.charLimitError=e[2],Ha((()=>o=!1))),t.$set(s)},i(e){i||(Ka(t.$$.fragment,e),i=!0)},o(e){Xa(t.$$.fragment,e),i=!1},d(e){sl(t,e)}}}function ny(e){let t,n,o,i,s;t=new Fb({props:{registerTopIconCallbacks:e[5],clearTopIconCallbacks:e[6]}});let r=e[2]&&ey(e),a=e[4].isGSlidesEnabled&&!e[1]&&ty(e);return{c(){ol(t.$$.fragment),n=oa(),r&&r.c(),o=oa(),a&&a.c(),i=ia()},m(e,l){il(t,e,l),Xr(e,n,l),r&&r.m(e,l),Xr(e,o,l),a&&a.m(e,l),Xr(e,i,l),s=!0},p(e,[t]){e[2]?r?(r.p(e,t),4&t&&Ka(r,1)):(r=ey(e),r.c(),Ka(r,1),r.m(o.parentNode,o)):r&&(Ya(),Xa(r,1,1,(()=>{r=null})),Za()),e[4].isGSlidesEnabled&&!e[1]?a?(a.p(e,t),18&t&&Ka(a,1)):(a=ty(e),a.c(),Ka(a,1),a.m(i.parentNode,i)):a&&(Ya(),Xa(a,1,1,(()=>{a=null})),Za())},i(e){s||(Ka(t.$$.fragment,e),Ka(r),Ka(a),s=!0)},o(e){Xa(t.$$.fragment,e),Xa(r),Xa(a),s=!1},d(e){sl(t,e),e&&Jr(n),r&&r.d(e),e&&Jr(o),a&&a.d(e),e&&Jr(i)}}}function oy(e,t,n){let o,i,s,r,a,l,c;Ar(e,dl,(e=>n(4,i=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let d,u,p=!0;const m=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?g():h()},g=()=>{s&&clearInterval(s),s=setInterval(f,800)},h=()=>{clearInterval(s)},f=()=>{r&&r(),a&&a(),c||_()},_=async()=>{n(9,l=await Lt()||"EN-US")};xa((()=>{g(),d=new MutationObserver((()=>{window.document.querySelector(".punch-full-screen-element")?n(1,p=!0):n(1,p=!1)})),d.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0}),Vl((()=>d.disconnect())),chrome.runtime.onMessage.addListener(m)})),Ta((()=>{s&&h(),chrome.runtime.onMessage.removeListener(m),d.disconnect()}));return e.$$.update=()=>{513&e.$$.dirty&&n(3,o=c||l)},[c,p,u,o,i,e=>{r=e.repositionTopIcon},()=>{r=void 0},e=>{a=e.repositionActionIcon},()=>{a=void 0},l,()=>n(2,u=void 0),function(e){c=e,n(0,c)},function(e){u=e,n(2,u)}]}class iy extends al{constructor(e){super(),rl(this,e,oy,ny,Mr,{})}}class sy{static HTML_TAG_NAME="deepl-gslides-controller";static createElement=(e=document)=>{const t=e.createElement(sy.HTML_TAG_NAME),n=new sy(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new iy({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function ry(e){let t,n,o;return{c(){t=ea("p"),t.innerHTML='<strong class="svelte-1dni6qx">Help us improve DeepL for Arabic</strong>',n=oa(),o=ea("p"),o.textContent="Take 2 minutes to tell us what we can do better.",la(t,"class","svelte-1dni6qx"),la(o,"class","svelte-1dni6qx")},m(e,i){Xr(e,t,i),Xr(e,n,i),Xr(e,o,i)},p:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o)}}}function ay(e){let t;return{c(){t=ea("p"),t.textContent=`${chrome.i18n.getMessage("segmentation_survey_copy")}`,la(t,"class","svelte-1dni6qx")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function ly(e){let t,n,o,i;return{c(){t=ea("p"),n=ea("strong"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_title")}`,o=oa(),i=ea("p"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_content")}`,la(n,"class","svelte-1dni6qx"),la(t,"class","svelte-1dni6qx"),la(i,"class","svelte-1dni6qx")},m(e,s){Xr(e,t,s),Yr(t,n),Xr(e,o,s),Xr(e,i,s)},p:xr,d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i)}}}function cy(e){let t,n,o,i;return{c(){t=ea("p"),n=ea("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_title")}`,o=oa(),i=ea("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_content")}`,la(n,"class","svelte-1dni6qx"),la(t,"class","svelte-1dni6qx"),la(i,"class","svelte-1dni6qx")},m(e,s){Xr(e,t,s),Yr(t,n),Xr(e,o,s),Xr(e,i,s)},p:xr,d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i)}}}function dy(e){let t,n,o,i;return{c(){t=ea("p"),n=ea("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=oa(),i=ea("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,la(n,"class","svelte-1dni6qx"),la(t,"class","svelte-1dni6qx"),la(i,"class","svelte-1dni6qx")},m(e,s){Xr(e,t,s),Yr(t,n),Xr(e,o,s),Xr(e,i,s)},p:xr,d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i)}}}function uy(e){let t,n,o,i;return{c(){t=ea("p"),n=ea("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=oa(),i=ea("p"),i.textContent=`${e[3].writeAReview.lineTwo}`,la(n,"class","svelte-1dni6qx"),la(t,"class","svelte-1dni6qx"),la(i,"class","svelte-1dni6qx")},m(e,s){Xr(e,t,s),Yr(t,n),Xr(e,o,s),Xr(e,i,s)},p:xr,d(e){e&&Jr(t),e&&Jr(o),e&&Jr(i)}}}function py(e){let t,n,o,i;return{c(){t=ea("p"),t.textContent=`${e[3].howWasYourExperience.lineOne}`,n=oa(),o=ea("p"),i=ea("strong"),i.textContent=`${e[3].howWasYourExperience.lineTwo}`,la(t,"class","svelte-1dni6qx"),la(i,"class","svelte-1dni6qx"),la(o,"class","svelte-1dni6qx")},m(e,s){Xr(e,t,s),Xr(e,n,s),Xr(e,o,s),Yr(o,i)},p:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o)}}}function my(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML="<span>Start survey</span>",la(t,"class","svelte-1dni6qx")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",e[10]),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function gy(e){let t,n,o,i;return{c(){t=ea("button"),n=ea("span"),n.textContent=`${chrome.i18n.getMessage("segmentation_survey_button")}`,la(t,"class","svelte-1dni6qx")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",e[9]),o=!0)},p:xr,d(e){e&&Jr(t),o=!1,i()}}}function hy(e){let t,n,o,i;return{c(){t=ea("button"),n=ea("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_cta")}`,la(t,"class","svelte-1dni6qx")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",e[8]),o=!0)},p:xr,d(e){e&&Jr(t),o=!1,i()}}}function fy(e){let t,n,o,i;return{c(){t=ea("button"),n=ea("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_button")}`,la(t,"class","svelte-1dni6qx")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",e[7]),o=!0)},p:xr,d(e){e&&Jr(t),o=!1,i()}}}function _y(e){let t,n,o,i;return{c(){t=ea("button"),n=ea("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,la(t,"class","svelte-1dni6qx")},m(s,r){Xr(s,t,r),Yr(t,n),o||(i=sa(t,"click",e[6]),o=!0)},p:xr,d(e){e&&Jr(t),o=!1,i()}}}function vy(e){let t,n,o,i,s,r,a,l,c,d,u;return{c(){t=ea("button"),n=ea("i"),o=oa(),i=ea("span"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,s=oa(),r=ea("button"),a=ea("i"),l=oa(),c=ea("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,la(n,"class","icon-bad svelte-1dni6qx"),la(t,"class","svelte-1dni6qx"),la(a,"class","icon-good svelte-1dni6qx"),la(r,"class","svelte-1dni6qx")},m(p,m){Xr(p,t,m),Yr(t,n),Yr(t,o),Yr(t,i),Xr(p,s,m),Xr(p,r,m),Yr(r,a),Yr(r,l),Yr(r,c),d||(u=[sa(t,"click",e[4]),sa(r,"click",e[5])],d=!0)},p:xr,d(e){e&&Jr(t),e&&Jr(s),e&&Jr(r),d=!1,Lr(u)}}}function wy(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;function g(e,t){return e[0]===X.initial?py:e[0]===X.review?uy:e[0]===X.feedback?dy:e[0]===X.gmail?cy:e[0]===X.gslides?ly:e[0]===X.customer_segmentation?ay:e[0]===X.arabic_survey?ry:void 0}let h=g(e),f=h&&h(e),_=e[2]&&function(e){let t;function n(e,t){return e[0]===X.initial?vy:e[0]===X.review?_y:e[0]===X.gmail?fy:e[0]===X.gslides?hy:e[0]===X.customer_segmentation?gy:e[0]===X.arabic_survey?my:void 0}let o=n(e),i=o&&o(e);return{c(){t=ea("div"),i&&i.c(),la(t,"class","buttons svelte-1dni6qx")},m(e,n){Xr(e,t,n),i&&i.m(t,null)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&Jr(t),i&&i.d()}}}(e);return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=oa(),s=ea("div"),r=ea("button"),a=oa(),f&&f.c(),l=oa(),_&&_.c(),la(o,"class","logo svelte-1dni6qx"),la(r,"class","close-icon svelte-1dni6qx"),ma(r,"rtl","rtl"===Tt()),la(s,"class","content svelte-1dni6qx"),la(n,"class","body svelte-1dni6qx"),la(t,"class","container svelte-1dni6qx"),la(t,"dir",Tt())},m(c,d){Xr(c,t,d),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),Yr(s,r),Yr(s,a),f&&f.m(s,null),Yr(t,l),_&&_.m(t,null),u=!0,p||(m=sa(r,"click",(function(){kr(e[1])&&e[1].apply(this,arguments)})),p=!0)},p(t,[n]){h===(h=g(e=t))&&f?f.p(e,n):(f&&f.d(1),f=h&&h(e),f&&(f.c(),f.m(s,null))),e[2]&&_.p(e,n)},i(e){u||(Pa((()=>{u&&(d&&d.end(1),c=Qa(t,fly,{x:100,duration:1e3}),c.start())})),u=!0)},o(e){c&&c.invalidate(),d=el(t,fly,{x:100,duration:1e3}),u=!1},d(e){e&&Jr(t),f&&f.d(),_&&_.d(),e&&d&&d.end(),p=!1,m()}}}function by(e,n,o){let i;Ar(e,dl,(e=>o(11,i=e))),Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let{onClose:s}=n,{reviewStage:r=X.initial}=n;const a=[X.initial,X.review,X.gmail,X.gslides,X.customer_segmentation,X.arabic_survey].includes(r);let l=(()=>{let e;if(Xe())e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_firefox",lineTwo:"ui_toaster_how_was_your_experience_line_2_firefox"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_firefox"}};else{if(Ke().browser===Fe.edge)e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_edge",lineTwo:"ui_toaster_how_was_your_experience_line_2_edge"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_edge"}};else e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1",lineTwo:"ui_toaster_how_was_your_experience_line_2"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2"}}}return{howWasYourExperience:{lineOne:chrome.i18n.getMessage(e.howWasYourExperience.lineOne),lineTwo:chrome.i18n.getMessage(e.howWasYourExperience.lineTwo)},writeAReview:{lineTwo:chrome.i18n.getMessage(e.writeAReview.lineTwo)}}})();return e.$$set=e=>{"onClose"in e&&o(1,s=e.onClose),"reviewStage"in e&&o(0,r=e.reviewStage)},[r,s,a,l,function(){dl.set({shouldDisplayFeedbackPopup:!0}),t({action:"dlExternalURLRedirect",payload:{destination:Xe()?Qc:Uc}}),s()},function(){o(0,r=X.review)},function(){let e=Vc;if(chrome.runtime.id===V.edge)e=Yc;else if(Xe())e=Xc;else{if(Ke().browser===Fe.edge)e=Yc;else e=Vc}t({action:"dlExternalURLRedirect",payload:{destination:e}}),s()},function(){t({action:"dlTrackUILocationClicked",payload:R.gmailFeedbackSurvey}),t({action:"dlExternalURLRedirect",payload:{destination:Zc}}),s()},function(){t({action:"dlTrackUILocationClicked",payload:R.gslidesFeedbackSurvey}),t({action:"dlExternalURLRedirect",payload:{destination:Kc}}),s()},function(){(e=>!(!We(e,ge.TRANSLATOR)&&!We(e,ge.WRITE)))(i)?t({action:"dlExternalURLRedirect",payload:{destination:td}}):t({action:"dlExternalURLRedirect",payload:{destination:ed}}),s()},function(){t({action:"dlExternalURLRedirect",payload:{destination:nd}})}]}class yy extends al{constructor(e){super(),rl(this,e,by,wy,Mr,{onClose:1,reviewStage:0})}}class Ey{static HTML_TAG_NAME="deepl-ask-for-review-popup";static createElement=(e=document)=>{const t=e.createElement(Ey.HTML_TAG_NAME),n=new Ey(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({reviewStage:e})=>{const t="rtl"===Tt()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; bottom: 32px; ${t}: 32px; z-index: ${A.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new yy({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const $y=async e=>{const t=Xe();let n,o=e.ownerDocument,i=Sl(e).getSelection();n=t?i&&i.anchorNode&&"#text"==i.anchorNode.nodeName&&"Range"==i.type&&e.contains(i.anchorNode):i&&i.baseNode&&"#text"==i.baseNode.nodeName&&"Range"==i.type&&(e.contains(i.baseNode)||function(e,t){return"IFRAME"===e.nodeName.toUpperCase()&&kl(e)===t.ownerDocument}(e,i.baseNode)),n||(e.focus(),await Al(e)),i=Sl(e).getSelection();const{domElements:s,strings:r,container:a}=function({thisDocument:e,selection:t}){let n;t.getRangeAt?n=t.getRangeAt(0):(n=e.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),i=document.createElement("div");i.appendChild(o),i.style.display="block",i.style.position="fixed",i.style.height="0px",i.style.width="0px",i.style.top="-500px",i.style.left="-500px",i.style.overflow="hidden",document.body.appendChild(i);const{domElements:s,strings:r}=Gm(i);return{domElements:s,strings:r,container:i}}({thisDocument:o,selection:i});return{domElements:s,strings:r,container:a,isSubtextSelected:n}};const xy=e=>{const{domElements:t,strings:n,cloneContainer:o}=function(e){const t=e.cloneNode(!0),n=document.createElement("div");n.appendChild(t),n.style.display="none",document.body.appendChild(n);const{domElements:o,strings:i}=Gm(n);return{domElements:o,strings:i,cloneContainer:n}}(e);return{domElements:t,strings:n,cloneContainer:o}};const Ty=new DOMParser,Sy=(e,t)=>{const n=document.createElement(t),o=Array.from(e.attributes),i=e.tagName;for(;e.firstChild;)n.appendChild(e.firstChild);return e.parentNode.replaceChild(n,e),{tagName:i.toLowerCase(),attributes:o}},Cy=e=>{const t=[],n=new Map;for(let o=0;o<e.length;++o){const i=e[o],s=Ty.parseFromString(i,"text/html"),r=Array.from(s.querySelectorAll("body *:not(head):not(html)"));for(let e of r){const t=`a${n.size+1}`,o=Sy(e,t);n.set(t,o)}const a=s.body.innerHTML;t.push(a)}return{map:n,simplifiedHtml:t}},Ly=(e,t)=>{const n=Ty.parseFromString(t,"text/html"),o=Array.from(n.querySelectorAll("body *:not(head):not(html)"));for(const t of o){const n=e.get(t.tagName.toLowerCase());if(!n)continue;const o=document.createElement(n.tagName);for(const e of n.attributes)o.setAttribute(e.name,e.value);for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode.replaceChild(o,t)}return n.body.innerHTML};async function ky(e,n){const{isWriteRequest:o,targetLang:i,nicheIntegration:s,sourceLang:r,isHtml:a,clearInnerHTML:l}={isWriteRequest:!1,targetLang:null,nicheIntegration:null,sourceLang:null,isHtml:null,clearInnerHTML:null,...n};let c,d={},u=[];const p=!Lm(e);if(p)d=await $y(e),u=d.strings.map((e=>({text:e})));else{const t=e.value;km(e)&&(d.isSubtextSelected=!0),c=d.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,u.push({text:c})}if(0===u.length)return;let m,g;if(r)m=r;else try{m=document.documentElement.lang}catch(e){console.error(e)}const h=Cy(u.map((e=>e.text)));g=o?await t({action:"dlRequestImproveWriting",payload:{requests:h.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:m,sourceLang:r,...a&&{isHtml:!0},nicheIntegration:s}}):await t({action:"dlRequestInputTranslation",payload:{requests:h.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:m,targetLang:i,platformBehavior:s}}),g=g.map((e=>({...e,text:Ly(h.map,e.text),texts:e.texts.map((e=>Ly(h.map,e)))})));const f={text:"",html:""};p?(qm({strings:g[0]?.texts,domElements:d.domElements}),f.text=d.container.innerText,f.html=d.container.innerHTML,d.container.remove()):(f.text=g[0].text,f.html=g[0].text),p&&!d.isSubtextSelected&&Bl(e),l&&!d.isSubtextSelected&&(e.innerHTML=""),await Mm(e,f,d.isSubtextSelected)}const My="deepl-writing-ui-added",Iy=5e3;function Ay(e){let t,n,o,i,s,r,a,l;return{c(){t=ta("svg"),n=ta("g"),o=ta("path"),i=ta("path"),s=ta("path"),r=ta("defs"),a=ta("clipPath"),l=ta("rect"),la(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),la(o,"fill","#0F2B46"),la(i,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),la(i,"fill","white"),la(s,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),la(s,"fill","white"),la(n,"clip-path","url(#clip0)"),la(l,"width","18.5294"),la(l,"height","19"),la(l,"fill","white"),la(l,"transform","matrix(-1 0 0 1 18.5294 0)"),la(a,"id","clip0"),la(t,"width",e[1]),la(t,"height",e[0]),la(t,"class","deepl-logo-icon"),la(t,"viewBox","0 0 24 24"),la(t,"fill","none"),la(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){Xr(e,t,c),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),Yr(t,r),Yr(r,a),Yr(a,l)},p(e,[n]){2&n&&la(t,"width",e[1]),1&n&&la(t,"height",e[0])},i:xr,o:xr,d(e){e&&Jr(t)}}}function Ny(e,t,n){let{height:o="16px"}=t,{width:i="16px"}=t;return e.$$set=e=>{"height"in e&&n(0,o=e.height),"width"in e&&n(1,i=e.width)},[o,i]}class Oy extends al{constructor(e){super(),rl(this,e,Ny,Ay,Mr,{height:0,width:1})}}function Ry(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=ea("div"),n=oa(),o=ea("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,i=oa(),s=ea("div"),r=oa(),a=ea("div"),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,c=oa(),d=ea("button"),d.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,la(t,"class","close-icon svelte-1pm9ytz"),la(o,"class","title svelte-1pm9ytz"),la(s,"class","body svelte-1pm9ytz"),la(l,"class","secondary svelte-1pm9ytz"),la(d,"class","primary svelte-1pm9ytz"),la(a,"class","footer svelte-1pm9ytz")},m(g,h){Xr(g,t,h),Xr(g,n,h),Xr(g,o,h),Xr(g,i,h),Xr(g,s,h),s.innerHTML=m,Xr(g,r,h),Xr(g,a,h),Yr(a,l),Yr(a,c),Yr(a,d),u||(p=[sa(t,"click",e[3]),sa(l,"click",e[4]),sa(d,"click",e[5])],u=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o),e&&Jr(i),e&&Jr(s),e&&Jr(r),e&&Jr(a),u=!1,Lr(p)}}}function Dy(e){let t,n,o,i,s,r,a,l,c,d,u=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=ea("div"),n=oa(),o=ea("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,i=oa(),s=ea("div"),r=oa(),a=ea("div"),l=ea("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,la(t,"class","close-icon svelte-1pm9ytz"),la(o,"class","title svelte-1pm9ytz"),la(s,"class","body svelte-1pm9ytz"),la(l,"class","primary svelte-1pm9ytz"),la(a,"class","footer svelte-1pm9ytz")},m(p,m){Xr(p,t,m),Xr(p,n,m),Xr(p,o,m),Xr(p,i,m),Xr(p,s,m),s.innerHTML=u,Xr(p,r,m),Xr(p,a,m),Yr(a,l),c||(d=[sa(t,"click",e[3]),sa(l,"click",e[5])],c=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),e&&Jr(n),e&&Jr(o),e&&Jr(i),e&&Jr(s),e&&Jr(r),e&&Jr(a),c=!1,Lr(d)}}}function Py(e){let t,n;return t=new ru({props:{error:{error:e[0]},close:e[3],config:{nicheIntegration:Q.gmail}}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Hy(e){let t,n,o,i,s,r;const a=[Py,Dy,Ry],l=[];function c(e,t){return e[2]?0:e[1]?1:2}return n=c(e),o=l[n]=a[n](e),{c(){t=ea("div"),o.c(),la(t,"class","dl-gmail-character-limit-popup svelte-1pm9ytz"),la(t,"dir",Tt()),ma(t,"is-translator-limit",!e[2])},m(o,a){Xr(o,t,a),l[n].m(t,null),i=!0,s||(r=[Gr(Fl.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container",".deepl-gmail-write-toolbar"]})),sa(t,"click_outside",e[9])],s=!0)},p(e,[s]){let r=n;n=c(e),n===r?l[n].p(e,s):(Ya(),Xa(l[r],1,1,(()=>{l[r]=null})),Za(),o=l[n],o?o.p(e,s):(o=l[n]=a[n](e),o.c()),Ka(o,1),o.m(t,null)),(!i||4&s)&&ma(t,"is-translator-limit",!e[2])},i(e){i||(Ka(o),i=!0)},o(e){Xa(o),i=!1},d(e){e&&Jr(t),l[n].d(),s=!1,Lr(r)}}}function Uy(e,n,o){let i,s;Ar(e,dl,(e=>o(8,s=e))),Ca("text_direction",Tt());let{onCloseCharLimitPopup:r}=n,{cleanUpDOM:a}=n,{limitType:l}=n,c=!1,d=!1;const u=()=>{r&&r(),a&&a()};return e.$$set=e=>{"onCloseCharLimitPopup"in e&&o(6,r=e.onCloseCharLimitPopup),"cleanUpDOM"in e&&o(7,a=e.cleanUpDOM),"limitType"in e&&o(0,l=e.limitType)},e.$$.update=()=>{1&e.$$.dirty&&o(2,i=l===vr||l===wr),256&e.$$.dirty&&o(1,d=!0===s.isLoggedIn)},[l,d,i,u,()=>{c||(t({action:"dlTrackUILocationClicked",payload:R.gmailCharLimitLogin}),c=!0,t({action:"dlRequestLogin"}).then((()=>{c=!1,u()})).catch((()=>{c=!1})))},()=>{t({action:"dlExternalURLRedirect",payload:{destination:zc,utmContent:"gmail_customization"}}),u()},r,a,s,()=>{u()}]}class Gy extends al{constructor(e){super(),rl(this,e,Uy,Hy,Mr,{onCloseCharLimitPopup:6,cleanUpDOM:7,limitType:0})}}class zy{static HTML_TAG_NAME="deepl-gmail-character-limit-popup";static createElement=(e=document)=>{const t=e.createElement(zy.HTML_TAG_NAME),n=new zy(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({onCloseCharLimitPopup:e,limitType:t})=>{this.mainComponent=new Gy({target:this.domElement.shadowContainer,props:{cleanUpDOM:this.domElement.cleanupDOM,onCloseCharLimitPopup:e,limitType:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function qy(e){let t,n,o,i;const s=[By,jy],r=[];function a(e,t){return e[8]?0:1}return n=a(e),o=r[n]=s[n](e),{c(){t=ea("div"),o.c(),la(t,"class","dl-gmail-translate-toolbar svelte-2u8gwy"),ma(t,"hasLoaded",e[3]),ma(t,"isExpanded",e[4])},m(e,o){Xr(e,t,o),r[n].m(t,null),i=!0},p(e,l){let c=n;n=a(e),n===c?r[n].p(e,l):(Ya(),Xa(r[c],1,1,(()=>{r[c]=null})),Za(),o=r[n],o?o.p(e,l):(o=r[n]=s[n](e),o.c()),Ka(o,1),o.m(t,null)),(!i||8&l[0])&&ma(t,"hasLoaded",e[3]),(!i||16&l[0])&&ma(t,"isExpanded",e[4])},i(e){i||(Ka(o),i=!0)},o(e){Xa(o),i=!1},d(e){e&&Jr(t),r[n].d()}}}function Wy(e){let t,n,o,i,s,r,a,l,c;return o=new Jl({props:{tooltip:chrome.i18n.getMessage("gmail_compose_undo_icon"),zIndex:e[14].z_index,$$slots:{default:[Zy]},$$scope:{ctx:e}}}),r=new Jl({props:{tooltip:chrome.i18n.getMessage("gmail_compose_accept_icon"),zIndex:e[14].z_index,$$slots:{default:[Ky]},$$scope:{ctx:e}}}),{c(){t=ea("div"),n=ea("div"),ol(o.$$.fragment),i=oa(),s=ea("div"),ol(r.$$.fragment),la(n,"class","wrapper undo-wrapper svelte-2u8gwy"),la(s,"class","wrapper accept-wrapper svelte-2u8gwy"),la(t,"class","accept-changes svelte-2u8gwy")},m(d,u){Xr(d,t,u),Yr(t,n),il(o,n,null),Yr(t,i),Yr(t,s),il(r,s,null),a=!0,l||(c=[Gr(Fl.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),sa(t,"click_outside",e[17])],l=!0)},p(e,t){const n={};16777216&t[1]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const i={};16777216&t[1]&&(i.$$scope={dirty:t,ctx:e}),r.$set(i)},i(e){a||(Ka(o.$$.fragment,e),Ka(r.$$.fragment,e),a=!0)},o(e){Xa(o.$$.fragment,e),Xa(r.$$.fragment,e),a=!1},d(e){e&&Jr(t),sl(o),sl(r),l=!1,Lr(c)}}}function jy(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E,$,x,T,S,C=chrome.i18n.getMessage("gmail_compose_translate_button")+"",L=We(e[13],ge.TRANSLATOR);s=new ac({props:{selectedOption:e[1],items:e[7],placeholder:"...",allowLabelHtml:!0}}),s.$on("valueselected",e[21]),p=new ap({props:{value:e[12]||e[13].targetLanguageUserInput,disabled:!1,fontSize:"sm"}}),p.$on("selection",e[22]);let k=L&&Fy();return $=new Jl({props:{isEnabled:!0,tooltip:je(e[13],ge.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("gmail_compose_improve_tooltip"),zIndex:e[14].z_index,multiline:!0,$$slots:{default:[Yy]},$$scope:{ctx:e}}}),{c(){t=ea("div"),n=ea("div"),n.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_from")}`,o=oa(),i=ea("div"),ol(s.$$.fragment),r=oa(),a=ea("div"),l=ea("div"),l.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_into")}`,c=oa(),d=ea("div"),u=ea("div"),ol(p.$$.fragment),m=oa(),g=ea("div"),h=ea("button"),f=na(C),_=oa(),k&&k.c(),w=oa(),b=ea("div"),y=oa(),E=ea("div"),ol($.$$.fragment),la(n,"class","translation-label svelte-2u8gwy"),la(i,"class","wrapper shortcode-wrapper svelte-2u8gwy"),la(t,"class","translation-selection-wrapper svelte-2u8gwy"),la(l,"class","translation-label svelte-2u8gwy"),la(u,"class","dropdown"),la(d,"class","wrapper language-wrapper svelte-2u8gwy"),la(a,"class","translation-selection-wrapper svelte-2u8gwy"),h.disabled=v=e[5]||!e[12],la(h,"class","svelte-2u8gwy"),ma(h,"isTranslating",e[5]),la(g,"class","wrapper button-wrapper"),la(b,"class","divider svelte-2u8gwy"),la(E,"class","wrapper button-wrapper")},m(v,C){Xr(v,t,C),Yr(t,n),Yr(t,o),Yr(t,i),il(s,i,null),Xr(v,r,C),Xr(v,a,C),Yr(a,l),Yr(a,c),Yr(a,d),Yr(d,u),il(p,u,null),Xr(v,m,C),Xr(v,g,C),Yr(g,h),Yr(h,f),Yr(h,_),k&&k.m(h,null),Xr(v,w,C),Xr(v,b,C),Xr(v,y,C),Xr(v,E,C),il($,E,null),x=!0,T||(S=sa(h,"mousedown",aa(ra(e[15]))),T=!0)},p(e,t){const n={};2&t[0]&&(n.selectedOption=e[1]),128&t[0]&&(n.items=e[7]),s.$set(n);const o={};12288&t[0]&&(o.value=e[12]||e[13].targetLanguageUserInput),p.$set(o),8192&t[0]&&(L=We(e[13],ge.TRANSLATOR)),L?k?8192&t[0]&&Ka(k,1):(k=Fy(),k.c(),Ka(k,1),k.m(h,null)):k&&(Ya(),Xa(k,1,1,(()=>{k=null})),Za()),(!x||4128&t[0]&&v!==(v=e[5]||!e[12]))&&(h.disabled=v),(!x||32&t[0])&&ma(h,"isTranslating",e[5]);const i={};8192&t[0]&&(i.tooltip=je(e[13],ge.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("gmail_compose_improve_tooltip")),8288&t[0]|16777216&t[1]&&(i.$$scope={dirty:t,ctx:e}),$.$set(i)},i(e){x||(Ka(s.$$.fragment,e),Ka(p.$$.fragment,e),Ka(k),Ka($.$$.fragment,e),x=!0)},o(e){Xa(s.$$.fragment,e),Xa(p.$$.fragment,e),Xa(k),Xa($.$$.fragment,e),x=!1},d(e){e&&Jr(t),sl(s),e&&Jr(r),e&&Jr(a),sl(p),e&&Jr(m),e&&Jr(g),k&&k.d(),e&&Jr(w),e&&Jr(b),e&&Jr(y),e&&Jr(E),sl($),T=!1,S()}}}function By(e){let t,n;return t=new eg({}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p:xr,i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Fy(e){let t,n;return t=new qh({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Vy(e){let t,n;return t=new qh({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function Yy(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("gmail_compose_improve_button")+"",c=We(e[13],ge.WRITE),d=c&&Vy();return{c(){t=ea("button"),n=na(l),o=oa(),d&&d.c(),t.disabled=i=je(e[13],ge.WRITE)||e[5]||!e[6],la(t,"class","svelte-2u8gwy"),ma(t,"isTranslating",e[5])},m(i,l){Xr(i,t,l),Yr(t,n),Yr(t,o),d&&d.m(t,null),s=!0,r||(a=sa(t,"mousedown",aa(ra(e[16]))),r=!0)},p(e,n){8192&n[0]&&(c=We(e[13],ge.WRITE)),c?d?8192&n[0]&&Ka(d,1):(d=Vy(),d.c(),Ka(d,1),d.m(t,null)):d&&(Ya(),Xa(d,1,1,(()=>{d=null})),Za()),(!s||8288&n[0]&&i!==(i=je(e[13],ge.WRITE)||e[5]||!e[6]))&&(t.disabled=i),(!s||32&n[0])&&ma(t,"isTranslating",e[5])},i(e){s||(Ka(d),s=!0)},o(e){Xa(d),s=!1},d(e){e&&Jr(t),d&&d.d(),r=!1,a()}}}function Zy(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML='<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-2u8gwy"></path></svg>',la(t,"class","confirm-button svelte-2u8gwy")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",aa(ra(e[18]))),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function Ky(e){let t,n,o;return{c(){t=ea("button"),t.innerHTML='<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-2u8gwy"></path></svg>',la(t,"class","confirm-button right svelte-2u8gwy")},m(i,s){Xr(i,t,s),n||(o=sa(t,"click",aa(ra(e[17]))),n=!0)},p:xr,d(e){e&&Jr(t),n=!1,o()}}}function Xy(e){let t,n,o,i,s,r,a,l,c,d,u,p;const m=[Wy,qy],g=[];function h(e,t){return e[2]?0:1}return o=h(e),i=g[o]=m[o](e),l=new Oy({props:{height:"24px",width:"24px"}}),{c(){t=ea("div"),n=ea("div"),i.c(),s=oa(),r=ea("div"),a=ea("div"),ol(l.$$.fragment),la(a,"class","wrapper icon-wrapper svelte-2u8gwy"),la(r,"class","dl-toolbar-closed svelte-2u8gwy"),la(n,"class","dl-toolbar-positioner svelte-2u8gwy"),la(t,"class","deepl-gmail-write-toolbar svelte-2u8gwy"),la(t,"style",c=`top: ${e[9]}px; left: ${e[10]}px`),la(t,"dir",Tt())},m(i,c){Xr(i,t,c),Yr(t,n),g[o].m(n,null),Yr(n,s),Yr(n,r),Yr(r,a),il(l,a,null),d=!0,u||(p=[sa(a,"click",e[23]),sa(t,"click",aa(ra(e[24]))),Gr(Fl.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),sa(t,"click_outside",e[25])],u=!0)},p(e,r){let a=o;o=h(e),o===a?g[o].p(e,r):(Ya(),Xa(g[a],1,1,(()=>{g[a]=null})),Za(),i=g[o],i?i.p(e,r):(i=g[o]=m[o](e),i.c()),Ka(i,1),i.m(n,s)),(!d||1536&r[0]&&c!==(c=`top: ${e[9]}px; left: ${e[10]}px`))&&la(t,"style",c)},i(e){d||(Ka(i),Ka(l.$$.fragment,e),d=!0)},o(e){Xa(i),Xa(l.$$.fragment,e),d=!1},d(e){e&&Jr(t),g[o].d(),sl(l),u=!1,Lr(p)}}}function Jy(e,n,o){let i;Ar(e,dl,(e=>o(13,i=e))),Ca("text_direction",Tt());const{deepl_inline_ui:s}=A;let{messageContainer:r}=n,{updateLockStatus:a}=n,{subjectInput:l}=n;const c="WRITE",d="TRANSLATE";let u,p,m,g,h,f,_,v,w,b,y,E,$,x,T=null,S=!1,C=!1,L=!1,k=!1;Ca("deepl_settings",dl),xa((async()=>{r&&(r.addEventListener("input",I),r.addEventListener("paste",I),r.classList.add("deepl-gmail-message-container"),M(),l&&l.value&&(f=l.value)),o(7,g=LE()),o(12,x=i.targetLanguageUserInput),z(),j(),window.addEventListener("popstate",R)})),Ta((()=>{window.removeEventListener("popstate",R),r.removeEventListener("input",I),r.removeEventListener("paste",I),r.classList.remove("deepl-gmail-message-container"),q()}));const M=async()=>{const e=r.innerHTML,t=e.replace(/<[^>]+>/g,"");const n=await bt(t);n.length&&(e=>{const t=g.find((t=>t.value===e));t&&o(1,T=t)})(n)},I=()=>{S&&O(!1),N()},N=()=>{M()},O=(e,t)=>{if(!e)return o(2,S=!1),p=null,void(u=null);o(2,S=!0),p=t},R=()=>{document.querySelectorAll(zy.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},D=(e,t=!0)=>{for(;null!==e;){const n=e.getAttribute("role");if("TABLE"===e.tagName&&("dialog"===n||"presentation"===n))return t?e.parentElement:e;e=e.parentElement}return null},P=e=>{const t=D(r);t&&(_=zy.createElement(),_.createDOM({onCloseCharLimitPopup:R,limitType:e}),t.appendChild(_))},H=()=>{o(8,v=!0)},U=()=>{o(8,v=!1)},G=e=>{Ju.update({error:e.message?e.message:e})},z=()=>{w=setInterval(W,800)},q=()=>{clearInterval(w)},W=()=>{const e=JSON.stringify(r.getBoundingClientRect());e!==b&&(b=e,j())},j=()=>{const e=D(r),t=e.getBoundingClientRect();if(!e||!t)return;const n=(()=>{const e=D(r),t=e.getBoundingClientRect();if(!e||!t)return;return e.querySelector("[role=toolbar]")})(),i=(()=>{const e=D(r),t=e.getBoundingClientRect();if(!e||!t)return;const n=e.querySelector("[role='group']"),o=n.querySelectorAll("[role='button']");if(!n||!o)return;const i=Array.from(o);return i[i.length-1]})();if(n&&0!==n.getBoundingClientRect().top){const e=n.getBoundingClientRect();return i&&i.getBoundingClientRect()?(o(9,y=e.top-10),void o(10,E=i.getBoundingClientRect().right-30)):(o(9,y=e.top-10),void o(10,E=t.right-45))}if(!i||!i.getBoundingClientRect())return;const s=i.getBoundingClientRect();o(9,y=s.top-18),o(10,E=s.right-30)},B=({lang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={lang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:Q.gmail}},F=({sourceLang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={sourceLang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:Q.gmail}},V=e=>{t({action:"dlTrackTranslateAcceptOrRevertEvent",payload:{eventType:e?$e:xe,acceptOrRevertMetadata:u}})},Y=e=>{t({action:"dlTrackGmailCharLimitReached",payload:{gmailActionType:Eh(e)}})};return e.$$set=e=>{"messageContainer"in e&&o(19,r=e.messageContainer),"updateLockStatus"in e&&o(0,a=e.updateLockStatus),"subjectInput"in e&&o(20,l=e.subjectInput)},e.$$.update=()=>{2&e.$$.dirty[0]&&o(7,g=LE(T)),2&e.$$.dirty[0]&&T&&T.value&&o(6,k=["EN","DE"].includes(T.value))},[a,T,S,C,L,m,k,g,v,y,E,$,x,i,s,async()=>{if(!r)return;h=r.innerHTML;const e=l&&l.value;e&&(f=l.value);const n=r.innerText,s=n.length>Iy;if(!We(i,ge.TRANSLATOR)&&s)return P(),void Y(Me.COMPOSE_VIEW_TRANSLATE);H();const a=$?$.value:T.value;try{if(await ky(r,{targetLang:x,nicheIntegration:Q.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await t({action:"dlRequestInputTranslation",payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:a,targetLang:x,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;o(20,l.value=t,l)}}o(5,m=!1),O(!0,d),U(),F({sourceLang:a,targetLang:x,sourceLength:n.length,targetLength:r.innerText.length})}catch(e){G(e),U(),o(5,m=!1),O(!1)}},async()=>{if(!r)return;const e=l&&l.value;h=r.innerHTML,e&&(f=l.value);const n=r.innerText;o(5,m=!0),H();const i=T.value;try{if(await ky(r,{isWriteRequest:!0,sourceLang:i,nicheIntegration:Q.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await t({action:"dlRequestImproveWriting",payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:i,sourceLang:i,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;o(20,l.value=t,l)}}B({lang:i,sourceLength:n.length,targetLength:r.innerText.length}),o(5,m=!1),O(!0,c),U()}catch(e){switch(e.error){case vr:case wr:P(e.error),Y(Me.COMPOSE_VIEW_IMPROVE);break;default:G(e)}o(5,m=!1),O(!1),U()}},()=>{p===d?V(!0):mT({eventType:be,...u}),h=null,f=null,O(!1),M(),o(4,L=!1)},()=>{p===d?V(!1):mT({eventType:ye,...u}),o(19,r.innerHTML=h,r),l&&f&&o(20,l.value=f,l),M(),O(!1)},r,l,e=>{o(11,$=e.detail.selectedOption)},async e=>{o(12,x=e.detail.selectedOption.value)},()=>{a(!0),o(4,L=!L),o(3,C=!0)},()=>{a(!0)},()=>{a(!1),o(4,L=!1)}]}class Qy extends al{constructor(e){super(),rl(this,e,Jy,Xy,Mr,{messageContainer:19,updateLockStatus:0,subjectInput:20},null,[-1,-1])}}class eE{static HTML_TAG_NAME="deepl-gmail-message-write-ui";static createElement=(e=document)=>{const t=e.createElement(eE.HTML_TAG_NAME),n=new eE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e,subjectInput:t,updateLockStatus:n})=>{this.mainComponent=new Qy({target:this.domElement.shadowContainer,props:{messageContainer:e,updateLockStatus:n,subjectInput:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function tE(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E,$,x,T,S,C,L,k,M,I,A,N,O,R,D,P,H,U,G=chrome.i18n.getMessage("gmail_reading_translate_button")+"",z=chrome.i18n.getMessage("gmail_reading_forward_button")+"",q=e[3]&&nE(),W=null!=e[5]&&oE(e);return u=new ap({props:{disabled:e[0],websiteSettings:Ju,value:e[1].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[15]),C=new Jl({props:{tooltip:chrome.i18n.getMessage("gmail_reading_view_original_button"),multiline:!1,zIndex:2,$$slots:{default:[iE]},$$scope:{ctx:e}}}),{c(){t=ea("div"),n=ea("div"),o=ea("span"),i=oa(),s=ea("div"),s.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,r=oa(),q&&q.c(),a=oa(),l=ea("div"),W&&W.c(),c=oa(),d=ea("div"),ol(u.$$.fragment),p=oa(),m=ea("div"),g=ea("button"),h=ta("svg"),f=ta("g"),_=ta("path"),v=ta("path"),w=ta("path"),b=ta("defs"),y=ta("clipPath"),E=ta("rect"),$=oa(),x=na(G),T=oa(),S=ea("div"),ol(C.$$.fragment),L=oa(),k=ea("div"),M=ea("button"),I=ta("svg"),A=ta("path"),O=oa(),R=na(z),la(o,"class","deepl-logo svelte-rvmlkr"),la(s,"class","title"),la(l,"class","language-selection-wrapper svelte-rvmlkr"),la(d,"class","language-selection-wrapper svelte-rvmlkr"),la(_,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),la(_,"class","deepl-icon"),la(v,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),la(v,"fill","#0f2b46"),la(w,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),la(w,"fill","#0f2b46"),la(f,"clip-path","url(#clip0)"),la(E,"width","18.5294"),la(E,"height","19"),la(E,"fill","white"),la(E,"transform","matrix(-1 0 0 1 18.5294 0)"),la(y,"id","clip0"),la(h,"width","15"),la(h,"height","15"),la(h,"viewBox","0 0 19 19"),la(h,"fill","white"),la(h,"xmlns","http://www.w3.org/2000/svg"),la(h,"class","deepl-logo-svg svelte-rvmlkr"),la(g,"class","translate-button svelte-rvmlkr"),g.disabled=e[0],la(g,"paddingx","none"),la(n,"class","left-side svelte-rvmlkr"),la(A,"d","M15 1L19 5M19 5L15 9M19 5L1 5"),la(A,"stroke",N=e[2]?"#0F2B46":"#848F9B"),la(A,"stroke-width","1.5"),la(A,"stroke-linecap","round"),la(A,"stroke-linejoin","round"),la(I,"width","20"),la(I,"height","10"),la(I,"viewBox","0 0 20 10"),la(I,"fill","none"),la(I,"xmlns","http://www.w3.org/2000/svg"),la(I,"class","svelte-rvmlkr"),M.disabled=D=!e[2],la(M,"class","forward-button svelte-rvmlkr"),la(M,"paddingx","none"),la(k,"class","right-side svelte-rvmlkr"),la(t,"class","dl-gmail-email-toolbar svelte-rvmlkr"),la(t,"dir",Tt())},m(N,D){Xr(N,t,D),Yr(t,n),Yr(n,o),Yr(n,i),Yr(n,s),Yr(n,r),q&&q.m(n,null),Yr(n,a),Yr(n,l),W&&W.m(l,null),Yr(n,c),Yr(n,d),il(u,d,null),Yr(n,p),Yr(n,m),Yr(m,g),Yr(g,h),Yr(h,f),Yr(f,_),Yr(f,v),Yr(f,w),Yr(h,b),Yr(b,y),Yr(y,E),Yr(g,$),Yr(g,x),Yr(n,T),Yr(n,S),il(C,S,null),Yr(t,L),Yr(t,k),Yr(k,M),Yr(M,I),Yr(I,A),Yr(M,O),Yr(M,R),P=!0,H||(U=[sa(g,"click",aa(ra(e[9]))),sa(M,"click",e[10])],H=!0)},p(e,t){e[3]?q?8&t[0]&&Ka(q,1):(q=nE(),q.c(),Ka(q,1),q.m(n,a)):q&&(Ya(),Xa(q,1,1,(()=>{q=null})),Za()),null!=e[5]?W?(W.p(e,t),32&t[0]&&Ka(W,1)):(W=oE(e),W.c(),Ka(W,1),W.m(l,null)):W&&(Ya(),Xa(W,1,1,(()=>{W=null})),Za());const o={};1&t[0]&&(o.disabled=e[0]),2&t[0]&&(o.value=e[1].selectedTargetLanguage),u.$set(o),(!P||1&t[0])&&(g.disabled=e[0]);const i={};4&t[0]|4&t[1]&&(i.$$scope={dirty:t,ctx:e}),C.$set(i),(!P||4&t[0]&&N!==(N=e[2]?"#0F2B46":"#848F9B"))&&la(A,"stroke",N),(!P||4&t[0]&&D!==(D=!e[2]))&&(M.disabled=D)},i(e){P||(Ka(q),Ka(W),Ka(u.$$.fragment,e),Ka(C.$$.fragment,e),P=!0)},o(e){Xa(q),Xa(W),Xa(u.$$.fragment,e),Xa(C.$$.fragment,e),P=!1},d(e){e&&Jr(t),q&&q.d(),W&&W.d(),sl(u),sl(C),H=!1,Lr(U)}}}function nE(e){let t,n;return t=new qh({props:{size:24,translator:!0}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function oE(e){let t,n;return t=new ap({props:{disabled:e[0],value:e[5],websiteSettings:Ju,customClass:"borderless",fontSize:"sm",extraPadding:!0}}),t.$on("selection",e[14]),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),32&n[0]&&(o.value=e[5]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function iE(e){let t,n,o,i,s,r;return{c(){t=ea("button"),n=ta("svg"),o=ta("path"),la(o,"d","M7 16L3 12M3 12L7 8M3 12L21 12"),la(o,"stroke",i=e[2]?"#000":"#848F9B"),la(o,"stroke-width","2"),la(o,"stroke-linecap","round"),la(o,"stroke-linejoin","round"),la(n,"height","20px"),la(n,"width","20px"),la(n,"viewBox","0 0 24 24"),la(n,"fill","none"),la(n,"xmlns","http://www.w3.org/2000/svg"),la(t,"class","show-original-button svelte-rvmlkr"),la(t,"paddingx","none"),ma(t,"enabled",e[2])},m(i,a){Xr(i,t,a),Yr(t,n),Yr(n,o),s||(r=sa(t,"click",aa(ra(e[8]))),s=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&la(o,"stroke",i),4&n[0]&&ma(t,"enabled",e[2])},d(e){e&&Jr(t),s=!1,r()}}}function sE(e){let t,n,o=e[6]&&e[7]&&tE(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,n){e[6]&&e[7]?o?(o.p(e,n),192&n[0]&&Ka(o,1)):(o=tE(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function rE(e,n,o){let i,s,r,a,l,c,d,u,p;Ar(e,dl,(e=>o(1,i=e))),Ca("text_direction",Tt());let m,g,h,f,_=!1,v=!1,w=!1,b=!1,y=!1,{container:E}=n;xa((async()=>{L(),k(),await S(),o(4,m=i.selectedTargetLanguage),setTimeout((()=>{o(7,y=!0)}),200),window.addEventListener("popstate",T)})),Ta((()=>{window.removeEventListener("popstate",T)}));const $=()=>{s.innerText=r.innerText,s.innerHTML=r.innerHTML,d.innerText=c,o(12,v=!1)},x=e=>{d&&(e?d.classList.add("deepl-gmail-loading-skeleton"):d.classList.remove("deepl-gmail-loading-skeleton"))},T=()=>{document.querySelectorAll(zy.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},S=async()=>{if(!a)return;if(u=await bt(a),o(6,f=vt(u)),!f)return;const e=Et(wt(u));o(5,h=e)},C=async()=>{const e=`<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;let t;if(_)t=s.innerHTML;else{const n=`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`;t=`${s.innerHTML}<br>${n}`}const n=(new DOMParser).parseFromString(t,"text/html"),i={html:t,text:Tl(n.body)},r=document.querySelector("[contenteditable='true']");r.focus(),setTimeout((()=>{r.focus(),zl(r,i,!1),o(13,b=!1)}),500)},L=()=>{const e=Array.from(E.children).filter((e=>"div"===e.tagName.toLowerCase()));if(3!==e.length)return;const t=e[1];if(!t)return;const n=Array.from(t.children).filter((e=>"div"===e.tagName.toLowerCase()));if(!n||!n.length)return;const o=n[2];o&&(r=o.cloneNode(!0),s=o,o.innerHTML,a=o.innerText)},k=()=>{const e=document.querySelector("[data-thread-perm-id]");e&&(d=e,l=e.innerText,c=e.innerText)};return e.$$set=e=>{"container"in e&&o(11,E=e.container)},e.$$.update=()=>{12289&e.$$.dirty[0]&&o(2,p=v&&!w&&!b),2&e.$$.dirty[0]&&o(3,_=We(i,ge.TRANSLATOR))},[w,i,p,_,m,h,f,y,$,async()=>{if(!s)return;const{domElements:e,strings:n,cloneContainer:i}=xy(s),r=n.reduce(((e,t)=>e+t.length),0);if(!_&&r>Iy)return t({action:"dlTrackGmailCharLimitReached",payload:{gmailActionType:Eh(Me.READING_VIEW_TRANSLATE)}}),g=zy.createElement(),g.createDOM({onCloseCharLimitPopup:T}),void document.body.appendChild(g);o(0,w=!0);const a=n.map((e=>({text:e}))),c=[{text:l}],u=Cy(a.map((e=>e.text)));(e=>{if(!e)return;const{height:t}=e.getBoundingClientRect(),n=Math.floor(t/20),o=[];for(let e=0;e<n;e++)o.push(`<div style="width: ${i=35,s=99,Math.floor(Math.random()*(s-i+1))+i}%" class="deepl-gmail-loading-skeleton">line</div>`);var i,s;e.innerHTML=o.join("")})(s),x(!0);try{let[n,r]=await Promise.all([t({action:"dlRequestGmailReceivedEmailTranslation",payload:{targetLang:m,sourceLang:h,requests:u.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname}}),t({action:"dlRequestGmailReceivedEmailTranslation",payload:{targetLang:m,sourceLang:h,requests:c,domainName:window.location.hostname}})]);if(n=n.map((e=>({...e,text:Ly(u.map,e.text),texts:e.texts.map((e=>Ly(u.map,e)))}))),qm({strings:n[0]?.texts,domElements:e}),s.innerText=i.innerText,s.innerHTML=i.innerHTML,x(!1),r[0]?.text){const e=r[0]?.text;l=e,d.innerText=e}o(0,w=!1),o(12,v=!0)}catch(e){(e=>{Ju.update({error:e.message?e.message:e})})(e),o(0,w=!1),$()}},()=>{o(13,b=!0);if(!NE())return void o(13,b=!1);const e=OE();e?(e.scrollIntoView(),setTimeout((()=>{IE(e),AE("[contenteditable='true']",C)}),300)):o(13,b=!1)},E,v,b,e=>{o(5,h=e.detail.selectedOption.value)},e=>{o(4,m=e.detail.selectedOption.value)}]}class aE extends al{constructor(e){super(),rl(this,e,rE,sE,Mr,{container:11},null,[-1,-1])}}class lE{static HTML_TAG_NAME="deepl-gmail-translate-email-toolbar";static createElement=(e=document)=>{const t=e.createElement(lE.HTML_TAG_NAME),n=new lE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e})=>{this.mainComponent=new aE({target:this.domElement.shadowContainer,props:{container:e}})};cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function cE(e){let t;return{c(){t=ea("div"),la(t,"class","dot svelte-hpihd0")},m(e,n){Xr(e,t,n)},d(e){e&&Jr(t)}}}function dE(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=!e[0].wasGmailOnboardingShown&&uE();return c=new zb({props:{checked:e[0].isGmailEnabled}}),c.$on("change",e[6]),{c(){t=ea("div"),n=ea("div"),m&&m.c(),o=oa(),i=ea("div"),s=ea("div"),r=ea("div"),r.textContent=`${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,a=oa(),l=ea("div"),ol(c.$$.fragment),la(n,"class","svelte-hpihd0"),ma(n,"content",!e[0].wasGmailOnboardingShown),la(r,"class","switch-content svelte-hpihd0"),la(l,"class","switch"),la(s,"class","switch-container svelte-hpihd0"),ma(s,"topBorder",!e[0].wasGmailOnboardingShown),la(i,"class","footer"),la(t,"class","onboarding-popup svelte-hpihd0")},m(g,h){Xr(g,t,h),Yr(t,n),m&&m.m(n,null),Yr(t,o),Yr(t,i),Yr(i,s),Yr(s,r),Yr(s,a),Yr(s,l),il(c,l,null),d=!0,u||(p=[Gr(Fl.call(null,t,{isShadow:!0,exceptions:["#dl-gmail-settings-icon"]})),sa(t,"click_outside",e[7])],u=!0)},p(e,t){e[0].wasGmailOnboardingShown?m&&(Ya(),Xa(m,1,1,(()=>{m=null})),Za()):m?(m.p(e,t),1&t&&Ka(m,1)):(m=uE(),m.c(),Ka(m,1),m.m(n,null)),(!d||1&t)&&ma(n,"content",!e[0].wasGmailOnboardingShown);const o={};1&t&&(o.checked=e[0].isGmailEnabled),c.$set(o),(!d||1&t)&&ma(s,"topBorder",!e[0].wasGmailOnboardingShown)},i(e){d||(Ka(m),Ka(c.$$.fragment,e),d=!0)},o(e){Xa(m),Xa(c.$$.fragment,e),d=!1},d(e){e&&Jr(t),m&&m.d(),sl(c),u=!1,Lr(p)}}}function uE(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b,y,E;return c=new dp({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),g=new dp({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),w=new dp({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=ea("div"),n=ea("div"),o=ea("div"),o.textContent=`${chrome.i18n.getMessage("gmail_onboarding_title")}`,i=oa(),s=ea("div"),r=oa(),a=ea("div"),l=ea("div"),ol(c.$$.fragment),d=oa(),u=ea("div"),u.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,p=oa(),m=ea("div"),ol(g.$$.fragment),h=oa(),f=ea("div"),f.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,_=oa(),v=ea("div"),ol(w.$$.fragment),b=oa(),y=ea("div"),y.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,la(n,"class","left svelte-hpihd0"),la(s,"class","right"),la(t,"class","title svelte-hpihd0"),la(u,"class","copy-text svelte-hpihd0"),la(l,"class","copy svelte-hpihd0"),la(f,"class","copy-text svelte-hpihd0"),la(m,"class","copy svelte-hpihd0"),la(y,"class","copy-text svelte-hpihd0"),la(v,"class","copy svelte-hpihd0"),la(a,"class","body svelte-hpihd0")},m(e,$){Xr(e,t,$),Yr(t,n),Yr(n,o),Yr(t,i),Yr(t,s),Xr(e,r,$),Xr(e,a,$),Yr(a,l),il(c,l,null),Yr(l,d),Yr(l,u),Yr(a,p),Yr(a,m),il(g,m,null),Yr(m,h),Yr(m,f),Yr(a,_),Yr(a,v),il(w,v,null),Yr(v,b),Yr(v,y),E=!0},p:xr,i(e){E||(Ka(c.$$.fragment,e),Ka(g.$$.fragment,e),Ka(w.$$.fragment,e),E=!0)},o(e){Xa(c.$$.fragment,e),Xa(g.$$.fragment,e),Xa(w.$$.fragment,e),E=!1},d(e){e&&Jr(t),e&&Jr(r),e&&Jr(a),sl(c),sl(g),sl(w)}}}function pE(e){let t,n,o,i,s,r,a,l=e[2]&&cE(),c=e[1]&&dE(e);return{c(){t=ea("div"),n=ea("div"),o=oa(),l&&l.c(),i=oa(),c&&c.c(),la(n,"class","icon svelte-hpihd0"),la(n,"id","dl-gmail-settings-icon"),ma(n,"notification",e[2]),ma(n,"isOnboardingPopupOpen",e[1]),ma(n,"enabled",e[0].isGmailEnabled),la(t,"class","deepl-gmail-header-toolbar svelte-hpihd0"),la(t,"dir",Tt())},m(d,u){Xr(d,t,u),Yr(t,n),Yr(t,o),l&&l.m(t,null),Yr(t,i),c&&c.m(t,null),s=!0,r||(a=sa(n,"click",aa(ra(e[5]))),r=!0)},p(e,[o]){(!s||4&o)&&ma(n,"notification",e[2]),(!s||2&o)&&ma(n,"isOnboardingPopupOpen",e[1]),(!s||1&o)&&ma(n,"enabled",e[0].isGmailEnabled),e[2]?l||(l=cE(),l.c(),l.m(t,i)):l&&(l.d(1),l=null),e[1]?c?(c.p(e,o),2&o&&Ka(c,1)):(c=dE(e),c.c(),Ka(c,1),c.m(t,null)):c&&(Ya(),Xa(c,1,1,(()=>{c=null})),Za())},i(e){s||(Ka(c),s=!0)},o(e){Xa(c),s=!1},d(e){e&&Jr(t),l&&l.d(),c&&c.d(),r=!1,a()}}}function mE(e,n,o){let i;Ar(e,dl,(e=>o(0,i=e))),Ca("text_direction",Tt());let s=!1,r=!1;const a=async e=>{o(1,s=e),e||i.wasGmailOnboardingShown||await dl.set({wasGmailOnboardingShown:!0}),t({action:"dlTrackUILocationClicked",payload:R.gmailOnboardingIcon}),e&&t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Q.gmail}})},l=async e=>{await dl.set({isGmailEnabled:e}),t({action:"dlTrackCustomizationEnabledEvent",payload:{nicheIntegration:Q.gmail,uiLocation:R.gmailOnboardingPopup,customizationEnabled:e}})};return e.$$.update=()=>{1&e.$$.dirty&&o(2,r=!i.wasGmailOnboardingShown)},[i,s,r,a,l,()=>{a(!s)},e=>l(e.detail.checked),()=>{a(!1)}]}class gE extends al{constructor(e){super(),rl(this,e,mE,pE,Mr,{})}}class hE{static HTML_TAG_NAME="deepl-gmail-header-toolbar";static createElement=(e=document)=>{const t=e.createElement(hE.HTML_TAG_NAME),n=new hE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new gE({target:this.domElement.shadowContainer})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function fE(e){let t;return{c(){t=ea("div"),la(t,"class","dl-gmail"),la(t,"dir",Tt())},m(e,n){Xr(e,t,n)},p:xr,i:xr,o:xr,d(e){e&&Jr(t)}}}function _E(e,t,n){let o,i,s,r,a;Ar(e,dl,(e=>n(5,o=e))),Ca("text_direction",Tt());let l=!1;const c=()=>{p(),o.isGmailEnabled?d():u()},d=()=>{m(),g()},u=()=>{const e=[zy.HTML_TAG_NAME,lE.HTML_TAG_NAME,eE.HTML_TAG_NAME];EE(e)},p=()=>{const e="data-has-dl-icon",t=document.querySelector("header");if(!t||"banner"!==t.getAttribute("role")||t.hasAttribute(e))return;const n=t.querySelector("[role='search']");if(!n)return;const o=n.parentNode;if(!o)return;const i=hE.createElement();o.insertAdjacentElement("afterend",i),i.createDOM(),t.setAttribute(e,!0)},m=()=>{if($E()){const e=xE();if(!e)return;e.forEach((e=>{const t=CE(e);if(!t||TE(e))return;const n=t.parentNode;if(!n)return;const o=lE.createElement();n.after(o),o.createDOM({container:e})}))}},g=()=>{const e=document.activeElement;if(!e)return;const t=e.hasAttribute("contenteditable"),n=SE(e),o=e.hasAttribute(My),i=e!==r,s=!a&&(!t||n||i),c=t&&(!o||i)&&!n;!s||c||l?(l=!1,s&&f(),c&&(f(),h(e))):l=!0},h=e=>{const t=eE.createElement();s=t,r=e,e.setAttribute(My,"true"),document.body.appendChild(t);const n=(e=>{const t=function(e){let t=e;for(;null!==t;){if("dialog"===t.getAttribute("role"))return t;t=t.parentElement}return null}(e);return t?t.querySelector('input[name="subjectbox"]'):null})(e);t.createDOM({container:e,subjectInput:n,updateLockStatus:_})},f=()=>{s&&s.cleanupDOM();const e=Array.from(document.querySelectorAll(eE.HTML_TAG_NAME));for(const t of e)t.remove();document.querySelectorAll(`[contenteditable][${My}="true"]`).forEach((e=>e.removeAttribute(My))),s=null},_=e=>{a=e},v=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?w():b()},w=()=>{i&&clearInterval(i),i=setInterval(c,800)},b=()=>{clearInterval(i)};return xa((()=>{w(),chrome.runtime.onMessage.addListener(v)})),Ta((()=>{u(),i&&b(),chrome.runtime.onMessage.removeListener(v)})),[]}class vE extends al{constructor(e){super(),rl(this,e,_E,fE,Mr,{})}}class wE{static HTML_TAG_NAME="deepl-gmail-controller";static createElement=(e=document)=>{const t=e.createElement(wE.HTML_TAG_NAME),n=new wE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new vE({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()}}const{scope:bE}=Fp(),yE=()=>document.querySelector(wE.HTML_TAG_NAME),EE=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM&&t.cleanupDOM(),t.remove()}}catch(e){jt()&&console.error(e),nr(e,bE)}},$E=()=>document.querySelectorAll("[data-message-id]").length>0,xE=()=>document.querySelectorAll("[data-message-id]"),TE=e=>!!e&&!!e.querySelector(lE.HTML_TAG_NAME),SE=e=>{const{bottom:t,right:n}=e.getBoundingClientRect(),o=t-30,i=n-30;let s=!1;return document.querySelectorAll('[role="dialog"]').forEach((t=>{const n=(r=i,a=o,l=t.getBoundingClientRect(),r>=l.left&&r<=l.right&&a>=l.top&&a<=l.bottom);var r,a,l;const c=t.contains(e);n&&!c&&(s=!0)})),s},CE=e=>{if(e)return e.querySelector("table")},LE=e=>{const t=yt(),n=t.filter((e=>void 0===e.regionalVariant)).map((e=>({value:e.value,label:`<strong>${e.value}</strong> - ${e.label}`,selectedOptionLabel:e.value}))),o=t.find((e=>"EN-GB"===e.value)),i=t.find((e=>"PT-PT"===e.value));return[...[...n,...[{...o,value:"EN",selectedOptionLabel:"EN",label:`<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`},{...i,value:"PT",selectedOptionLabel:"PT",label:`<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`}]].map((t=>e&&t.value===e.value?{...t,label:`${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`}:t))].sort(((e,t)=>e.value.localeCompare(t.value)))},kE=e=>{const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}},ME=(e,t)=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:e,clientY:t});document.elementFromPoint(e,t)?.dispatchEvent(n)},IE=e=>{const{x:t,y:n}=kE(e);ME(t,n)},AE=(e,t)=>{const n=document.body;new MutationObserver(((o,i)=>{for(const s of o)if("childList"===s.type&&n.querySelector(e)){i.disconnect(),t(n.querySelector(e));break}})).observe(n,{childList:!0,subtree:!0})},NE=()=>{const e=document.querySelectorAll("[data-message-id]");for(const t of e){const e=t.nextElementSibling;if(e&&"DIV"===e.tagName)return e}return null},OE=()=>{const e=document.querySelectorAll('span[role="link"]');let t;for(let n=0;n<e.length;n++){const o=e[n],i=o.previousElementSibling;if(i&&"SPAN"===i.tagName&&"link"===i.getAttribute("role")){const e=o.parentElement,n=e.querySelectorAll('span[role="link"]'),i=Array.from(e.children).filter((e=>e.matches("span")));2!==(2===n.length&&i.length)&&3!==(3===n.length&&i.length)||(t=o)}}return t};let RE,DE,PE,HE,UE,GE,zE,qE,WE,jE;const{scope:BE}=Fp(),{deepl_inline_ui:FE}=A;function VE({websiteData:e,platformBehaviour:t=Q.default,textProcessingMode:n=ee.translate}){try{let o;switch(YE(),DE=ev.createElement(),DE.platformBehaviour=t,DE.textProcessingMode=n,DE.style.zIndex=FE.z_index,document.documentElement.appendChild(DE),t){case Q.gdocs:o=nt;break;case Q.default:default:o=Hm}DE.createDOM(o,YE,e),Ju.update({isTranslationTooltipInjected:!0})}catch(e){jt()&&console.error(e),nr(e,BE)}}function YE(){try{DE&&(DE.cleanupDOM(),Array.from(document.getElementsByTagName(ev.HTML_TAG_NAME),(e=>e.remove())),Ju.update({isTranslationTooltipInjected:!1}),DE=void 0)}catch(e){jt()&&console.error(e),nr(e,BE)}}function ZE(e=Q.default){try{if(PE)return;let t;switch(PE=hf.createElement(),PE.style.zIndex=FE.z_index,document.documentElement.appendChild(PE),e){case Q.gdocs:t="deepl-gdocs-icon";break;case Q.default:default:t=uv.HTML_TAG_NAME}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=t;return{x:i-n.left,y:r-n.top,top:o,bottom:r,right:n.width-s,left:i+window.pageXOffset,width:l,height:a}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));PE.createDOM(n,KE),Ju.update({isInlineTranslateSettingsTooltipInjected:!0}),Vl((()=>{KE()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function KE(){try{if(!PE)return;PE.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),Ju.update({isInlineTranslateSettingsTooltipInjected:!1}),PE=void 0}catch(e){jt()&&console.error(e),nr(e,BE)}}function XE(){try{if(document.querySelector(Bw.HTML_TAG_NAME))return;RE=Bw.createElement(),document.documentElement.appendChild(RE),RE.createDOM(),document.addEventListener("click",JE),Vl((()=>{JE()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function JE(){try{RE&&(RE.cleanupDOM(),Array.from(document.getElementsByTagName(Bw.HTML_TAG_NAME),(e=>e.remove())),RE=void 0,document.removeEventListener("click",JE))}catch(e){jt()&&console.error(e),nr(e,BE)}}function QE(){try{if(document.querySelector(Tb.HTML_TAG_NAME))return;zE=Tb.createElement(),document.documentElement.appendChild(zE),zE.createDOM(),Vl((()=>{t$()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function e$(){try{if(document.querySelector(sy.HTML_TAG_NAME))return;qE=sy.createElement(),document.documentElement.appendChild(qE),qE.createDOM(),Vl((()=>{n$()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function t$(){try{zE&&(zE.cleanupDOM(),Array.from(document.getElementsByTagName(Tb.HTML_TAG_NAME),(e=>e.remove())),zE=void 0,document.removeEventListener("click",t$))}catch(e){jt()&&console.error(e),nr(e,BE)}}function n$(){try{qE&&(qE.cleanupDOM(),Array.from(document.getElementsByTagName(sy.HTML_TAG_NAME),(e=>e.remove())),qE=void 0,document.removeEventListener("click",n$))}catch(e){jt()&&console.error(e),nr(e,BE)}}function o$(){try{if(Zp())return;WE=Kp(),document.documentElement.appendChild(WE),WE.createDOM(),Vl((()=>{i$()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function i$(){try{WE&&(WE.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),WE=void 0,document.removeEventListener("click",i$))}catch(e){jt()&&console.error(e),nr(e,BE)}}function s$(){try{if(document.querySelector(_x.HTML_TAG_NAME))return;UE=_x.createElement(),document.body.appendChild(UE),UE.createDOM(),Vl((()=>{l$()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function r$(){try{if(yE())return;jE=wE.createElement(),document.documentElement.appendChild(jE),jE.createDOM(),Vl((()=>{a$()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function a$(){try{jE&&(jE.cleanupDOM(),Array.from(document.getElementsByTagName(wE.HTML_TAG_NAME),(e=>e.remove())),jE=void 0,document.removeEventListener("click",a$))}catch(e){jt()&&console.error(e),nr(e,BE)}}function l$(){try{if(UE){UE.cleanupDOM();const e=Array.from(document.querySelectorAll(_x.HTML_TAG_NAME));for(const t of e)t.remove();UE=void 0,document.removeEventListener("click",l$)}}catch(e){jt()&&console.error(e),nr(e,BE)}}async function c$(e){try{if(!HE)return;HE.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),HE=void 0;if(!(await kh(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(HE)){try{t({action:"dltrackCloseInlineHighlighter",payload:{trigger:J.outside_click}})}catch(e){console.error(e)}dl.set({isInlineHighlighterShown:!0})}}catch(e){jt()&&console.error(e),nr(e,BE)}}function d$(e,t){c$();try{HE=uv.createElement(),HE.style.zIndex=FE.z_index,document.documentElement.appendChild(HE),HE.createDOM(e,t),Vl((()=>{c$()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}function u$(e){const t=t=>{requestAnimationFrame((()=>{const n=window.getSelection();if(!n.toString().trim())return;if(2===t?.button)return;const o=n.getRangeAt(0)?.commonAncestorContainer;if((o.contains(t.target)||t.target.contains(o))&&!n.isCollapsed&&!n.anchorNode?.parentNode?.isContentEditable){let n={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:g$(t)};d$(e,n)}}))};document.addEventListener("mouseup",t),document.addEventListener("mousedown",c$),Vl((()=>{document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",c$)}))}function p$(e,t){try{GE=Av.createElement(),GE.style.zIndex=FE.z_index,document.documentElement.appendChild(GE),GE.createDOM(e,t),Vl((()=>{GE.cleanupDOM()}))}catch(e){jt()&&console.error(e),nr(e,BE)}}const m$=(e=X.initial)=>{const t=Ey.createElement();document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),Vl((()=>{t.cleanupDOM()}))};function g$({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}function h$(e){switch(e){case"web.whatsapp.com":Ag();break;case"twitter.com":case"tweetdeck.twitter.com":case"x.com":Jg();break;case"www.linkedin.com":_h()}}async function f$(e){const t=e.split(".");"deepl.com"===t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".")&&(document.body.dataset.dlBrowserExtensionPresent="true")}async function _$(e){const t=await kh(["shouldDisplayFeedbackPopup"]);if("https://deepl.typeform.com/to/MkMfP2Y6"===e)t.shouldDisplayFeedbackPopup&&(dl.set({shouldDisplayFeedbackPopup:!1}),m$(X.feedback))}function v$(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function w$(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}const b$=()=>{const e="https://chatgpt.com";return window.location.href.substring(0,19)===e},y$=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&y$.forEach((e=>e.resize.disconnect()))};const{scope:E$}=Fp();const $$=e=>"true"===e.contentEditable||"TEXTAREA"===e.nodeName&&(e.rows>1||b$());const x$=({inputArea:e})=>{const t=L$(e);return{position:"absolute",top:t.top,left:t.left,right:t.right,width:t.width,height:t.height,isLanguageToolsPresent:!!document.querySelector("lt-toolbar"),isGrammarlyPresent:!!document.querySelector("grammarly-extension"),isChatGPTPresent:b$()}},T$=({inputArea:e})=>{const t=[];if(e)for(let n=e.parentElement;null!==n;n=n.parentElement)S$(n)&&t.push(n);return t},S$=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)},C$=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},L$=e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=C$(n,e);if(i)n=i;else if(S$(t))return o}return n=C$(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o},k$=[{domain:"zendesk.com",selectors:['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],uniqueDataAttributes:[{key:"testId",value:"ticket-rich-text-editor"}]}];const M$={generalSettings:"GENERAL_SETTINGS",inputSettings:"INPUT_SETTINGS"};function I$(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-xa2hux")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function A$(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-xa2hux")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function N$(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-xa2hux")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function O$(e){let t;return{c(){t=ea("span"),la(t,"class","svelte-xa2hux")},m(e,n){Xr(e,t,n)},p:xr,d(e){e&&Jr(t)}}}function R$(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w;return o=new Jl({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[I$]},$$scope:{ctx:e}}}),r=new Jl({props:{tooltip:e[8],showProShield:We(e[2],ge.WRITE),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[A$]},$$scope:{ctx:e}}}),u=new Jl({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_select_target_lang"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[N$]},$$scope:{ctx:e}}}),g=new Jl({props:{showProShield:We(e[2],ge.TRANSLATOR),tooltip:e[6],parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[O$]},$$scope:{ctx:e}}}),{c(){t=ea("div"),n=ea("div"),ol(o.$$.fragment),i=oa(),s=ea("div"),ol(r.$$.fragment),a=oa(),l=ea("div"),c=oa(),d=ea("div"),ol(u.$$.fragment),p=oa(),m=ea("div"),ol(g.$$.fragment),h=oa(),f=ea("div"),la(n,"class","dl-icon-circle dl-on-off svelte-xa2hux"),la(s,"class","dl-icon-circle dl-improve svelte-xa2hux"),ma(s,"disabled",!e[7]),la(l,"class","spacer svelte-xa2hux"),la(d,"class","dl-icon-circle dl-settings svelte-xa2hux"),la(m,"class","dl-icon-circle dl-icon svelte-xa2hux"),la(m,"data-qa","input-translation-icon"),la(f,"class","dl-icon-circle dl-loading svelte-xa2hux"),la(t,"class","dl-input-icon svelte-xa2hux"),ma(t,"is-input-translation-disabled",e[9]),ma(t,"is-loading",e[5]),ma(t,"is-minimized",e[4])},m(b,y){Xr(b,t,y),Yr(t,n),il(o,n,null),Yr(t,i),Yr(t,s),il(r,s,null),Yr(t,a),Yr(t,l),Yr(t,c),Yr(t,d),il(u,d,null),Yr(t,p),Yr(t,m),il(g,m,null),e[36](m),Yr(t,h),Yr(t,f),_=!0,v||(w=[sa(n,"mousedown",aa(ra(e[28]))),sa(n,"mouseenter",e[29]),sa(n,"click",e[30]),sa(s,"mousedown",aa(ra(e[27]))),sa(s,"mouseenter",e[31]),sa(s,"click",e[32]),sa(d,"mousedown",aa(ra(e[26]))),sa(d,"mouseenter",e[33]),sa(d,"click",e[34]),sa(m,"mousedown",aa(ra(e[25]))),sa(m,"click",e[13]),sa(m,"mouseenter",e[35])],v=!0)},p(e,n){const i={};2&n[0]&&(i.parentIsRTL=e[1]),2048&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const a={};256&n[0]&&(a.tooltip=e[8]),4&n[0]&&(a.showProShield=We(e[2],ge.WRITE)),2&n[0]&&(a.parentIsRTL=e[1]),2048&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),(!_||128&n[0])&&ma(s,"disabled",!e[7]);const l={};2&n[0]&&(l.parentIsRTL=e[1]),2048&n[1]&&(l.$$scope={dirty:n,ctx:e}),u.$set(l);const c={};4&n[0]&&(c.showProShield=We(e[2],ge.TRANSLATOR)),64&n[0]&&(c.tooltip=e[6]),2&n[0]&&(c.parentIsRTL=e[1]),2048&n[1]&&(c.$$scope={dirty:n,ctx:e}),g.$set(c),(!_||512&n[0])&&ma(t,"is-input-translation-disabled",e[9]),(!_||32&n[0])&&ma(t,"is-loading",e[5]),(!_||16&n[0])&&ma(t,"is-minimized",e[4])},i(e){_||(Ka(o.$$.fragment,e),Ka(r.$$.fragment,e),Ka(u.$$.fragment,e),Ka(g.$$.fragment,e),_=!0)},o(e){Xa(o.$$.fragment,e),Xa(r.$$.fragment,e),Xa(u.$$.fragment,e),Xa(g.$$.fragment,e),_=!1},d(n){n&&Jr(t),sl(o),sl(r),sl(u),sl(g),e[36](null),v=!1,Lr(w)}}}function D$(e,o,i){let r,a;const l=La("deepl_settings");Ar(e,l,(e=>i(2,a=e)));let c,d,u,{inputArea:p}=o,{lockActiveElement:m}=o,{openSettings:h}=o,{closeSettings:f}=o,{hideOnboardingHighlighter:_}=o,{registerIconCallbacks:v}=o,{unregisterIconCallbacks:w}=o,{getActiveElement:b}=o,{setErrorMessage:y}=o,{isInputAreaRTL:E}=o,$=!1,x=!1,T="",S={},C=chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported");const L=()=>{k()},k=()=>{i(4,$=Im(p,c))};async function M(e){await l.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),A()}const I=async(e,n,o)=>{const s=b();switch(e.action){case"dlTriggerTranslationShortcut":if(y(void 0),s!==p)return;try{t({action:"dlTrackUseOfShortcut",payload:{shortcutType:D,location:R.inputTranslationTriggerIcon}})}catch(e){console.error(e)}if(a&&a.targetLanguageUserInput){i(5,x=!0);try{await ky(p)}catch(e){y(e)}i(5,x=!1)}else h({fromShortcut:!0});o();break;case"dlChangeLanguageShortcut":if(s!==p)return;i(5,x=!0);try{h({fromShortcut:!0})}catch(e){y(e)}i(5,x=!1),o()}};async function A(e){if(y(void 0),_(),a.targetLanguageUserInput&&"undefined"!=a.targetLanguageUserInput||e?.isWriteRequest){f(),i(5,x=!0);try{await ky(p,e),d||n(N.hintKeyboardShortcut)}catch(e){y(e)}i(5,x=!1)}else h()}function O(e){t({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host}})}async function P(){let e;e=Lm(p)?p.value:p.innerText,i(24,S=await bt(e,!0)),S.isReliable;try{e&&function(e){try{return e.replace(/[^\p{L}]/gu,"").length}catch(t){return e.replace(/[^a-zA-Z]/g,"").length}}(e)>0&&t({action:"dlTrackLanguageDetectionForTextProcessing",payload:{lang:S.langCode,isReliable:S.isReliable,trigger:g,textLength:e.length,domainName:window.location.hostname}})}catch(e){console.error(e)}}xa((()=>{chrome.runtime.onMessage.addListener(I),v({processRefreshCycle:L,languageChanged:M,triggerTranslation:A})})),Ta((()=>{chrome.runtime.onMessage.removeListener(I),w()}));return e.$$set=e=>{"inputArea"in e&&i(15,p=e.inputArea),"lockActiveElement"in e&&i(16,m=e.lockActiveElement),"openSettings"in e&&i(0,h=e.openSettings),"closeSettings"in e&&i(17,f=e.closeSettings),"hideOnboardingHighlighter"in e&&i(18,_=e.hideOnboardingHighlighter),"registerIconCallbacks"in e&&i(19,v=e.registerIconCallbacks),"unregisterIconCallbacks"in e&&i(20,w=e.unregisterIconCallbacks),"getActiveElement"in e&&i(21,b=e.getActiveElement),"setErrorMessage"in e&&i(22,y=e.setErrorMessage),"isInputAreaRTL"in e&&i(1,E=e.isInputAreaRTL)},e.$$.update=()=>{if(16777220&e.$$.dirty[0]&&(je(a,ge.WRITE)?i(8,C=chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin")):s.includes(S.langCode)?i(8,C=chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")):i(8,C=chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported")),i(7,u=!S.langCode||s.includes(S.langCode)&&!je(a,ge.WRITE))),4&e.$$.dirty[0])if(a.targetLanguageUserInput&&"undefined"!=a.targetLanguageUserInput){let e;t({action:"dlCheckCommandShortcuts"}).then((t=>{e=t?t.filter((e=>e.name==D))[0].shortcut:"",e?(e=`(${e})`,d=!0):d=!1,i(6,T=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else i(6,T=chrome.i18n.getMessage("input_translation_tooltip_translate_text"));4&e.$$.dirty[0]&&i(9,r=!a.enableInputTranslation||Om(window.location.host,window.location.href)||a.blacklistDomainsForWriting.includes(window.location.host)||a.isGmailEnabled&&Cm())},[h,E,a,c,$,x,T,u,C,r,l,A,O,()=>{m(),a.targetLanguageUserInput?A():h()},P,p,m,f,_,v,w,b,y,M,S,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},()=>O(R.inputTranslationSettingsIcon),()=>h({page:M$.inputSettings}),()=>{O(R.inputImproveTriggerIcon)},()=>{u&&A({isWriteRequest:!0})},()=>O(R.inputTranslationSettingsIcon),()=>h({page:M$.generalSettings}),()=>{P(),O(R.inputTranslationTriggerIcon)},function(e){Ia[e?"unshift":"push"]((()=>{c=e,i(3,c)}))}]}class P$ extends al{constructor(e){super(),rl(this,e,D$,R$,Mr,{inputArea:15,lockActiveElement:16,openSettings:0,closeSettings:17,hideOnboardingHighlighter:18,registerIconCallbacks:19,unregisterIconCallbacks:20,getActiveElement:21,setErrorMessage:22,isInputAreaRTL:1,onLanguageChanged:23},null,[-1,-1])}get onLanguageChanged(){return this.$$.ctx[23]}}function H$(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,b;return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=ea("div"),s=oa(),r=ea("div"),a=ea("div"),a.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,l=oa(),c=ea("div"),c.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,d=oa(),u=ea("div"),p=oa(),m=ea("button"),la(i,"class","logo svelte-1hmw0km"),la(a,"class","headline svelte-1hmw0km"),la(r,"class","text-wrapper svelte-1hmw0km"),la(o,"class","content svelte-1hmw0km"),la(u,"class","logo-picture svelte-1hmw0km"),la(m,"class","close-icon svelte-1hmw0km"),la(n,"class",g=Hr(`body body__${e[0]}`)+" svelte-1hmw0km"),la(t,"class",h="container container__"+e[0]+" svelte-1hmw0km")},m(g,h){Xr(g,t,h),Yr(t,n),Yr(n,o),Yr(o,i),Yr(o,s),Yr(o,r),Yr(r,a),Yr(r,l),Yr(r,c),Yr(n,d),Yr(n,u),Yr(n,p),Yr(n,m),e[12](t),v=!0,w||(b=sa(m,"click",e[11]),w=!0)},p(e,o){(!v||1&o&&g!==(g=Hr(`body body__${e[0]}`)+" svelte-1hmw0km"))&&la(n,"class",g),(!v||1&o&&h!==(h="container container__"+e[0]+" svelte-1hmw0km"))&&la(t,"class",h)},i(e){v||(Pa((()=>{v&&(_&&_.end(1),f=Qa(t,vl,{x:100,duration:1e3}),f.start())})),v=!0)},o(e){f&&f.invalidate(),_=el(t,vl,{x:100,duration:1e3}),v=!1},d(n){n&&Jr(t),e[12](null),n&&_&&_.end(),w=!1,b()}}}function U$(e){let t,n,o=e[1]&&H$(e);return{c(){o&&o.c(),t=ia()},m(e,i){o&&o.m(e,i),Xr(e,t,i),n=!0},p(e,[n]){e[1]?o?(o.p(e,n),2&n&&Ka(o,1)):(o=H$(e),o.c(),Ka(o,1),o.m(t.parentNode,t)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){o&&o.d(e),e&&Jr(t)}}}function G$(n,o,i){let s,r,{onClose:a}=o,{icon:l}=o,{position:c="top"}=o,{registerHighlighterCallbacks:d}=o,{unregisterHighlighterCallbacks:u}=o,p={top:0,bottom:0,left:0,right:0},m={height:0,width:0},g=140,h=387;const f=()=>{if(l){const e=l.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==p[n]&&(t[n]=e[n]);Object.keys(t).length&&i(7,p={...p,...t});let n={};window.innerHeight!==m.height&&(n.height=window.innerHeight),window.innerWidth!==m.width&&(n.width=window.innerWidth),Object.keys(n).length&&i(8,m={...m,...n})}else i(7,p={top:0,bottom:0,left:0,right:0})};function _(){a(J.close_icon)}xa((async()=>{d({recalculateHighlighterCoords:f});try{t({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}}),f()}catch(e){console.error(e)}r=Ql(s,(({clientHeight:e,clientWidth:t})=>{i(9,g=e),i(10,h=t)}))})),Ta((()=>{u(),r&&r()}));return n.$$set=e=>{"onClose"in e&&i(4,a=e.onClose),"icon"in e&&i(1,l=e.icon),"position"in e&&i(0,c=e.position),"registerHighlighterCallbacks"in e&&i(5,d=e.registerHighlighterCallbacks),"unregisterHighlighterCallbacks"in e&&i(6,u=e.unregisterHighlighterCallbacks)},n.$$.update=()=>{1920&n.$$.dirty&&i(0,c=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!l)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:p,viewportSize:m,highlighterHeight:g,highlighterWidth:h}))},[c,l,s,_,a,d,u,p,m,g,h,()=>_(),function(e){Ia[e?"unshift":"push"]((()=>{s=e,i(2,s)}))}]}class z$ extends al{constructor(e){super(),rl(this,e,G$,U$,Mr,{onClose:4,icon:1,position:0,registerHighlighterCallbacks:5,unregisterHighlighterCallbacks:6})}}function q$(e){let t,n,o,i,s;return i=new ap({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,fontSize:"sm"}}),i.$on("selection",e[5]),{c(){t=ea("p"),n=na(e[0]),o=oa(),ol(i.$$.fragment),la(t,"class","font-bold svelte-1bwyi2r")},m(e,r){Xr(e,t,r),Yr(t,n),Xr(e,o,r),il(i,e,r),s=!0},p(e,t){(!s||1&t)&&ca(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),i.$set(o)},i(e){s||(Ka(i.$$.fragment,e),s=!0)},o(e){Xa(i.$$.fragment,e),s=!1},d(e){e&&Jr(t),e&&Jr(o),sl(i,e)}}}function W$(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&q$(e);return{c(){t=ea("div"),o&&o.c()},m(e,i){Xr(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&Ka(o,1)):(o=q$(e),o.c(),Ka(o,1),o.m(t,null)):o&&(Ya(),Xa(o,1,1,(()=>{o=null})),Za())},i(e){n||(Ka(o),n=!0)},o(e){Xa(o),n=!1},d(e){e&&Jr(t),o&&o.d()}}}function j$(e,t,n){let o;const i=La("deepl_settings");Ar(e,i,(e=>n(2,o=e)));const s=Sa();let{subHeaderText:r=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:a}=t;function l(e){s("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,r=e.subHeaderText),"fromShortcut"in e&&n(1,a=e.fromShortcut)},[r,a,o,i,l,e=>l(e.detail.selectedOption)]}class B$ extends al{constructor(e){super(),rl(this,e,j$,W$,Mr,{subHeaderText:0,fromShortcut:1})}}function F$(e){let t,n,o,i,s,r,a,l;const c=e[3].default,d=Nr(c,e,e[2],null);return{c(){t=ea("div"),n=ea("div"),o=ea("button"),i=oa(),s=ea("div"),d&&d.c(),la(o,"type","button"),la(o,"class","close-icon svelte-2o08yb"),la(n,"class","header svelte-2o08yb"),la(s,"class","content"),la(t,"class","container svelte-2o08yb")},m(c,u){Xr(c,t,u),Yr(t,n),Yr(n,o),Yr(t,i),Yr(t,s),d&&d.m(s,null),e[5](t),r=!0,a||(l=sa(o,"click",e[4]),a=!0)},p(e,[t]){d&&d.p&&(!r||4&t)&&Dr(d,c,e,e[2],r?Rr(c,e[2],t,null):Pr(e[2]),null)},i(e){r||(Ka(d,e),r=!0)},o(e){Xa(d,e),r=!1},d(n){n&&Jr(t),d&&d.d(n),e[5](null),a=!1,l()}}}function V$(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=Sa();let r,a,l,c;xa((()=>{c=Ql(l,(e=>{e.offsetHeight=r,e.offsetWidth=a}))})),Ta((()=>{c&&c()}));return e.$$set=e=>{"$$scope"in e&&n(2,i=e.$$scope)},s("resize",{offsetHeight:r,offsetWidth:a}),[l,s,i,o,()=>s("close"),function(e){Ia[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class Y$ extends al{constructor(e){super(),rl(this,e,V$,F$,Mr,{})}}function Z$(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return s=new cf({props:{name:"disable_input_translation",id:z.disablePerSite,value:z.disablePerSite,cssClassName:"radio--with-border",checked:e[5]===z.disablePerSite,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),s.$on("change",e[12]),a=new cf({props:{name:"disable_input_translation",id:z.disableEverywhere,value:z.disableEverywhere,cssClassName:"radio--with-border",checked:e[5]===z.disableEverywhere,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),a.$on("change",e[12]),{c(){t=ea("div"),n=ea("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=oa(),i=ea("div"),ol(s.$$.fragment),r=oa(),ol(a.$$.fragment),l=oa(),c=ea("div"),d=ea("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=oa(),p=ea("button"),m=na(v),la(n,"class","font-bold svelte-1wf2y32"),la(i,"class","option-container svelte-1wf2y32"),la(d,"class","link svelte-1wf2y32"),la(p,"class",g=Hr("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1wf2y32"),la(p,"data-qa","input-translation_hide-icon_accept"),la(c,"class","action-container svelte-1wf2y32"),la(t,"class","dl-widget svelte-1wf2y32"),la(t,"data-qa","dl-input-translate-turnoff-settings")},m(g,v){Xr(g,t,v),Yr(t,n),Yr(t,o),Yr(t,i),il(s,i,null),Yr(i,r),il(a,i,null),Yr(t,l),Yr(t,c),Yr(c,d),Yr(c,u),Yr(c,p),Yr(p,m),h=!0,f||(_=[sa(d,"click",(function(){kr(e[1]===M$.inputSettings?e[8]:e[9])&&(e[1]===M$.inputSettings?e[8]:e[9]).apply(this,arguments)})),sa(p,"click",e[11])],f=!0)},p(t,n){e=t;const o={};32&n[0]&&(o.checked=e[5]===z.disablePerSite),s.$set(o);const i={};32&n[0]&&(i.checked=e[5]===z.disableEverywhere),a.$set(i),(!h||32&n[0]&&g!==(g=Hr("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1wf2y32"))&&la(p,"class",g)},i(e){h||(Ka(s.$$.fragment,e),Ka(a.$$.fragment,e),h=!0)},o(e){Xa(s.$$.fragment,e),Xa(a.$$.fragment,e),h=!1},d(e){e&&Jr(t),sl(s),sl(a),f=!1,Lr(_)}}}function K$(e){let t,n,o,i,s;n=new B$({props:{fromShortcut:e[2]}}),n.$on("languageChanged",e[22]);let r=e[6]&&e[6].targetLanguageUserInput&&X$(e);return{c(){t=ea("div"),ol(n.$$.fragment),o=oa(),r&&r.c(),i=ia(),la(t,"class","dl-widget svelte-1wf2y32")},m(e,a){Xr(e,t,a),il(n,t,null),Xr(e,o,a),r&&r.m(e,a),Xr(e,i,a),s=!0},p(e,t){const o={};4&t[0]&&(o.fromShortcut=e[2]),n.$set(o),e[6]&&e[6].targetLanguageUserInput?r?r.p(e,t):(r=X$(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(e){s||(Ka(n.$$.fragment,e),s=!0)},o(e){Xa(n.$$.fragment,e),s=!1},d(e){e&&Jr(t),sl(n),e&&Jr(o),r&&r.d(e),e&&Jr(i)}}}function X$(e){let t,n,o,i,s,r,a,l;return{c(){t=ea("div"),n=ea("div"),o=ea("div"),i=ea("span"),i.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,s=oa(),r=ea("span"),la(r,"class","icon icon-external-link svelte-1wf2y32"),la(o,"class","link link-settings svelte-1wf2y32"),la(o,"data-qa","dl-input-translate-open-settings-page"),la(n,"class","action-container svelte-1wf2y32"),la(t,"class","dl-widget svelte-1wf2y32")},m(c,d){Xr(c,t,d),Yr(t,n),Yr(n,o),Yr(o,i),Yr(o,s),Yr(o,r),a||(l=sa(o,"click",e[10]),a=!0)},p:xr,d(e){e&&Jr(t),a=!1,l()}}}function J$(e){let t,n,o,i;const s=[K$,Z$],r=[];function a(e,t){return e[3]===M$.generalSettings?0:e[3]===M$.inputSettings?1:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=ia()},m(e,n){~t&&r[t].m(e,n),Xr(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){~t&&r[t].d(e),e&&Jr(o)}}}function Q$(e){let t,n,o,i;return n=new Y$({props:{$$slots:{default:[J$]},$$scope:{ctx:e}}}),n.$on("close",e[23]),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class",o="settings-container settings-container__"+e[0]+" svelte-1wf2y32")},m(o,s){Xr(o,t,s),il(n,t,null),e[24](t),i=!0},p(e,s){const r={};110&s[0]|1&s[1]&&(r.$$scope={dirty:s,ctx:e}),n.$set(r),(!i||1&s[0]&&o!==(o="settings-container settings-container__"+e[0]+" svelte-1wf2y32"))&&la(t,"class",o)},i(e){i||(Ka(n.$$.fragment,e),i=!0)},o(e){Xa(n.$$.fragment,e),i=!1},d(o){o&&Jr(t),sl(n),e[24](null)}}}function ex(e,n,o){let i;const s=Sa();let r=M$.generalSettings;const a=La("deepl_settings");Ar(e,a,(e=>o(6,i=e)));let l,c,{startPage:d}=n,{fromShortcut:u=!1}=n,{icon:p}=n,{position:m="top"}=n,{registerSettingsCallbacks:g}=n,{unregisterSettingsCallbacks:h}=n,{closeSettings:f}=n,_={top:0,bottom:0,left:0,right:0},v={height:0,width:0},w=140,b=387,y="";const E=()=>{if(p){const e=p.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==_[n]&&(t[n]=e[n]);Object.keys(t).length&&o(18,_={..._,...t});let n={};window.innerHeight!==v.height&&(n.height=window.innerHeight),window.innerWidth!==v.width&&(n.width=window.innerWidth),Object.keys(n).length&&o(19,v={...v,...n})}else o(18,_={top:0,bottom:0,left:0,right:0})};return xa((()=>{E(),g({recalculateSettingsCoords:E}),c=Ql(l,(({clientHeight:e,clientWidth:t})=>{o(20,w=e),o(21,b=t)}))})),Ta((()=>{h(),c&&c()})),e.$$set=e=>{"startPage"in e&&o(1,d=e.startPage),"fromShortcut"in e&&o(2,u=e.fromShortcut),"icon"in e&&o(13,p=e.icon),"position"in e&&o(0,m=e.position),"registerSettingsCallbacks"in e&&o(14,g=e.registerSettingsCallbacks),"unregisterSettingsCallbacks"in e&&o(15,h=e.unregisterSettingsCallbacks),"closeSettings"in e&&o(16,f=e.closeSettings)},e.$$.update=()=>{3932160&e.$$.dirty[0]&&o(0,m=(({iconCoordinates:e,viewportSize:t,popupHeight:n,popupWidth:o})=>{if(!p)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:_,viewportSize:v,popupHeight:w,popupWidth:b})),2&e.$$.dirty[0]&&d&&o(3,r=d)},[m,d,u,r,l,y,i,a,function(){s("close")},function(){var e;o(5,y=""),e=M$.generalSettings,o(3,r=e)},function(){t({action:"dlOpenInternalPage",payload:{destination:tg.settings_writing}})},function(){if(!y)return;switch(y){case z.disableEverywhere:a.set({enableInputTranslation:!1}),t({action:"dlTrackSettingChanged",payload:{settingType:z.disableEverywhere,domainName:window.location.hostname,uiFunction:q,uiLocation:R.inputTranslationSettingPopup}}),f();break;case z.disablePerSite:!function(){let e=i.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),a.set({blacklistDomainsForWriting:e}),t({action:"dlTrackSettingChanged",payload:{settingType:z.disablePerSite,domainName:window.location.hostname,uiFunction:q,uiLocation:R.inputTranslationSettingPopup}}));f()}()}let e=Dm(window.location.hostname,["www."]);t({action:"dlSendNotification",payload:{type:N.inputTranslation,options:{theme:O.green_theme,currentDomain:e,saveAction:y,settingsPageURL:tg.settings_writing}}})},function(e){o(5,y=e.currentTarget.value)},p,g,h,f,E,_,v,w,b,function(t){ka.call(this,e,t)},function(t){ka.call(this,e,t)},function(e){Ia[e?"unshift":"push"]((()=>{l=e,o(4,l)}))}]}class tx extends al{constructor(e){super(),rl(this,e,ex,Q$,Mr,{startPage:1,fromShortcut:2,icon:13,position:0,registerSettingsCallbacks:14,unregisterSettingsCallbacks:15,closeSettings:16,recalculateSettingsCoords:17},null,[-1,-1])}get recalculateSettingsCoords(){return this.$$.ctx[17]}}function nx(e){let t,n,o,i,s,r;return n=new ru({props:{error:e[1],config:{small:!0},close:e[2]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class",o="error-container error-container__"+e[0]+" svelte-ywjvlv")},m(o,a){Xr(o,t,a),il(n,t,null),e[12](t),i=!0,s||(r=[Gr(Fl.call(null,t,{isShadow:!0})),sa(t,"click_outside",e[13])],s=!0)},p(e,[s]){const r={};2&s&&(r.error=e[1]),4&s&&(r.close=e[2]),n.$set(r),(!i||1&s&&o!==(o="error-container error-container__"+e[0]+" svelte-ywjvlv"))&&la(t,"class",o)},i(e){i||(Ka(n.$$.fragment,e),i=!0)},o(e){Xa(n.$$.fragment,e),i=!1},d(o){o&&Jr(t),sl(n),e[12](null),s=!1,Lr(r)}}}function ox(e,t,n){let o,i,{errorMessage:s}=t,{icon:r}=t,{position:a="top"}=t,{registerErrorCallbacks:l}=t,{unregisterErrorCallbacks:c}=t,{close:d}=t,u=140,p=387,m={top:0,bottom:0,left:0,right:0},g={height:0,width:0};const h=()=>{if(r){const e=r.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==m[n]&&(t[n]=e[n]);Object.keys(t).length&&n(10,m={...m,...t});let o={};window.innerHeight!==g.height&&(o.height=window.innerHeight),window.innerWidth!==g.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(11,g={...g,...o})}else n(10,m={top:0,bottom:0,left:0,right:0})};xa((()=>{h(),l({recalculateErrorCoords:h}),i=Ql(o,(({clientHeight:e,clientWidth:t})=>{n(8,u=e),n(9,p=t)}))})),Ta((()=>{c(),i&&i()}));return e.$$set=e=>{"errorMessage"in e&&n(1,s=e.errorMessage),"icon"in e&&n(4,r=e.icon),"position"in e&&n(0,a=e.position),"registerErrorCallbacks"in e&&n(5,l=e.registerErrorCallbacks),"unregisterErrorCallbacks"in e&&n(6,c=e.unregisterErrorCallbacks),"close"in e&&n(2,d=e.close)},e.$$.update=()=>{3840&e.$$.dirty&&n(0,a=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!r)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:m,viewportSize:g,popupHeight:u,popupWidth:p}))},[a,s,d,o,r,l,c,h,u,p,m,g,function(e){Ia[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},()=>d()]}class ix extends al{constructor(e){super(),rl(this,e,ox,nx,Mr,{errorMessage:1,icon:4,position:0,registerErrorCallbacks:5,unregisterErrorCallbacks:6,close:2,recalculateErrorCoords:7})}get recalculateErrorCoords(){return this.$$.ctx[7]}}function sx(e){let t,n,o;return{c(){t=ea("div")},m(i,s){Xr(i,t,s),n||(o=[sa(t,"click_outside",e[16]),Gr(Fl.call(null,t,{isShadow:!0}))],n=!0)},p:xr,i:xr,o:xr,d(e){e&&Jr(t),n=!1,Lr(o)}}}function rx(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;o=new P$({props:{inputArea:e[1],lockActiveElement:e[17],openSettings:e[20],closeSettings:e[21],hideOnboardingHighlighter:e[18],registerIconCallbacks:e[22],unregisterIconCallbacks:e[23],getActiveElement:e[19],isInputAreaRTL:e[9],setErrorMessage:e[34]}});let g=e[3]&&ax(e),h=e[4]&&lx(e),f=e[7]&&cx(e);return{c(){t=ea("div"),n=ea("div"),ol(o.$$.fragment),i=oa(),g&&g.c(),s=oa(),h&&h.c(),r=oa(),f&&f.c(),la(n,"class","dl-input-placeholder svelte-d7i1bp"),ma(n,"disabled",e[12]),ma(n,"reduced-space",!e[13]),ma(n,"other-extension-present",e[11]),ma(n,"chat-gpt-present",e[0].isChatGPTPresent),la(t,"class","dl-input-positioner svelte-d7i1bp"),la(t,"dir",c=e[9]?"rtl":"ltr"),la(t,"style",d=[`top: ${e[0].top}px;`,`left: ${e[0].left}px;`,`height: ${e[0].height}px;`,`width: ${e[0].width}px;`,`position: ${e[0].position};`].join(" ")),ma(t,"debug-mode",ux)},m(a,l){Xr(a,t,l),Yr(t,n),il(o,n,null),Yr(n,i),g&&g.m(n,null),Yr(n,s),h&&h.m(n,null),Yr(n,r),f&&f.m(n,null),e[38](n),u=!0,p||(m=[Gr(Fl.call(null,n,{isShadow:!0})),sa(n,"click_outside",e[37]),sa(n,"click",e[17])],p=!0)},p(e,i){const a={};2&i[0]&&(a.inputArea=e[1]),512&i[0]&&(a.isInputAreaRTL=e[9]),128&i[0]&&(a.setErrorMessage=e[34]),o.$set(a),e[3]?g?(g.p(e,i),8&i[0]&&Ka(g,1)):(g=ax(e),g.c(),Ka(g,1),g.m(n,s)):g&&(Ya(),Xa(g,1,1,(()=>{g=null})),Za()),e[4]?h?(h.p(e,i),16&i[0]&&Ka(h,1)):(h=lx(e),h.c(),Ka(h,1),h.m(n,r)):h&&(Ya(),Xa(h,1,1,(()=>{h=null})),Za()),e[7]?f?(f.p(e,i),128&i[0]&&Ka(f,1)):(f=cx(e),f.c(),Ka(f,1),f.m(n,null)):f&&(Ya(),Xa(f,1,1,(()=>{f=null})),Za()),(!u||4096&i[0])&&ma(n,"disabled",e[12]),(!u||8192&i[0])&&ma(n,"reduced-space",!e[13]),(!u||2048&i[0])&&ma(n,"other-extension-present",e[11]),(!u||1&i[0])&&ma(n,"chat-gpt-present",e[0].isChatGPTPresent),(!u||512&i[0]&&c!==(c=e[9]?"rtl":"ltr"))&&la(t,"dir",c),(!u||1&i[0]&&d!==(d=[`top: ${e[0].top}px;`,`left: ${e[0].left}px;`,`height: ${e[0].height}px;`,`width: ${e[0].width}px;`,`position: ${e[0].position};`].join(" ")))&&la(t,"style",d)},i(e){u||(Ka(o.$$.fragment,e),Ka(g),Ka(h),Ka(f),Pa((()=>{u&&(l&&l.end(1),a=Qa(n,_l,{duration:100}),a.start())})),u=!0)},o(e){Xa(o.$$.fragment,e),Xa(g),Xa(h),Xa(f),a&&a.invalidate(),l=el(n,_l,{duration:150}),u=!1},d(n){n&&Jr(t),sl(o),g&&g.d(),h&&h.d(),f&&f.d(),e[38](null),n&&l&&l.end(),p=!1,Lr(m)}}}function ax(e){let t,n,o;return n=new z$({props:{onClose:e[18],position:"top",registerHighlighterCallbacks:e[28],unregisterHighlighterCallbacks:e[29],icon:e[2]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","dl-onboarding-highlighter svelte-d7i1bp")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p(e,t){const o={};4&t[0]&&(o.icon=e[2]),n.$set(o)},i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function lx(e){let t,n;return t=new tx({props:{icon:e[2],startPage:e[5],fromShortcut:e[6],position:"top",registerSettingsCallbacks:e[24],unregisterSettingsCallbacks:e[25],closeSettings:e[21]}}),t.$on("languageChanged",e[35]),t.$on("close",e[21]),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.icon=e[2]),32&n[0]&&(o.startPage=e[5]),64&n[0]&&(o.fromShortcut=e[6]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function cx(e){let t,n;return t=new ix({props:{errorMessage:e[7],icon:e[2],position:"top",registerErrorCallbacks:e[26],unregisterErrorCallbacks:e[27],close:e[36]}}),{c(){ol(t.$$.fragment)},m(e,o){il(t,e,o),n=!0},p(e,n){const o={};128&n[0]&&(o.errorMessage=e[7]),4&n[0]&&(o.icon=e[2]),128&n[0]&&(o.close=e[36]),t.$set(o)},i(e){n||(Ka(t.$$.fragment,e),n=!0)},o(e){Xa(t.$$.fragment,e),n=!1},d(e){sl(t,e)}}}function dx(e){let t,n,o,i;const s=[rx,sx],r=[];function a(e,t){return e[10]&&e[0]&&e[14]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=ia()},m(e,n){r[t].m(e,n),Xr(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?r[t].p(e,i):(Ya(),Xa(r[l],1,1,(()=>{r[l]=null})),Za(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),Ka(n,1),n.m(o.parentNode,o))},i(e){i||(Ka(n),i=!0)},o(e){Xa(n),i=!1},d(e){r[t].d(e),e&&Jr(o)}}}const ux=!1;function px(n,o,i){let s,r,a,l,c;const d=La("deepl_settings");Ar(n,d,(e=>i(33,c=e)));const u=20,p=40;let m,g,h,f,_,v,w,b,y,E,$=!1,x=!1,T=!1,S=!1,C=!1,{trackInputInjectionIfNecessary:L}=o,{registerPositionerCallbacks:k}=o,{unregisterPositionerCallbacks:M}=o,I=!1,A=[],N={top:0,left:0,height:0,width:0,position:"absolute",isLanguageToolsPresent:!1,isGrammarlyPresent:!1,isChatGPTPresent:b$()},O=!1;const D=()=>{i(1,m=document.activeElement);const e=function(e){const t=k$.find((({domain:t})=>{const n=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");return new RegExp(n).test(e)}));return t||null}(window.location.href);if(e?.uniqueDataAttributes&&e.uniqueDataAttributes.length>0)for(let t of e.uniqueDataAttributes)if(m.dataset[t.key]===t.value)return;if(e?.selectors&&e.selectors.length>0)for(let t of e.selectors){const e=document.querySelector(t),n=Xm(e),o=Xm(m),i=n.toString()===o.toString();if(e===m||e.isSameNode(m)||i)return}A=T$({inputArea:m}),V(),L(),U()},P=()=>{G(),i(7,f=void 0),Y(),A=[],i(1,m=void 0)},H=()=>{$=!1},U=()=>{if(!c.isInputHighlighterShown&&!Cm()){Ur(d,c.isInputHighlighterShown=!0,c),i(3,x=!0);try{t({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}},G=(e=J.outside_click)=>{i(3,x=!1);try{t({action:"dltrackCloseInputHighlighter",payload:{event:e}})}catch(e){console.error(e)}},z=()=>{j(),O&&(i(9,I=St(m)),B(),E&&E(),x&&v&&v(),T&&w&&w(),b&&b())},W=(e=document.activeElement)=>{const t=e.contentDocument;return t&&t.activeElement?W(t.activeElement):e},j=()=>{const e=W(),t=!$&&e!==m,n=e&&$$(e),o=m&&!m.isConnected;!t||n||C?(C=!1,t?(P(),n&&D()):o&&P()):C=!0},B=()=>{i(0,N=x$({inputArea:m}))},F=()=>{B()},V=()=>{i(10,O=!0),B();for(const e of A)e.addEventListener("scroll",F);window.addEventListener("scroll",F)},Y=()=>{i(10,O=!1);for(const e of A)e.removeEventListener("scroll",F);window.removeEventListener("scroll",F),X()},Z=()=>{_&&_()},K=({page:e,fromShortcut:n=!1}={})=>{i(5,h=e),i(6,S=n),T||(i(4,T=!0),t({action:"dlTrackInlineSettingOpened",payload:{uiFunction:q,uiLocation:R.inputTranslationTriggerIcon}}))},X=()=>{T&&i(4,T=!1)};xa((()=>{A=T$({inputArea:m}),k({processRefreshCycle:z,triggerTranslation:Z,openSettings:K})})),Ta((()=>{for(const e of A)e.removeEventListener("scroll",F);M()}));return n.$$set=e=>{"trackInputInjectionIfNecessary"in e&&i(30,L=e.trackInputInjectionIfNecessary),"registerPositionerCallbacks"in e&&i(31,k=e.registerPositionerCallbacks),"unregisterPositionerCallbacks"in e&&i(32,M=e.unregisterPositionerCallbacks)},n.$$.update=()=>{1&n.$$.dirty[0]&&i(14,s=N.height>=u),1&n.$$.dirty[0]&&i(13,r=N.height>=p),4&n.$$.dirty[1]&&i(12,a=!c.enableInputTranslation||Om(window.location.host,window.location.href)||c.blacklistDomainsForWriting.includes(window.location.host)||c.isGmailEnabled&&Cm()),1&n.$$.dirty[0]&&i(11,l=N.isLanguageToolsPresent||N.isGrammarlyPresent)},[N,m,g,x,T,h,S,f,y,I,O,l,a,r,s,d,H,()=>{$=!0},G,W,K,X,({processRefreshCycle:e,languageChanged:t,triggerTranslation:n})=>{E=e,i(8,y=t),_=n},()=>{E=void 0,i(8,y=void 0),_=void 0},({recalculateSettingsCoords:e})=>{w=e},()=>{w=void 0},({recalculateErrorCoords:e})=>{b=e},()=>{b=void 0},({recalculateHighlighterCoords:e})=>{v=e},()=>{v=void 0},L,k,M,c,e=>{i(7,f=e)},e=>y&&y(e.detail.lang),()=>{i(7,f=void 0)},()=>{H(),X()},function(e){Ia[e?"unshift":"push"]((()=>{g=e,i(2,g)}))}]}class mx extends al{constructor(e){super(),rl(this,e,px,dx,Mr,{trackInputInjectionIfNecessary:30,registerPositionerCallbacks:31,unregisterPositionerCallbacks:32},null,[-1,-1])}}function gx(e){let t,n,o;return n=new mx({props:{trackInputInjectionIfNecessary:e[0],registerPositionerCallbacks:e[1],unregisterPositionerCallbacks:e[2]}}),{c(){t=ea("div"),ol(n.$$.fragment),la(t,"class","dl-input-translation-container svelte-95aucy")},m(e,i){Xr(e,t,i),il(n,t,null),o=!0},p:xr,i(e){o||(Ka(n.$$.fragment,e),o=!0)},o(e){Xa(n.$$.fragment,e),o=!1},d(e){e&&Jr(t),sl(n)}}}function hx(e,n,o){let i,s,r,a;Ca("deepl_settings",dl),Ca("deepl_website_settings",Ju),Ca("text_direction",Tt());let l=!0,c=!1;const d=()=>{i&&i()},u=async e=>{if("dlChangeActiveTabStatus"===e.action)o(5,l=e.payload.isActive)},p=()=>{a&&clearInterval(a),a=setInterval(d,300)},m=()=>{clearInterval(a)};return xa((()=>{p(),chrome.runtime.onMessage.addListener(u)})),Ta((()=>{a&&m(),chrome.runtime.onMessage.removeListener(u)})),e.$$.update=()=>{32&e.$$.dirty&&(l?p():m())},[()=>{c||(c=!0,t({action:"dlTrackInputTranslationInjection",payload:window.location.host}))},({processRefreshCycle:e,triggerTranslation:t,openSettings:n})=>{i=e,s=t,r=n},()=>{i=void 0,s=void 0,r=void 0},()=>{s&&s()},()=>{r&&r({fromShortcut:!1})},l]}class fx extends al{constructor(e){super(),rl(this,e,hx,gx,Mr,{triggerTranslation:3,openSettingsFromShortcut:4})}get triggerTranslation(){return this.$$.ctx[3]}get openSettingsFromShortcut(){return this.$$.ctx[4]}}class _x{static HTML_TAG_NAME="deepl-input-controller";static createElement=(e=document)=>{const t=e.createElement(_x.HTML_TAG_NAME),n=new _x(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerTranslation=n.triggerTranslation,t.openSettingsFromShortcut=n.openSettingsFromShortcut,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.shadowContainer.dir="ltr",this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new fx({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this.domElement}})};triggerTranslation=()=>{this.domElement.mainComponent.triggerTranslation()};openSettingsFromShortcut=()=>{this.domElement.mainComponent.openSettingsFromShortcut()};cleanupDOM(){this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}let vx,wx,bx,yx,Ex,$x,xx,Tx=0,Sx=[];const Cx=Ju.subscribe((e=>{vx=e.translationState,e.translatedDOM&&(Sx=e.translatedDOM.map((e=>e))),e.translationState!==Ex&&(Ex=e.translationState,vx===l.showOriginal&&kx())})),Lx=dl.subscribe((e=>{if(0!==Object.keys(e).length){if($x=e.isLoggedIn,xx=e.translatorServiceType,yx&&yx!==e.selectedTargetLanguage){const e=vx!==l.none;e&&kx(),Ju.update({translatedDOM:[]}),Sx=[],e&&Ju.update({translationState:l.none})}yx=e.selectedTargetLanguage}}));function kx(){Sx.forEach((e=>{Px(e.original,e.clone),Rx(e.original,e.clone),Mx(e.original,!1)})),bx&&(bx.disconnect(),bx=void 0),wx&&(document.removeEventListener("scroll",wx),wx=void 0),vx=l.none}function Mx(e,t){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(var n=0;n<e.childNodes.length;++n)Mx(e.childNodes[n],t)}}function Ix(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=Tx++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(var t=0;t<e.childNodes.length;++t)Ix(e.childNodes[t])}}function Ax(e){if(void 0!==e.attributes){var t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(var n=0;n<e.childNodes.length;++n)Ax(e.childNodes[n])}function Nx(e,t){Ix(t);var n=t.cloneNode(!0);Ax(n),e.push({original:t,clone:n}),Mx(t,!0)}function Ox(e,t){if(void 0===t.dataset)return null;if(e.dataset&&e.dataset.dlUid&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(var n=0;n<e.childNodes.length;++n){var o=Ox(e.childNodes[n],t);if(null!==o)return o}return null}function Rx(e,t){for(var n=[];e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(var o=0;o<n.length;++o)t.appendChild(n[o])}function Dx(e,t){if(null!==e.parentNode&&null!==t.parentNode){var n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),Rx(e,t)}}function Px(e,t){for(var n=0;n<t.childNodes.length;++n){var o,i=t.childNodes[n],s=Ox(e,i);if(s)Dx(o=s.dataset&&"true"===s.dataset.dlOriginal?s:s.cloneNode(!1),i),Px(e,o);else Px(e,i)}}function Hx(t,n=!0){if("#text"==t.nodeName||"#comment"==t.nodeName)return!1;if(!w$(t,e.websiteData.hostname))return!1;if(t.isContentEditable&&n)return!1;if(function(e){switch(e.tagName.toLowerCase()){case"input":return"submit"!==e.getAttribute("type");case"textarea":return!0;default:return!1}}(t))return!1;if(Km(t))return!1;for(var o=0;o<t.childNodes.length;++o){if("#text"==(i=t.childNodes[o]).nodeName&&""!=i.wholeText.trim()||"font"==i.nodeName)return!0}for(o=0;o<t.childNodes.length;++o){var i;if("#text"!=(i=t.childNodes[o]).nodeName&&"#comment"!=i.nodeName&&(!Zm(i)||Km(i)||"inline"!=window.getComputedStyle(i).display||zm(t)))return!1}return void 0!==t.innerText&&""!=t.innerText.trim()}function Ux(e){if(void 0!==e.dataset&&(void 0===e.dataset.dlTranslated||"false"===e.dataset.dlTranslated))return!1;for(var t=0;t<e.childNodes.length;++t){var n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName&&!Ux(n))return!1}return!0}function Gx(e,t){if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!function(e){if("no"==e.getAttribute("translate"))return!0;var t=e.className;return!(null==t||null==t.split||!t.split(" ").includes("notranslate"))}(t))if(Hx(t))(function(e,t){var n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-i*t||n.right<0-o*t)return!1;if(n.top>i*(1+t))return!1;if(n.left>o*(1+t))return!1;var s=window.getComputedStyle(e).position;return"absolute"===s||"fixed"===s||null!==e.offsetParent})(t,.3)&&!Ux(t)&&Nx(e,t);else for(var n=0;n<t.childNodes.length;++n)Gx(e,t.childNodes[n])}async function zx(e,n){if(!We({isLoggedIn:$x,translatorServiceType:xx},ge.TRANSLATOR))return;const o=[];try{if(Gx(o,document.documentElement),0===o.length)return;Ju.update({translationState:l.ongoingTranslation}),await async function(e,n,o,i,s,r){if(e.length>0)return t({action:"dlRequestHtmlTranslation",payload:{sourceLang:n,trigger:i,texts:e.map((e=>e.clone.innerHTML.replace(/<!--(.|\s)*?-->/g,""))),isFirstTime:s,domainName:r}}).then((t=>{for(var n=0;n<e.length;++n)e[n].clone.innerHTML=t[n],Px(e[n].original,e[n].clone),Rx(e[n].original,e[n].clone),Mx(e[n].original,!0)}))}(o,e.sourceLang,e.noTranslationLanguages,e.trigger,n,window.location.hostname)}catch(e){console.error("error",e);for(var i=0;i<o.length;++i)Mx(o[i].original,!1);return Ju.update({translationState:l.none,error:e.name?e.name:e}),bx&&bx.disconnect,void(wx&&document.removeEventListener("scroll",wx))}Ju.update({translationState:l.isTranslationComplete}),o.length>0&&Ju.update({translatedDOM:[...Sx,...o]})}async function qx(e){bx&&(bx.disconnect(),bx=void 0),wx&&(document.removeEventListener("scroll",wx),wx=void 0);let t,n,o=!1;Sx.length>0?(Ju.update({translationState:l.ongoingTranslation}),kx(),Sx.forEach((e=>{Rx(e.original,e.clone),Rx(e.original,e.clone),Mx(e.original,!0)})),Ju.update({translationState:l.isTranslationComplete})):o=!0,await zx(e,o),wx=async()=>{n=!0,window.clearTimeout(t),t=setTimeout((function(){vx===l.isTranslationComplete&&window.requestAnimationFrame((async()=>{await zx(e,!1),n=!1}))}),100)},document.addEventListener("scroll",wx),bx=new MutationObserver((t=>{if(n)return;if(vx!==l.isTranslationComplete)return;t.filter((e=>e.addedNodes&&e.addedNodes.length>0)).length>0&&window.requestAnimationFrame((async()=>{await zx(e,!1)}))})),bx.observe(document.body,{childList:!0,subtree:!0}),Vl((()=>{Cx(),Lx(),bx&&bx.disconnect(),wx&&document.removeEventListener("scroll",wx)}))}const Wx="translate",jx="write",Bx=n=>{if(n.targetLang&&window.getSelection()&&window.getSelection().toString()){var o=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||VE({websiteData:Ju}),Ju.update({translationState:l.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),t({action:"dlRequestInlineTranslation",payload:{requests:[{text:o}],domainName:window.location.hostname,trigger:u,sourceLang:"auto",websiteLanguage:e.websiteData.websiteLanguage}}).then((e=>{Ju.update({translationState:l.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:o,websiteLanguage:e[0].detected_source_language})})).catch((e=>{Ju.update({translationState:l.none,originalSnippet:o,error:e.message?e.message:e})}))}},Fx=async e=>{const n=await t({action:"dlGetAppSettings"});let o=window.getSelection().anchorNode;"#text"===o.nodeName.toLowerCase()&&(o=o.parentNode);const i="textarea"===o.nodeName.toLowerCase(),s=o.closest('[contenteditable="true"]'),r=o.closest("textarea"),a=o.querySelector("textarea"),l=a&&a.selectionStart!==a.selectionEnd,u=i&&o||s||r||l&&a;u?((e,t,n)=>{const o=document.querySelector(_x.HTML_TAG_NAME);o&&(t?o.openSettingsFromShortcut():n?o.triggerTranslation():o.openSettingsFromShortcut())})(0,e,n.targetLanguageUserInput):Bx({targetLang:n.selectedTargetLanguage}),t({action:"dlTrackRightClick",payload:{translationType:u?d:c,domainName:window.location.host}})},Vx=async(e,n)=>{YE();const o=await t({action:"dlGetAppSettings"});var i;qx({sourceLang:e,trigger:n,isFirstTime:!0,noTranslationLanguages:(i=o.languagesForTranslation,Object.keys(i).filter((e=>{i[e]})))}).catch((e=>{Ju.update({translationState:l.none,error:e.message?e.message:e})}))},Yx=async(e,t)=>{let n=5e3;if(t===ge.WRITE&&(n=2e3),e.length<=n)return!1;const o=await sT();return!We(o,t)},Zx=async(e,t)=>{const n=e.length,o=await sT(),i=We(o,ge.TRANSLATOR),s=We(o,ge.WRITE);if(t===ee.write){const e=o.isLoggedIn?w:v;if(i&&!s&&n>e)throw new $r(e,"Char limit exceeded (Translator Pro, Write Free)");if(!s&&n>e)throw new Er(e,"Char limit exceeded (Write Free Or Anonymous)")}if(!o.isLoggedIn&&n>f)throw new yr(f,"Limit exceeded (anonymous user). Please upgrade");if(o.isLoggedIn&&!We(o,ge.TRANSLATOR)&&n>_)throw new br(_,"Limit exceeded (free account). Please upgrade")},Kx=async e=>{const{event:n,targetLang:o}=e,i=document.querySelector("deepl-gdocs-icon");if(o&&i){const{originalText:e,textLines:s,entities:r,contentReference:a,originalObject:c}=st(n);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||VE({websiteData:Ju,platformBehaviour:Q.gdocs}),await Yx(e,ge.TRANSLATOR))return void Ju.update({translationState:l.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:e});Ju.update({translationState:l.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const n=await t({action:"dlRequestGDocsSplitText",payload:{mode:Wx,texts:s}}),d=n.result.lang.detected,u=[],p=[];for(const e of n.result.texts){const t=[];for(const n of e.chunks)for(const e of n.sentences)p.push(e),t.push(p.length-1);u.push(t)}const m=(await t({action:"dlRequestGDocsProcessContent",payload:{mode:Wx,sentences:p,sourceLang:d,targetLang:o.substring(0,2),domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:p[t].prefix,text:e.beams[0].sentences[0].text})));i.setContentProcessBuildingBlocks({detectedSourceLanguage:d,targetLang:o.substring(0,2),sentences:p,processedSentences:m,textLines:s,textLinesComponents:u,entities:r,contentReference:a,originalObject:c}),Ju.update({translationState:l.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:d,originalSnippet:e,websiteLanguage:d})}catch(t){console.error(t),Ju.update({translationState:l.none,originalSnippet:e,error:t.message?t.message:t})}}},Xx=async({event:e,lang:n})=>{const{originalText:o,textLines:i,entities:s,contentReference:r,originalObject:a}=st(e);document.getElementsByTagName("deepl-inline-translate-tooltip").length||VE({websiteData:Ju,platformBehaviour:Q.gdocs,textProcessingMode:ee.write});const c=document.querySelector("deepl-gdocs-icon"),d={lang:n,sourceLength:o.length,targetLength:0,nicheIntegration:Q.gdocs,error:""};if(await Yx(o,ge.WRITE))return Ju.update({translationState:l.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:o}),void(c&&c.setDeeplWriteTrackingData(d));Ju.update({translationState:l.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const e=await t({action:"dlRequestGDocsSplitText",payload:{mode:jx,texts:i}}),n=e.result.lang.detected,u=[],p=[];for(const t of e.result.texts){const e=[];for(const n of t.chunks)for(const t of n.sentences)p.push(t),e.push(p.length-1);u.push(e)}const m=(await t({action:"dlRequestGDocsProcessContent",payload:{mode:jx,sentences:p,sourceLang:n,targetLang:n,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:p[t].prefix,text:e.beams[0].sentences[0].text})));c.setContentProcessBuildingBlocks({detectedSourceLanguage:n,targetLang:n,sentences:p,processedSentences:m,textLines:i,textLinesComponents:u,entities:s,contentReference:r,originalObject:a}),c.setDeeplWriteTrackingData(d),Ju.update({translationState:l.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:n,originalSnippet:o,websiteLanguage:n}),mT({eventType:fe,...d})}catch(e){const t=e.message?e.message:e;Ju.update({translationState:l.none,originalSnippet:o,error:t}),mT({eventType:Ee,...d,error:t})}},Jx=async e=>{const{sentences:n,targetLang:o,sourceLang:i,mode:s}=e;if(o){await Zx(n.join(""),s);try{const e=await t({action:"dlRequestInputTranslation",payload:{requests:n.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:o,targetLang:o,sourceLang:i,platformBehavior:Q.gslides,isHtml:!0,isWriteRequest:s===ee.write}}),r=e[0]?.texts;return r}catch(e){throw console.error(e),Error(e)}}},Qx=async({event:e,targetLang:n,sourceLang:o,mode:i})=>{if(n){const{textLines:n,entities:s,contentReference:r,originalObject:a}=st(e);await Zx(n.join(""),i);try{const e=await t({action:"dlRequestInlineTranslation",payload:{requests:n.map((e=>({text:e}))),domainName:window.location.hostname,trigger:u,sourceLang:o,nicheIntegration:Q.gslides,isWriteRequest:i===ee.write}}),{processedText:l,processedEntities:c}=dt({textLines:e.map((e=>e.text)),entities:s,contentReference:r});return ht({entities:c,text:l,originalObject:a})}catch(e){console.error(e)}}},eT=async e=>{const{element:n,targetLang:o}=e;let i,s="";if(o){const{domElements:r,strings:a,tmpElementMap:l}=(e=>{const t=[],n=[],o={};return jm({domElements:t,strings:n,element:e,tmpElementMap:o}),{domElements:t,strings:n,tmpElementMap:o}})(n);try{const i=await t({action:"dlRequestZendeskInputTranslation",payload:{texts:a,domainName:window.location.hostname,websiteLanguage:o,targetLang:o,...e.formality&&{formality:e.formality}}}),c=i[0]?.texts;c&&c.length>0&&(qm({strings:c,domElements:r}),(({element:e,tmpElementMap:t})=>{for(const n of Object.keys(t)){const o=e.getElementsByTagName(n);Array.from(o).forEach((e=>{const{originalTagName:o,originalAttributes:i}=t[n],s=document.createElement(o);for(const e in i)s.setAttribute(e,i[e]);s.innerHTML=e.innerHTML,e.replaceWith(s)}))}})({element:n,tmpElementMap:l}),s=n.innerHTML,n.innerHTML=""),t({action:"dlOnSuccessfulZendeskTranslation"})}catch(e){console.error(e),i=e}}return[s,i]},tT=async e=>{const{targetLang:n,sourceLang:o,text:i,trigger:s}=e;let r,a="";if(o&&n)try{a=await t({action:"dlRequestZendeskMessageTranslation",payload:{domainName:window.location.hostname,sourceLang:o,targetLang:n,text:i,trigger:s}})}catch(e){console.error(e),r=e}return[a,r]},nT=async()=>{let e,n=[];try{const[o,i]=await t({action:"dlRequestTermbases"});i?e=i:n=o}catch(t){console.error(t),e=t}return[n,e]},oT=async()=>{let e=document.body.innerText.substring(0,200);if(!e||1===e.length){const t=document.title;t.length>=e.length&&(e=t)}let n="";const o=await chrome.i18n.detectLanguage(e);o&&o.languages?.length>0&&(n=o.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase());try{t({action:"dlTrackDetectLanguage",payload:{language:n,domainName:window.location.host}})}catch(e){console.error(e)}return n},iT=async()=>{let t=document.documentElement.lang;!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),Rm(window.location.href);{const t=async()=>{let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return t.substr(0,2).toUpperCase();try{Ju.update({translationState:l.ongoingAutoDetection});const e=await oT();return Ju.update({translationState:l.none}),e}catch(e){Ju.update({translationState:l.none,error:e.message?e.message:chrome.i18n.getMessage(e)})}},n=()=>{const e=document.documentElement.className;return/translated/g.test(e)},o=Rm(window.location.href),i=await t();Ju.update({websiteLanguage:i,hostname:window.location.hostname,isSupportedLanguage:vt(i),isGoogleTranslatedActive:n(),isValidUrlForPopup:o});const s=new MutationObserver((async()=>{const e=await t();Ju.update({websiteLanguage:e,isSupportedLanguage:vt(e),isGoogleTranslatedActive:n(),isValidUrlForPopup:o})}));s.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),Vl((()=>{s.disconnect()}))}},sT=async()=>await t({action:"dlGetUserState"}),rT=async(n,o=!1)=>{if(n&&!n.isTrusted&&!o)return;const i=await t({action:"dlGetAppSettings"});cT(),await iT();const s=await sT();We(s,ge.TRANSLATOR)&&(vt(e.websiteData.websiteLanguage)&&(_t(i.selectedTargetLanguage,e.websiteData.websiteLanguage)&&!e.websiteData.isGoogleTranslatedActive||$t(e.websiteData.websiteLanguage,i.languagesForTranslation,a)||i.blacklistDomains.includes(e.websiteData.hostname)||Nm(window.location.host,I)||($t(e.websiteData.websiteLanguage,i.languagesForTranslation,r)&&Vx(e.websiteData.websiteLanguage,p),i.enableFullPageTranslation&&window===window.parent&&XE())))},aT=async()=>{await iT(),document.getElementsByTagName("deepl-input-controller").length||s$()},lT=async()=>{await iT(),u$(Ju)},cT=()=>{Je()&&QE(),Ct()&&e$(),Yp()&&o$(),Cm()&&r$()},dT=e=>{xc.set(e)},uT=async e=>{const n=()=>{for(const t of Object.keys(Y))if(Y[t]&&e.match(Y[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),t=e&&new URL(e.getAttribute("action"))?.hostname?.toLowerCase();if(t)for(const e of Object.keys(Z))if(Z[e]&&t.includes(Z[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys(K))if(K[e]&&document.querySelector(`#${K[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},o=n();o?t({action:"dlTrackLandingOnWebsite",payload:{website:o}}):setTimeout((()=>{const e=n();e&&t({action:"dlTrackLandingOnWebsite",payload:{website:e}})}),2e3)},pT=async({eventType:e,controller:n,sourceTextLength:o,targetTextLength:i,error:s,metaDataOverride:r={}})=>{const a=n?.getTicketLanguageInformation(),l={agentLanguage:(await t({action:"dlGetAppSettings"})).selectedTargetLanguage,ticketLanguage:a?.language,isTicketLanguageAutodetected:a?.isDetected,isTicketLanguageSupported:a?.isSupported,isAutoTranslateEnabled:n.getIsAutoTranslatedEnabled(),sourceTextLength:o,targetTextLength:i,inputHasSelection:n.getInputHasSelection(),error:s,...r};await t({action:"dlTrackZendeskCustomizationEvent",payload:{eventType:e,zendeskMetaData:l}})},mT=async({eventType:e,lang:n,sourceLength:o,targetLength:i,nicheIntegration:s=Q.default,error:r,metaDataOverride:a={}})=>{await t({action:"dlTrackDeeplWriteEvent",payload:{eventType:e,deeplWriteMetaData:{lang:n,sourceLength:o,targetLength:i,nicheIntegration:s,error:r,...a}}})};function gT(e){Xu(e)}function hT(t,n,o){switch(t.action){case"dlTranslate":t.sourceLang&&Vx(t.sourceLang,m),o();break;case"dlShowOriginal":Ju.update({translationState:l.showOriginal}),o();break;case"dlDefaultPopUpMounting":e.websiteData.translationState===l.none&&YE(),JE(),o();break;case"dlTabChanged":setTimeout(iT,500),o();break;case"dlTranslateInline":iT().then((()=>Bx(t))),o();break;case"dlTranslateSelectionRightClick":iT().then((()=>Fx(t.payload))),o();break;case"dlGetWebsiteData":iT().then((()=>o(e.websiteData)));break;case"dlShowNotification":p$(t.payload.type,t.payload.options),o();break;case"dlErrorVisibility":console.log("content listener",t),dT(t.payload.state),o();break;case"dlShowAskForAReviewPopup":m$(X.initial),o();break;case"dlShowCustomerSegmentationSurvey":m$(X.customer_segmentation),o();break;case"dlShowArabicSurveyPopup":m$(X.arabic_survey),o();break;case"dlShowAlert":gT(t.payload),o();break;case"dlShowGmailFeedbackPopup":m$(X.gmail),o();break;case"dlShowSlidesFeedbackPopup":m$(X.gslides),o()}return!0}const fT=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"deepl.com"===`${e.at(-2)}.${e.at(-1)}`},_T=()=>!fT()&&!Yp(),vT=()=>!fT()&&!Yp(),{client:wT,scope:bT}=Fp();if(wT.init(),jt()&&{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.20.1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ"},APP_VERSION:"1.20.1",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0}}.HOT_RELOAD.active){new WebSocket(`ws://localhost:${{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.20.1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ"},APP_VERSION:"1.20.1",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0}}.HOT_RELOAD.webSocketServerPort}`).addEventListener("message",(e=>{"file-change"===e.data&&chrome.runtime.sendMessage("reload")}))}document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(hT),Vl((()=>{Ju.update({translationState:l.showOriginal}),Qu(),chrome.runtime.onMessage.removeListener(hT)}))}catch(e){console.error(e),nr(e,bT)}try{f$(window.location.host),uT(window.location.host),_$(window.location.href),"complete"===document.readyState?rT(null,!0):window.addEventListener("load",rT),_T()&&aT(),vT()&&lT(),h$(window.location.host)}catch(e){console.error(e),nr(e,bT)}function yT(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function ET(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function $T(e,t){const n=ET(e),o=ET(t),i=function(e,t,n){const o=n||((e,t)=>e===t),i=(()=>{let n=0;for(;o(e[n],t[n])&&n<e.length;)++n;return n})();if(i===e.length&&e.length===t.length)return[i];const s=(()=>{let n=e.length-1,s=t.length-1;for(;o(e[n],t[s])&&n>i&&s>i;)--n,--s;return e.length-n-1})(),r=e.length-i-s+1,a=t.length-i-s+1,l=r+a,c=new Map,d=new Map;c.set(1,0),d.set(1,null);for(let n=0;n<=l;++n)for(let l=-n;l<=n;l+=2){let u,p,m;for(l==-n||l!=n&&c.get(l-1)<c.get(l+1)?(u=c.get(l+1),m=[d.get(l+1),void 0,void 0]):(u=c.get(l-1)+1,m=[d.get(l-1),void 0,void 0]),p=u-l;u<r&&p<a&&o(e[u+i],t[p+i]);)++u,++p;if(u>=r&&p>=a){m[1]=r+s-1,m[2]=a+s-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let o=[],l=null;for(;n.length;){const i=n.pop(),s=i[0],r=i[1],a=s-e,c=r-t,d=Math.min(a,c);a>d&&(l?l[0]+=a-d:(l=[a-d,0],o.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],o.push(l))),d>0&&(o.push(d),l=null),e=s,t=r}return o[0]=o[0]-1+i,o}c.set(l,u),m[1]=u,m[2]=p,d.set(l,m)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let r=0,a=0,l=0;for(;r<i.length;){const e=i[r];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),r+=1,r<i.length){const[e,t]=i[r];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),r+=1,a+=e,l+=t}}return[s,n,o,i]}return e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER=1500,e.GMAIL_CHAR_LIMIT_FREE_USER=Iy,e.GMAIL_INTERVAL=800,e.GMAIL_UI_ADDED_ATTRIBUTE=My,e.autodetectLanguage=oT,e.buildGDocsPasteData=ht,e.calculateNewIconPosition=ot,e.canInjectInlineTranslation=vT,e.canInjectInputTranslation=_T,e.canTranslateElementForDomain=w$,e.checkForIntersectionWithOpenDialogs=SE,e.checkIfInputHasSelection=xm,e.clearMessageControllers=Em,e.clickAtCoordinates=ME,e.clickOnElement=IE,e.createAlert=Xu,e.createGmailController=r$,e.createGmailControllerUtil=()=>document.createElement(wE.HTML_TAG_NAME),e.createGoogleDocsIcon=QE,e.createGoogleSlidesController=e$,e.createHighlightsForSentence=function(e,t){const n=$T(t,e),o=[];let i=0,s=0,r=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=r,c.originalLength=l.length,c.originalOffset=a,r+=t.length,a+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),r+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,s+=e}})),o},e.createInlineTranslateSettingsTooltip=ZE,e.createInlineTranslateTooltip=VE,e.createInlineTranslationTrigger=d$,e.createInlineTranslationTriggerListener=u$,e.createInputTranslationController=s$,e.createNotification=p$,e.createPageLoadPopup=XE,e.createSubmitButtonTooltip=Tm,e.createTicketController=em,e.createZendeskController=o$,e.createZendeskControllerElement=Kp,e.customizePage=h$,e.detectTicketLanguageInLiveChat=gm,e.detectTicketLanguageInTicket=mm,e.detectTicketType=lm,e.disableExtension=om,e.elementHasTranslateToolbar=TE,e.extractSentencesAndEntitiesFromData=Mt,e.findEditableContent=async function t(n,o){try{if(o.dataset&&"true"===o.dataset.dlInputTranslation||o.dataset&&"true"===o.dataset.dlNoInputTranslation)return;if("true"===o.contentEditable||"TEXTAREA"===o.nodeName&&o.rows>1){if("none"===window.getComputedStyle(o).display)return;if(!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(o))return;if(!v$(o,e.websiteData.hostname))return;o.dataset.dlInputTranslation="true",n.push(o)}for(const e of o.childNodes)t(n,e)}catch(e){jt()&&console.error(e),nr(e,E$)}},e.findEmailToAndFromAddressTable=CE,e.findForwardButtonInDocument=OE,e.findSiblingDivWithAnyMessageId=NE,e.generateLanguagesWithShortcodeForDropdown=LE,e.getActivePane=Jp,e.getActiveTermbases=()=>{const e=Zp();return e?e.getActiveTermbases():[]},e.getBlocksFromString=function(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,r]=yT(e,t,o);if("end"===s&&(i=!0),o<r&&n.push({block:"main",text:e.substring(o,r)}),i)break;const a=e.indexOf(`</${s}>`,r);-1===a?(n.push({block:s,text:e.substring(r+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(r+`<${s}>`.length,a)}),o=a+`</${s}>`.length)}return n},e.getContextMessages=e=>{const t=[],n=cm(e).map(pm).map((e=>e.innerText)),o=[],i=[];for(let e=0;e<n.length;e++){const s=e%2==0?"start":"end";let r=Math.floor(e/2);if("end"===s&&(r=n.length-1-r),t.includes(r))break;if([...o,...i].reduce(((e,t)=>e+t.length),0)+n[r].length>3e3)break;"end"===s?i.unshift(n[r]):o.push(n[r]),t.push(r)}return[...o,...i]},e.getControllerFromMessage=bm,e.getCoordsOfWord=(e,t,n,o,i)=>{const s=document.createRange();if("#text"===e.nodeName)s.setStart(e,t),s.setEnd(e,t+n);else{if(!e.firstChild||"#text"!==e.firstChild.nodeName)return console.error("Invalid textNode with no child text node."),null;{const o=e.firstChild;s.setStart(o,t),s.setEnd(o,t+n)}}const r=s.getBoundingClientRect();return{top:r.top,left:r.left,right:r.right,bottom:r.bottom,original:o,replace:i,textNode:e,changeIndex:t,changeLength:n}},e.getElementCenterCoordinates=kE,e.getGDocsisEditMode=it,e.getGmailControllerUtil=yE,e.getIFrameAndEditable=Qe,e.getIconCoordinates=nt,e.getMessageContent=pm,e.getMessageViewContainers=xE,e.getMessageWriteContainers=()=>{const e=Array.from(document.querySelectorAll('[role="textbox"]')).filter((e=>"true"===e.getAttribute("contenteditable")));return e},e.getMessagesFromTicket=cm,e.getScrollableElements=T$,e.getSelectionContent=tt,e.getSentryClient=Fp,e.getSourceLangFromSlide=Lt,e.getTermbases=nT,e.getTicketController=Qp,e.getTicketId=Xp,e.getTicketStartingMessage=dm,e.getTicketStartingMessages=um,e.getUserState=sT,e.getWebsiteSettings=iT,e.getWordsFromSentence=pt,e.getZendeskController=Zp,e.improveGDocsSelectionContent=Xx,e.injectAskAReviewPopup=m$,e.injectControllerInMessage=ym,e.injectInlineTranslation=lT,e.injectInputTranslation=aT,e.injectMissingMessageControllers=wm,e.injectMissingUIElements=tm,e.isChatGPT=b$,e.isDeepLCom=fT,e.isGDocs=Je,e.isGSlides=Ct,e.isGmail=Cm,e.isIncludedInTheText=function(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)},e.isInputArea=$$,e.isOnMessageViewScreen=$E,e.isZendesk=Yp,e.onOpenPage=rT,e.pageListener=hT,e.processEntityAfterTranslation=It,e.processGDocsCopyEvent=st,e.reassembleGDocsTranslatedResult=dt,e.removeAllDeeplElements=function(){!function(e){const t=document.getElementsByTagName(e);if(!t.length)return;for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}("deepl-input-controller")},e.removeGDocsEntities=ut,e.removeGmailController=a$,e.removeGoogleDocsIcon=t$,e.removeGoogleSlidesController=n$,e.removeInlineTranslateSettingsTooltip=KE,e.removeInlineTranslateTooltip=YE,e.removeInlineTranslateTrigger=c$,e.removeInputTranslationController=l$,e.removePageLoadPopup=JE,e.removeUIElementsFromList=EE,e.removeZendeskController=i$,e.removeZendeskToolbar=Sm,e.removeZendeskUIElements=nm,e.replaceTranslatedGDocsContent=mt,e.runCustomScriptsForDomain=f$,e.runCustomScriptsForSpecificUrl=_$,e.scanForTranslatables=qx,e.setErrorVisibility=dT,e.shouldBeTranslated=Hx,e.shouldInjectInputIcon=v$,e.showAlert=gT,e.simulateGSLidesSelectAll=kt,e.trackDeeplWriteEvent=mT,e.trackPageLandingIfNeeded=uT,e.trackZendeskCustomizationEvent=pT,e.translateGDocsSelectionContent=Kx,e.translateGSlidesInbloxkSelectionContent=Qx,e.translateGSlidesSelectionContent=Jx,e.translateInlineText=Bx,e.translateSelectionRightClick=Fx,e.translateWebsite=Vx,e.translateZendeskMessage=tT,e.translateZendeskSelectionContent=eT,e.triggerCopyEvent=et,e.twitterState=Pg,e.unsubscribeToWebsiteState=Qu,e.updateInputIconLanguageInformation=vm,e.updateInputPositionerCoords=x$,e.updateIntegrationPanelIfExists=$m,e.updateToolbarAutoTranslateStatus=fm,e.updateToolbarLanguageInformation=hm,e.updateTopIconLanguageInformation=_m,e.waitForElement=AE,e.websiteState=Ju,e.whatsAppState=pg,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=content.js.map
