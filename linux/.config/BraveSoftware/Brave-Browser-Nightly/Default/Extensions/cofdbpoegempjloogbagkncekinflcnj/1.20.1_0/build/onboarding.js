var settings=function(e){"use strict";function t(){}const n=e=>e;function r(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(r)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function d(e,t,n){return e.set(n),t}function p(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const h="undefined"!=typeof window;let m=h?()=>window.performance.now():()=>Date.now(),f=h?e=>requestAnimationFrame(e):t;const g=new Set;function _(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&f(_)}function y(e){let t;return 0===g.size&&f(_),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}const v="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function b(e,t){e.appendChild(t)}function S(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function w(e){const t=x("style");return function(e,t){b(e.head||e,t),t.sheet}(S(e),t),t.sheet}function k(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function E(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function x(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function I(){return C(" ")}function R(){return C("")}function M(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function O(e,t){t=""+t,e.data!==t&&(e.data=t)}function N(e,t,n){e.classList[n?"add":"remove"](t)}function L(e,t){return new e(t)}const D=new Map;let $,P=0;function F(e,t,n,r,s,o,i,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*o(e);l+=100*e+`%{${i(r,1-r)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=S(e),{stylesheet:h,rules:m}=D.get(p)||function(e,t){const n={stylesheet:w(t),rules:{}};return D.set(e,n),n}(p,e);m[d]||(m[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${s}ms 1 both`,P+=1,d}function B(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-r.length;s&&(e.style.animation=r.join(", "),P-=s,P||f((()=>{P||(D.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)})),D.clear())})))}function j(e){$=e}function U(){if(!$)throw new Error("Function called outside component initialization");return $}function H(e){U().$$.on_mount.push(e)}function z(e,t){return U().$$.context.set(e,t),t}function q(e){return U().$$.context.get(e)}const W=[],G=[];let V=[];const Y=[],K=Promise.resolve();let J=!1;function X(e){V.push(e)}const Z=new Set;let Q,ee=0;function te(){if(0!==ee)return;const e=$;do{try{for(;ee<W.length;){const e=W[ee];ee++,j(e),ne(e.$$)}}catch(e){throw W.length=0,ee=0,e}for(j(null),W.length=0,ee=0;G.length;)G.pop()();for(let e=0;e<V.length;e+=1){const t=V[e];Z.has(t)||(Z.add(t),t())}V.length=0}while(W.length);for(;Y.length;)Y.pop()();J=!1,Z.clear(),j(e)}function ne(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}function re(){return Q||(Q=Promise.resolve(),Q.then((()=>{Q=null}))),Q}function se(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,r,t),s}(`${t?"intro":"outro"}${n}`))}const oe=new Set;let ie;function ae(){ie={r:0,c:[],p:ie}}function ce(){ie.r||o(ie.c),ie=ie.p}function le(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function ue(e,t,n,r){if(e&&e.o){if(oe.has(e))return;oe.add(e),ie.c.push((()=>{oe.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const de={duration:0};function pe(e){e&&e.c()}function he(e,t,n,s){const{fragment:a,after_update:c}=e.$$;a&&a.m(t,n),s||X((()=>{const t=e.$$.on_mount.map(r).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(X)}function me(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];V.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),V=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(e,t){-1===e.$$.dirty[0]&&(W.push(e),J||(J=!0,K.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ge(e,n,r,i,a,c,l,u=[-1]){const d=$;j(e);const p=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(p.root);let h=!1;if(p.ctx=r?r(e,n.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=s)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](s),h&&fe(e,t)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(T)}else p.fragment&&p.fragment.c();n.intro&&le(e.$$.fragment),he(e,n.target,n.anchor,n.customElement),te()}j(d)}class _e{$destroy(){me(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ye=[];function ve(e,n=t){let r;const s=new Set;function o(t){if(a(e,t)&&(e=t,r)){const t=!ye.length;for(const t of s)t[1](),ye.push(t,e);if(t){for(let e=0;e<ye.length;e+=2)ye[e][0](ye[e+1]);ye.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const c=[i,a];return s.add(c),1===s.size&&(r=n(o)||t),i(e),()=>{s.delete(c),0===s.size&&r&&(r(),r=null)}}}}const be={most_used_apps:"MOST_USED_APPS",deepl_pro:"DEEPL_PRO",create_account:"CREATE_ACCOUNT"},Se=ve(1),we={"#step-1":1,"#step-2":2,"#step-3":3,"#step-4":4,"#step-5":5};function ke(){Se.set(we[location.hash]||1)}const Te=[{screen:be.most_used_apps},{title:"onboarding_inline_translation_title",badge:"onboarding_title_free",description:"onboarding_inline_translation_description"},{title:"onboarding_input_translation_title",badge:"onboarding_title_free",description:"onboarding_input_translation_description"},{title:"onboarding_full_page_translation_title",badge:"onboarding_title_pro",description:"onboarding_full_page_translation_description",screen:be.deepl_pro},{title:"onboarding_disable_pages_title",description:"onboarding_disable_pages_description"}],Ee={hintKeyboardShortcut:"HINT_KEYBOARD_SHORTCUT",inputTranslation:"INPUT_TRANSLATION",inlineTranslation:"INLINE_TRANSLATION",fullPageTranslation:"FULL_PAGE_TRANSLATION",accountSuccessfullyCreated:"ACCOUNT_SUCCESSFULLY_CREATED",successfullyLoggedIn:"SUCCESSFULLY_LOGGED_IN"},xe={green_theme:"green_theme"},Ce="ONBOARDING_SEE_ALL_INTEGRATIONS",Ie="CLICK_ON_SHORTCUT_NOTIFICATION",Re="DISABLE_PER_SITE",Me="DISABLE_EVERYWHERE",Ae="OPEN_PAGE",Oe="BACK_BUTTON",Ne="NEXT_BUTTON",Le="NAVIGATION",De=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"},$e={prod:"production",dev:"development",test:"testing"};function Pe(){return $e.prod}function Fe(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}const Be=function(){const{subscribe:e,set:t,update:n}=ve({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser","translatorServiceType","writeServiceType","apiServiceType","docTranslatorServiceType","browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>({...t,...e})))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t","accountId"];let r={};for(const[n,s]of Object.entries(e))!1===t.includes(n)&&(r[n]=s.newValue);if(Pe()===$e.dev){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,r)}n((e=>({...e,...r})))})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),je=function(){const{subscribe:e,update:t}=ve({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...t[n.tab.id],...e.payload,error:e.payload.error?e.payload.error:void 0}})));break;case"resetWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...e.payload}})))}})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>({...t,[e[0].id]:{...t[e[0].id],...n}})))}))}))}}}();!function(e,n,r){const s=!Array.isArray(e),a=s?[e]:e,l=n.length<2;return u=e=>{let r=!1;const u=[];let d=0,p=t;const h=()=>{if(d)return;p();const r=n(s?u[0]:u,e);l?e(r):p=i(r)?r:t},m=a.map(((e,t)=>c(e,(e=>{u[t]=e,d&=~(1<<t),r&&h()}),(()=>{d|=1<<t}))));return r=!0,h(),function(){o(m),p(),r=!1}},{subscribe:ve(r,u).subscribe};var u}(je,(async(e,t)=>{if(!chrome.tabs)return;t(e[(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id])})),function(){const{subscribe:e,set:t}=ve([]);Fe({action:"dlGetExperiments",payload:{forceFetch:!1}}).then((e=>t(e))),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments)}))}();const Ue={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function He(e,t){let n;try{switch(e){case Ue.chrome:case Ue.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case Ue.edge:n=t.split("Edg/")[1].split(" ")[0];break;case Ue.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case Ue.opera:n=t.split("OPR/")[1].split(" ")[0];break;case Ue.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&navigator?.userAgentData&&function(e){return e===Ue.chrome||e===Ue.edge||e===Ue.brave||e===Ue.opera}(e)&&(n=ze(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function ze(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}function qe(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.20.1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ"},APP_VERSION:"1.20.1",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.20.1",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.20.1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ"},APP_VERSION:"1.20.1",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0}}.browserBuild.toLowerCase()===Ue.firefox.toLowerCase();const e=chrome.runtime.getURL("");return function(){const e=navigator?.userAgent||"unknown_user_agent",t=navigator?.userAgentData?.platform||navigator?.platform||"unknown_platform";let n="unknown_browser",r="unknown_browser_version";const s=navigator?.language||"unknown_browser_language";try{const t=e.match(/chrome|chromium|crios/i),s=e.match(/edg/i)||ze(Ue.edge),o=e.match(/firefox|fxios/i),i=e.match(/opr\//i)||ze(Ue.opera),a=e.match(/safari/i),c=ze(Ue.brave);t?(n=Ue.chrome,s&&(n=Ue.edge),i&&(n=Ue.opera),c&&(n=Ue.brave)):s?n=Ue.edge:o?n=Ue.firefox:i?n=Ue.opera:a&&(n=Ue.safari),r=He(n,e)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:e,platform:t,browser:n,browserVersion:r,browserLang:s}}().browser===Ue.firefox||/moz-extension:\/\//gm.test(e)}function We(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Ge(e){let t,n,r,s,o,i=chrome.i18n.getMessage("onboarding_back_button")+"";return{c(){t=x("a"),n=C(i),A(t,"class","dl-btn dl-btn-ghost svelte-zulkya"),A(t,"href",r="#step-"+(e[1]-1)),A(t,"data-qa","dl-onboarding-navigation-back-button")},m(r,i){k(r,t,i),b(t,n),s||(o=M(t,"click",e[4]),s=!0)},p(e,n){2&n&&r!==(r="#step-"+(e[1]-1))&&A(t,"href",r)},d(e){e&&T(t),s=!1,o()}}}function Ve(e){let t,n,r,s,o;function i(){return e[5](e[10])}return{c(){t=x("li"),n=x("a"),n.innerHTML='<span class="svelte-zulkya"></span>',r=I(),A(n,"href","#step-"+(e[10]+1)),A(n,"data-qa","dl-onboarding-navigation-step-"+(e[10]+1)),A(n,"aria-label",`Step ${e[10]+1}`),A(n,"class","svelte-zulkya"),A(t,"class","svelte-zulkya"),N(t,"active",e[1]===e[10]+1)},m(e,a){k(e,t,a),b(t,n),b(t,r),s||(o=M(n,"click",i),s=!0)},p(n,r){e=n,2&r&&N(t,"active",e[1]===e[10]+1)},d(e){e&&T(t),s=!1,o()}}}function Ye(e){let t,n,r,s,o,i=chrome.i18n.getMessage("onboarding_next_button")+"";return{c(){t=x("a"),n=C(i),A(t,"class","dl-btn dl-btn-primary svelte-zulkya"),A(t,"href",r="#step-"+(e[1]+1)),A(t,"data-qa","dl-onboarding-navigation-next-button")},m(r,i){k(r,t,i),b(t,n),s||(o=M(t,"click",e[6]),s=!0)},p(e,n){2&n&&r!==(r="#step-"+(e[1]+1))&&A(t,"href",r)},d(e){e&&T(t),s=!1,o()}}}function Ke(e){let n,r,s,o,i,a,c,l,u=e[1]>1&&Ge(e),d=Te,p=[];for(let t=0;t<d.length;t+=1)p[t]=Ve(We(e,d,t));let h=e[1]<Te.length&&Ye(e);return{c(){n=x("div"),r=x("div"),s=x("div"),u&&u.c(),o=I(),i=x("ul");for(let e=0;e<p.length;e+=1)p[e].c();a=I(),c=x("div"),h&&h.c(),A(s,"class","back-button svelte-zulkya"),A(i,"class","dl-navigation svelte-zulkya"),A(c,"class","next-button svelte-zulkya"),A(r,"class","dl-steps-navigation svelte-zulkya"),A(r,"style",`height: ${Je}px`),A(n,"class","dl-steps-navigation-wrapper svelte-zulkya"),A(n,"style",l=`top: ${e[0]}px`)},m(e,t){k(e,n,t),b(n,r),b(r,s),u&&u.m(s,null),b(r,o),b(r,i);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(i,null);b(r,a),b(r,c),h&&h.m(c,null)},p(e,[t]){if(e[1]>1?u?u.p(e,t):(u=Ge(e),u.c(),u.m(s,null)):u&&(u.d(1),u=null),10&t){let n;for(d=Te,n=0;n<d.length;n+=1){const r=We(e,d,n);p[n]?p[n].p(r,t):(p[n]=Ve(r),p[n].c(),p[n].m(i,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}e[1]<Te.length?h?h.p(e,t):(h=Ye(e),h.c(),h.m(c,null)):h&&(h.d(1),h=null),1&t&&l!==(l=`top: ${e[0]}px`)&&A(n,"style",l)},i:t,o:t,d(e){e&&T(n),u&&u.d(),E(p,e),h&&h.d()}}}let Je=41;function Xe(e,t,n){let r;const{currentStep:s,trackStepChange:o}=q("deepl_onboarding_navigation");l(e,s,(e=>n(1,r=e)));let i=616;function a(){document.body.offsetHeight>window.innerHeight?n(0,i=window.innerHeight-Je):n(0,i=document.body.offsetHeight)}var c;H((()=>{a(),window.addEventListener("resize",a)})),c=()=>{window.removeEventListener("resize",a)},U().$$.on_destroy.push(c);return[i,r,s,o,()=>o(r,r-1,Oe),e=>o(r,e+1,Le),()=>o(r,r+1,Ne)]}class Ze extends _e{constructor(e){super(),ge(this,e,Xe,Ke,a,{})}}function Qe(e){let n,r,s=chrome.i18n.getMessage("onboarding_pin_extension")+"";return{c(){n=x("div"),r=C(s),A(n,"class","dl-pin svelte-11gkby7"),A(n,"dir",e[3])},m(e,t){k(e,n,t),b(n,r)},p:t,d(e){e&&T(n)}}}function et(e){let t,n;return t=new Ze({}),{c(){pe(t.$$.fragment)},m(e,r){he(t,e,r),n=!0},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function tt(e){let t,n,r,s,o,i,a,c,l,d=e[2]&&Qe(e);const p=e[6].default,h=function(e,t,n,r){if(e){const s=u(e,t,n,r);return e[0](s)}}(p,e,e[5],null);let m=e[0]&&et();return{c(){d&&d.c(),t=I(),n=x("div"),r=x("div"),s=I(),o=x("div"),i=x("div"),a=x("div"),h&&h.c(),c=I(),m&&m.c(),A(r,"class","dl-logo svelte-11gkby7"),A(n,"class","dl-logo-container svelte-11gkby7"),A(n,"dir",e[3]),N(n,"isFirefox",e[4]),A(a,"class","dl-content svelte-11gkby7"),A(i,"class","dl-body"),A(o,"class","dl-container svelte-11gkby7"),A(o,"data-qa","dl-onboarding-page"),A(o,"dir",e[3]),N(o,"wideMode",e[1])},m(e,u){d&&d.m(e,u),k(e,t,u),k(e,n,u),b(n,r),k(e,s,u),k(e,o,u),b(o,i),b(i,a),h&&h.m(a,null),b(o,c),m&&m.m(o,null),l=!0},p(e,[n]){e[2]?d?d.p(e,n):(d=Qe(e),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null),h&&h.p&&(!l||32&n)&&function(e,t,n,r,s,o){if(s){const i=u(t,n,r,o);e.p(i,s)}}(h,p,e,e[5],l?function(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}(p,e[5],n,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[5]),null),e[0]?m?1&n&&le(m,1):(m=et(),m.c(),le(m,1),m.m(o,null)):m&&(ae(),ue(m,1,1,(()=>{m=null})),ce()),(!l||2&n)&&N(o,"wideMode",e[1])},i(e){l||(le(h,e),le(m),l=!0)},o(e){ue(h,e),ue(m),l=!1},d(e){d&&d.d(e),e&&T(t),e&&T(n),e&&T(s),e&&T(o),h&&h.d(e),m&&m.d()}}}function nt(e,t,n){let{$$slots:r={},$$scope:s}=t;const o=q("text_direction"),i=qe();let{showNavigation:a=!0}=t,{wideMode:c=!1}=t,{showPinMessage:l=!0}=t;return e.$$set=e=>{"showNavigation"in e&&n(0,a=e.showNavigation),"wideMode"in e&&n(1,c=e.wideMode),"showPinMessage"in e&&n(2,l=e.showPinMessage),"$$scope"in e&&n(5,s=e.$$scope)},[a,c,l,o,i,s,r]}class rt extends _e{constructor(e){super(),ge(this,e,nt,tt,a,{showNavigation:0,wideMode:1,showPinMessage:2})}}const st="DEEPL_COM_PRO",ot="SHORTCUT_SETTINGS",it={whatsapp:"EXTERNAL_WHATSAPP",twitter:"EXTERNAL_TWITTER",youtube:"EXTERNAL_YOUTUBE",facebook:"EXTERNAL_FACEBOOK",github:"EXTERNAL_GITHUB",discord:"EXTERNAL_DISCORD",telegram:"EXTERNAL_TELEGRAM",reddit:"EXTERNAL_REDDIT",gmail:"EXTERNAL_GMAIL",gdocs:"EXTERNAL_GDOCS",gslides:"EXTERNAL_GSLIDES",linkedIn:"EXTERNAL_LINKEDIN",msOffice:"EXTERNAL_MS_OFFICE"},at="SETTINGS_PAGE",ct="SETTINGS_CUSTOMIZATIONS";function lt(e){let n,r,s,i,a,c,l,u,d,p,h,m,f,g,_,y,v,S,w,E,C,R,O,N,L,D,$,P,F,B,j,U,H,z,q,W,G,V,Y=chrome.i18n.getMessage("onboarding_promotion_body_2")+"";return{c(){n=x("div"),r=x("div"),s=x("div"),s.textContent=`${chrome.i18n.getMessage("onboarding_promotion_header")}`,i=I(),a=x("p"),a.textContent=`${chrome.i18n.getMessage("onboarding_promotion_body")}`,c=I(),l=x("p"),u=I(),d=x("div"),p=x("div"),h=x("div"),m=x("div"),m.innerHTML='<img src="../images/graphics/onboarding/most-used-apps/gmail.png" alt="Gmail logo" class="svelte-1w4weg0"/>',f=I(),g=x("div"),g.textContent=`${chrome.i18n.getMessage("onboarding_promotion_link_gmail")}`,_=I(),y=x("div"),v=x("div"),v.innerHTML='<img src="../images/graphics/onboarding/most-used-apps/gdocs.png" alt="Google Docs Logo" class="svelte-1w4weg0"/>',S=I(),w=x("div"),w.textContent=`${chrome.i18n.getMessage("onboarding_promotion_link_google_docs")}`,E=I(),C=x("div"),R=x("div"),R.innerHTML='<img src="../images/graphics/onboarding/most-used-apps/gslides.png" alt="Google Slides logo" class="svelte-1w4weg0"/>',O=I(),N=x("div"),N.textContent=`${chrome.i18n.getMessage("onboarding_promotion_link_google_slides")}`,L=I(),D=x("div"),$=x("div"),$.innerHTML='<img src="../images/graphics/onboarding/most-used-apps/word-add-in.png" alt="Microsoft Word logo" class="svelte-1w4weg0"/>',P=I(),F=x("div"),B=x("div"),B.textContent=`${chrome.i18n.getMessage("onboarding_promotion_ms_word_header")}`,j=I(),U=x("p"),U.textContent=`${chrome.i18n.getMessage("onboarding_promotion_ms_word_body")}`,H=I(),z=x("div"),z.textContent=`${chrome.i18n.getMessage("onboarding_promotion_ms_word_link")}`,q=I(),W=x("div"),W.textContent=`${chrome.i18n.getMessage("onboarding_promotion_link_integrations")}`,A(s,"class","title svelte-1w4weg0"),A(a,"class","first svelte-1w4weg0"),A(l,"class","svelte-1w4weg0"),A(r,"class","left svelte-1w4weg0"),A(m,"class","dl-app-image svelte-1w4weg0"),A(g,"class","dl-app-cta svelte-1w4weg0"),A(h,"class","dl-app svelte-1w4weg0"),A(v,"class","dl-app-image svelte-1w4weg0"),A(w,"class","dl-app-cta svelte-1w4weg0"),A(y,"class","dl-app svelte-1w4weg0"),A(R,"class","dl-app-image svelte-1w4weg0"),A(N,"class","dl-app-cta svelte-1w4weg0"),A(C,"class","dl-app svelte-1w4weg0"),A(p,"class","dl-apps-top-row svelte-1w4weg0"),A($,"class","img-container svelte-1w4weg0"),A(B,"class","content-title svelte-1w4weg0"),A(U,"class","svelte-1w4weg0"),A(z,"class","cta svelte-1w4weg0"),A(F,"class","content svelte-1w4weg0"),A(D,"class","dl-apps-bottom-row svelte-1w4weg0"),A(W,"class","all-integrations svelte-1w4weg0"),A(d,"class","right svelte-1w4weg0"),A(n,"class","dl-apps-container svelte-1w4weg0")},m(t,o){k(t,n,o),b(n,r),b(r,s),b(r,i),b(r,a),b(r,c),b(r,l),l.innerHTML=Y,b(n,u),b(n,d),b(d,p),b(p,h),b(h,m),b(h,f),b(h,g),b(p,_),b(p,y),b(y,v),b(y,S),b(y,w),b(p,E),b(p,C),b(C,R),b(C,O),b(C,N),b(d,L),b(d,D),b(D,$),b(D,P),b(D,F),b(F,B),b(F,j),b(F,U),b(F,H),b(F,z),b(d,q),b(d,W),G||(V=[M(h,"click",e[2]),M(y,"click",e[3]),M(C,"click",e[4]),M(z,"click",e[5]),M(W,"click",e[1])],G=!0)},p:t,i:t,o:t,d(e){e&&T(n),G=!1,o(V)}}}function ut(e){function t(e){Fe({action:"dlExternalURLRedirect",payload:{destination:e}});try{Fe({action:"dlTrackOnboardingOpenExternalLink",payload:{url:e}})}catch(e){console.error("There was a problem tracking the following event: 'dlTrackOnboardingOpenExternalLink'. ",{error:e})}}return[t,function(){Fe({action:"dlOpenInternalPage",payload:{destination:ct}}),Fe({action:"dlTrackUILocationClicked",payload:Ce})},()=>t(it.gmail),()=>t(it.gdocs),()=>t(it.gslides),()=>t(it.msOffice)]}class dt extends _e{constructor(e){super(),ge(this,e,ut,lt,a,{})}}function pt(e){let n,r,s,i,a,c,l,u,d,p,h,m,f,g,_,y,v,S;return{c(){n=x("div"),r=x("button"),r.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_cta")}`,s=I(),i=x("p"),i.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_legend")}`,a=I(),c=x("div"),l=x("p"),l.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_intro")}`,u=I(),d=x("ul"),p=x("li"),p.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_item_1")}`,h=I(),m=x("li"),m.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_item_2")}`,f=I(),g=x("li"),g.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_item_3")}`,_=I(),y=x("button"),y.textContent=`${chrome.i18n.getMessage("onboarding_full_page_translation_table_read_more")}`,A(r,"class","btn-deepl-pro svelte-1f0kt6s"),A(r,"data-qa","dl-onboarding-deepl-pro-try-for-free"),A(i,"class","cta-legend svelte-1f0kt6s"),A(l,"class","svelte-1f0kt6s"),A(p,"class","svelte-1f0kt6s"),A(m,"class","svelte-1f0kt6s"),A(g,"class","svelte-1f0kt6s"),A(y,"class","read-more svelte-1f0kt6s"),A(y,"data-qa","dl-onboarding-deepl-pro-read-more"),A(c,"class","deepl-pro-benefits svelte-1f0kt6s"),A(n,"class","dl-deepl-pro svelte-1f0kt6s")},m(t,o){k(t,n,o),b(n,r),b(n,s),b(n,i),b(n,a),b(n,c),b(c,l),b(c,u),b(c,d),b(d,p),b(d,h),b(d,m),b(d,f),b(d,g),b(c,_),b(c,y),v||(S=[M(r,"click",e[0]),M(y,"click",e[1])],v=!0)},p:t,i:t,o:t,d(e){e&&T(n),v=!1,o(S)}}}function ht(e){function t(e){Fe({action:"dlExternalURLRedirect",payload:{destination:st,additionalData:{utmContent:e}}});try{Fe({action:"dlTrackOnboardingOpenExternalLink",payload:{url:st}})}catch(e){console.error("There was a problem tracking the following event: 'dlTrackOnboardingOpenExternalLink'. ",{error:e})}}return[function(){return t("cta")},function(){return t("read-more")}]}class mt extends _e{constructor(e){super(),ge(this,e,ht,pt,a,{})}}function ft(e){let t,n,r,s,o=chrome.i18n.getMessage(e[1].title)+"",i=e[1].badge&&gt(e);return{c(){t=x("h1"),n=x("span"),r=C(o),s=I(),i&&i.c(),A(t,"class","dl-step-title svelte-gn7vv9")},m(e,o){k(e,t,o),b(t,n),b(n,r),b(t,s),i&&i.m(t,null)},p(e,n){2&n&&o!==(o=chrome.i18n.getMessage(e[1].title)+"")&&O(r,o),e[1].badge?i?i.p(e,n):(i=gt(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(e){e&&T(t),i&&i.d()}}}function gt(e){let t,n,r=chrome.i18n.getMessage(e[1].badge)+"";return{c(){t=x("span"),n=C(r),A(t,"class","badge svelte-gn7vv9")},m(e,r){k(e,t,r),b(t,n)},p(e,t){2&t&&r!==(r=chrome.i18n.getMessage(e[1].badge)+"")&&O(n,r)},d(e){e&&T(t)}}}function _t(e){let t,n,r=chrome.i18n.getMessage(e[1].description)+"";return{c(){t=x("p"),n=C(r),A(t,"class","dl-step-description svelte-gn7vv9")},m(e,r){k(e,t,r),b(t,n)},p(e,t){2&t&&r!==(r=chrome.i18n.getMessage(e[1].description)+"")&&O(n,r)},d(e){e&&T(t)}}}function yt(e){let n,r;return{c(){n=x("div"),A(n,"class",r="dl-step-illustration dl-step-illustration-"+e[0]+" svelte-gn7vv9")},m(e,t){k(e,n,t)},p(e,t){1&t&&r!==(r="dl-step-illustration dl-step-illustration-"+e[0]+" svelte-gn7vv9")&&A(n,"class",r)},i:t,o:t,d(e){e&&T(n)}}}function vt(e){let n,r;return n=new mt({}),{c(){pe(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:t,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){me(n,e)}}}function bt(e){let n,r;return n=new dt({}),{c(){pe(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:t,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){me(n,e)}}}function St(e){let t,n,r,s,o,i,a,c=e[1].title&&ft(e),l=e[1].description&&_t(e);const u=[bt,vt,yt],d=[];function p(e,t){return e[1].screen===be.most_used_apps?0:e[1].screen===be.deepl_pro?1:2}return s=p(e),o=d[s]=u[s](e),{c(){t=x("div"),c&&c.c(),n=I(),l&&l.c(),r=I(),o.c(),A(t,"class","dl-step svelte-gn7vv9"),A(t,"data-qa",i="dl-onboarding-step-"+e[0])},m(e,o){k(e,t,o),c&&c.m(t,null),b(t,n),l&&l.m(t,null),b(t,r),d[s].m(t,null),a=!0},p(e,[h]){e[1].title?c?c.p(e,h):(c=ft(e),c.c(),c.m(t,n)):c&&(c.d(1),c=null),e[1].description?l?l.p(e,h):(l=_t(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null);let m=s;s=p(e),s===m?d[s].p(e,h):(ae(),ue(d[m],1,1,(()=>{d[m]=null})),ce(),o=d[s],o?o.p(e,h):(o=d[s]=u[s](e),o.c()),le(o,1),o.m(t,null)),(!a||1&h&&i!==(i="dl-onboarding-step-"+e[0]))&&A(t,"data-qa",i)},i(e){a||(le(o),a=!0)},o(e){ue(o),a=!1},d(e){e&&T(t),c&&c.d(),l&&l.d(),d[s].d()}}}function wt(e,t,n){let{step:r=1}=t,{onboardingStep:s}=t;return e.$$set=e=>{"step"in e&&n(0,r=e.step),"onboardingStep"in e&&n(1,s=e.onboardingStep)},[r,s]}class kt extends _e{constructor(e){super(),ge(this,e,wt,St,a,{step:0,onboardingStep:1})}}function Tt(e){const t=e-1;return t*t*t+1}function Et(e,{delay:t=0,duration:n=400,easing:r=Tt,x:s=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(e),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-i),[d,h]=p(s),[m,f]=p(o);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*d}${h}, ${(1-e)*m}${f});\n\t\t\topacity: ${c-u*t}`}}function xt(e){let n,r,s;return{c(){n=x("div"),A(n,"class","container svelte-1dicgbw")},m(t,o){k(t,n,o),n.innerHTML=e[1],r||(s=M(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(e){e&&T(n),r=!1,s()}}}function Ct(e){return[function(){Fe({action:"dlExternalURLRedirect",payload:{destination:ot}}),Fe({action:"dlTrackUiAction",payload:{uiAction:Ie}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}class It extends _e{constructor(e){super(),ge(this,e,Ct,xt,a,{})}}function Rt(e){let n,r,s;return{c(){n=x("div"),A(n,"class","container svelte-1dicgbw"),A(n,"data-qa","deepl-notification-open-settings-page-writing-link")},m(t,o){k(t,n,o),n.innerHTML=e[0],r||(s=M(n,"click",e[1]),r=!0)},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:t,o:t,d(e){e&&T(n),r=!1,s()}}}function Mt(e,t,n){let{options:r}=t,s=r?.settingsPageURL?r?.settingsPageURL:at;let o="",i=r?.currentDomain?r.currentDomain:"";switch(r.saveAction){case Me:o=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case Re:o=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[i,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,r=e.options)},[o,function(){Fe({action:"dlOpenInternalPage",payload:{destination:s}})},r]}class At extends _e{constructor(e){super(),ge(this,e,Mt,Rt,a,{options:2})}}function Ot(e){let n,r,s;return{c(){n=x("div"),A(n,"class","container svelte-1dicgbw"),A(n,"data-qa","deepl-notification-open-settings-page-reading-link")},m(t,o){k(t,n,o),n.innerHTML=e[0],r||(s=M(n,"click",e[1]),r=!0)},p(e,[t]){1&t&&(n.innerHTML=e[0])},i:t,o:t,d(e){e&&T(n),r=!1,s()}}}function Nt(e,t,n){let{options:r}=t,s=r?.settingsPageURL?r?.settingsPageURL:at;let o="",i=r?.currentDomain?r.currentDomain:"";switch(r.saveAction){case Me:o=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case Re:o=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[i,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,r=e.options)},[o,function(){Fe({action:"dlOpenInternalPage",payload:{destination:s}})},r]}class Lt extends _e{constructor(e){super(),ge(this,e,Nt,Ot,a,{options:2})}}function Dt(e){let n,r,s;return{c(){n=x("div"),n.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,A(n,"class","container svelte-66p1xn"),A(n,"data-qa","deepl-notification-open-settings-page-reading-link")},m(t,o){k(t,n,o),r||(s=M(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(e){e&&T(n),r=!1,s()}}}function $t(e){return[function(){Fe({action:"dlOpenInternalPage",payload:{destination:at}})}]}class Pt extends _e{constructor(e){super(),ge(this,e,$t,Dt,a,{})}}function Ft(e){let n;return{c(){n=x("div"),n.textContent=`${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,A(n,"class","dl-account-created svelte-nuwktw")},m(e,t){k(e,n,t)},p:t,i:t,o:t,d(e){e&&T(n)}}}class Bt extends _e{constructor(e){super(),ge(this,e,null,Ft,a,{})}}function jt(e){let n;return{c(){n=x("div"),n.textContent=`${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,A(n,"class","dl-account-created svelte-nuwktw")},m(e,t){k(e,n,t)},p:t,i:t,o:t,d(e){e&&T(n)}}}class Ut extends _e{constructor(e){super(),ge(this,e,null,jt,a,{})}}function Ht(e){let r,s,a,c,l,u,d,p,h,f,g,_,v,S;var w=e[5];function E(e){return{props:{options:e[1]}}}return w&&(d=L(w,E(e))),{c(){r=x("div"),s=x("div"),a=x("button"),l=I(),u=x("div"),d&&pe(d.$$.fragment),A(a,"class",c="dl-close-icon "+e[4]+" svelte-z9irgj"),A(s,"class","header"),A(s,"notificationtheme",e[4]),A(u,"class",p="body "+e[4]+" svelte-z9irgj"),A(r,"class",h="container "+e[4]+" svelte-z9irgj"),A(r,"dir",De()),N(r,"contrast",e[0]===Ee.fullPageTranslation),N(r,"success",e[0]===Ee.accountSuccessfullyCreated||e[0]===Ee.successfullyLoggedIn)},m(t,n){k(t,r,n),b(r,s),b(s,a),b(r,l),b(r,u),d&&he(d,u,null),_=!0,v||(S=M(a,"click",(function(){i(e[2])&&e[2].apply(this,arguments)})),v=!0)},p(t,n){e=t,(!_||16&n&&c!==(c="dl-close-icon "+e[4]+" svelte-z9irgj"))&&A(a,"class",c),(!_||16&n)&&A(s,"notificationtheme",e[4]);const o={};if(2&n&&(o.options=e[1]),32&n&&w!==(w=e[5])){if(d){ae();const e=d;ue(e.$$.fragment,1,0,(()=>{me(e,1)})),ce()}w?(d=L(w,E(e)),pe(d.$$.fragment),le(d.$$.fragment,1),he(d,u,null)):d=null}else w&&d.$set(o);(!_||16&n&&p!==(p="body "+e[4]+" svelte-z9irgj"))&&A(u,"class",p),(!_||16&n&&h!==(h="container "+e[4]+" svelte-z9irgj"))&&A(r,"class",h),(!_||17&n)&&N(r,"contrast",e[0]===Ee.fullPageTranslation),(!_||17&n)&&N(r,"success",e[0]===Ee.accountSuccessfullyCreated||e[0]===Ee.successfullyLoggedIn)},i(e){_||(d&&le(d.$$.fragment,e),X((()=>{_&&(g&&g.end(1),f=function(e,r,s){const o={direction:"in"};let a,c,l=r(e,s,o),u=!1,d=0;function p(){a&&B(e,a)}function h(){const{delay:r=0,duration:s=300,easing:o=n,tick:i=t,css:h}=l||de;h&&(a=F(e,0,1,s,r,o,h,d++)),i(0,1);const f=m()+r,g=f+s;c&&c.abort(),u=!0,X((()=>se(e,!0,"start"))),c=y((t=>{if(u){if(t>=g)return i(1,0),se(e,!0,"end"),p(),u=!1;if(t>=f){const e=o((t-f)/s);i(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,B(e),i(l)?(l=l(o),re().then(h)):h())},invalidate(){f=!1},end(){u&&(p(),u=!1)}}}(r,Et,{x:100,duration:1e3}),f.start())})),_=!0)},o(e){d&&ue(d.$$.fragment,e),f&&f.invalidate(),g=function(e,r,s){const a={direction:"out"};let c,l=r(e,s,a),u=!0;const d=ie;function p(){const{delay:r=0,duration:s=300,easing:i=n,tick:a=t,css:p}=l||de;p&&(c=F(e,1,0,s,r,i,p));const h=m()+r,f=h+s;X((()=>se(e,!1,"start"))),y((t=>{if(u){if(t>=f)return a(0,1),se(e,!1,"end"),--d.r||o(d.c),!1;if(t>=h){const e=i((t-h)/s);a(1-e,e)}}return u}))}return d.r+=1,i(l)?re().then((()=>{l=l(a),p()})):p(),{end(t){t&&l.tick&&l.tick(1,0),u&&(c&&B(e,c),u=!1)}}}(r,Et,{x:100,duration:1e3}),_=!1},d(e){e&&T(r),d&&me(d),e&&g&&g.end(),v=!1,S()}}}function zt(e){let t,n,r=e[3]&&Ht(e);return{c(){r&&r.c(),t=R()},m(e,s){r&&r.m(e,s),k(e,t,s),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&le(r,1)):(r=Ht(e),r.c(),le(r,1),r.m(t.parentNode,t)):r&&(ae(),ue(r,1,1,(()=>{r=null})),ce())},i(e){n||(le(r),n=!0)},o(e){ue(r),n=!1},d(e){r&&r.d(e),e&&T(t)}}}function qt(e,t,n){let r,s;z("text_direction",De());let{type:o}=t,{options:i}=t,{close:a}=t,c=!1;const l={[Ee.hintKeyboardShortcut]:It,[Ee.inputTranslation]:At,[Ee.inlineTranslation]:Lt,[Ee.fullPageTranslation]:Pt,[Ee.accountSuccessfullyCreated]:Bt,[Ee.successfullyLoggedIn]:Ut};return H((()=>{setTimeout((()=>n(3,c=!0)),100),setTimeout((()=>n(3,c=!1)),10100),setTimeout((()=>a()),11100)})),e.$$set=e=>{"type"in e&&n(0,o=e.type),"options"in e&&n(1,i=e.options),"close"in e&&n(2,a=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,r=l[o]),2&e.$$.dirty&&n(4,s=xe[i?.theme]?xe[i?.theme]:"")},[o,i,a,c,s,r]}class Wt extends _e{constructor(e){super(),ge(this,e,qt,zt,a,{type:0,options:1,close:2})}}const{window:Gt}=v;function Vt(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Yt(e){let n,r,s;return r=new Wt({props:{type:Ee.accountSuccessfullyCreated,close:e[3]}}),{c(){n=x("div"),pe(r.$$.fragment),A(n,"class","notification-container svelte-c0mafs")},m(e,t){k(e,n,t),he(r,n,null),s=!0},p:t,i(e){s||(le(r.$$.fragment,e),s=!0)},o(e){ue(r.$$.fragment,e),s=!1},d(e){e&&T(n),me(r)}}}function Kt(e){let n,r,s;return r=new Wt({props:{type:Ee.successfullyLoggedIn,close:e[3]}}),{c(){n=x("div"),pe(r.$$.fragment),A(n,"class","notification-container svelte-c0mafs")},m(e,t){k(e,n,t),he(r,n,null),s=!0},p:t,i(e){s||(le(r.$$.fragment,e),s=!0)},o(e){ue(r.$$.fragment,e),s=!1},d(e){e&&T(n),me(r)}}}function Jt(e){let n,r;return n=new kt({props:{onboardingStep:e[8],step:e[10]+1}}),{c(){pe(n.$$.fragment)},m(e,t){he(n,e,t),r=!0},p:t,i(e){r||(le(n.$$.fragment,e),r=!0)},o(e){ue(n.$$.fragment,e),r=!1},d(e){me(n,e)}}}function Xt(e){let t,n,r=e[2]===e[10]+1&&Jt(e);return{c(){r&&r.c(),t=R()},m(e,s){r&&r.m(e,s),k(e,t,s),n=!0},p(e,n){e[2]===e[10]+1?r?(r.p(e,n),4&n&&le(r,1)):(r=Jt(e),r.c(),le(r,1),r.m(t.parentNode,t)):r&&(ae(),ue(r,1,1,(()=>{r=null})),ce())},i(e){n||(le(r),n=!0)},o(e){ue(r),n=!1},d(e){r&&r.d(e),e&&T(t)}}}function Zt(e){let t,n,r=Te,s=[];for(let t=0;t<r.length;t+=1)s[t]=Xt(Vt(e,r,t));const o=e=>ue(s[e],1,1,(()=>{s[e]=null}));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=R()},m(e,r){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,r);k(e,t,r),n=!0},p(e,n){if(4&n){let i;for(r=Te,i=0;i<r.length;i+=1){const o=Vt(e,r,i);s[i]?(s[i].p(o,n),le(s[i],1)):(s[i]=Xt(o),s[i].c(),le(s[i],1),s[i].m(t.parentNode,t))}for(ae(),i=r.length;i<s.length;i+=1)o(i);ce()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)le(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ue(s[e]);n=!1},d(e){E(s,e),e&&T(t)}}}function Qt(e){let t,n,r,s,o=function(e){let t,n,r,s,o=e[0]&&Yt(e),i=e[1]&&Kt(e);return r=new rt({props:{wideMode:1===e[2],$$slots:{default:[Zt]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=I(),i&&i.c(),n=I(),pe(r.$$.fragment)},m(e,a){o&&o.m(e,a),k(e,t,a),i&&i.m(e,a),k(e,n,a),he(r,e,a),s=!0},p(e,s){e[0]?o?(o.p(e,s),1&s&&le(o,1)):(o=Yt(e),o.c(),le(o,1),o.m(t.parentNode,t)):o&&(ae(),ue(o,1,1,(()=>{o=null})),ce()),e[1]?i?(i.p(e,s),2&s&&le(i,1)):(i=Kt(e),i.c(),le(i,1),i.m(n.parentNode,n)):i&&(ae(),ue(i,1,1,(()=>{i=null})),ce());const a={};4&s&&(a.wideMode=1===e[2]),2052&s&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i(e){s||(le(o),le(i),le(r.$$.fragment,e),s=!0)},o(e){ue(o),ue(i),ue(r.$$.fragment,e),s=!1},d(e){o&&o.d(e),e&&T(t),i&&i.d(e),e&&T(n),me(r,e)}}}(e);return{c(){o&&o.c(),t=R()},m(e,i){o&&o.m(e,i),k(e,t,i),n=!0,r||(s=M(Gt,"hashchange",ke),r=!0)},p(e,[t]){o.p(e,t)},i(e){n||(le(o),n=!0)},o(e){ue(o),n=!1},d(e){o&&o.d(e),e&&T(t),r=!1,s()}}}function en(e,t,n){let r,s;l(e,Be,(e=>n(5,r=e))),l(e,Se,(e=>n(2,s=e))),z("text_direction",De());let o=performance.now(),i=performance.now(),a=!1,c=!1;function u(e,t,n){const r=performance.now();Fe({action:"dlTrackOnboardingStepChange",payload:{previousStep:e,newStep:t,trigger:n,secondsOnOnboarding:Math.floor((r-o)/1e3),secondsOnPreviousStep:Math.floor((r-i)/1e3)}}),i=performance.now()}return z("deepl_onboarding_navigation",{currentStep:Se,settings:Be,trackStepChange:u}),H((()=>{u(0,1,Ae),"#login_successful"!==window.location.hash&&"#signup_successful"!==window.location.hash||(n(0,a=!0),d(Be,r.hasUserSeenAccountCreationOnboarding=!0,r),window.history.replaceState({},document.title,window.location.pathname)),"#successful_login"===window.location.hash&&(n(1,c=!0),d(Be,r.hasUserSeenAccountCreationOnboarding=!0,r))})),ke(),[a,c,s,function(){n(0,a=!1),n(1,c=!1)}]}const tn=Object.prototype.toString;function nn(e){switch(tn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return mn(e,Error)}}function rn(e,t){return tn.call(e)===`[object ${t}]`}function sn(e){return rn(e,"ErrorEvent")}function on(e){return rn(e,"DOMError")}function an(e){return rn(e,"String")}function cn(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ln(e){return null===e||cn(e)||"object"!=typeof e&&"function"!=typeof e}function un(e){return rn(e,"Object")}function dn(e){return"undefined"!=typeof Event&&mn(e,Event)}function pn(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function hn(e){return"number"==typeof e&&e!=e}function mn(e,t){try{return e instanceof t}catch(e){return!1}}function fn(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function gn(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function _n(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{fn(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function yn(e,t,n=!1){return!!an(e)&&(rn(t,"RegExp")?t.test(e):!!an(t)&&(n?e===t:e.includes(t)))}function vn(e,t=[],n=!1){return t.some((t=>yn(e,t,n)))}function bn(e,t,n=250,r,s,o,i){if(!(o.exception&&o.exception.values&&i&&mn(i.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,l;a&&(o.exception.values=(c=Sn(e,t,s,i.originalException,r,o.exception.values,a,0),l=n,c.map((e=>(e.value&&(e.value=gn(e.value,l)),e)))))}function Sn(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(mn(r[s],Error)){wn(i,a);const o=e(t,r[s]),l=c.length;kn(o,s,l,a),c=Sn(e,t,n,r[s],s,[o,...c],o,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(mn(r,Error)){wn(i,a);const l=e(t,r),u=c.length;kn(l,`errors[${o}]`,u,a),c=Sn(e,t,n,r,s,[l,...c],l,u)}})),c}function wn(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function kn(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Tn(e){return e&&e.Math==Math?e:void 0}const En="object"==typeof globalThis&&Tn(globalThis)||"object"==typeof window&&Tn(window)||"object"==typeof self&&Tn(self)||"object"==typeof global&&Tn(global)||function(){return this}()||{};function xn(){return En}function Cn(e,t,n){const r=n||En,s=r.__SENTRY__=r.__SENTRY__||{};return s[e]||(s[e]=t())}const In=xn(),Rn=80;function Mn(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Rn;for(;n&&o++<r&&(l=An(n,u),!("html"===l||o>1&&i+s.length*c+l.length>=d));)s.push(l),i+=l.length,n=n.parentNode;return s.reverse().join(a)}catch(e){return"<unknown>"}}function An(e,t){const n=e,r=[];let s,o,i,a,c;if(!n||!n.tagName)return"";if(In.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),s=n.className,s&&an(s))for(o=s.split(/\s+/),c=0;c<o.length;c++)r.push(`.${o[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)i=u[c],a=n.getAttribute(i),a&&r.push(`[${i}="${a}"]`);return r.join("")}function On(){try{return In.document.location.href}catch(e){return""}}function Nn(e){return In.document&&In.document.querySelector?In.document.querySelector(e):null}function Ln(e){if(!In.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Dn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,$n=["debug","info","warn","error","log","assert","trace"],Pn={};function Fn(e){if(!("console"in En))return e();const t=En.console,n={},r=Object.keys(Pn);r.forEach((e=>{const r=Pn[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Bn=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Dn?$n.forEach((n=>{t[n]=(...t)=>{e&&Fn((()=>{En.console[n](`Sentry Logger [${n}]:`,...t)}))}})):$n.forEach((e=>{t[e]=()=>{}})),t}(),jn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Un(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${i}`}function Hn(e){const t=jn.exec(e);if(!t)return void Fn((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,s="",o,i="",a]=t.slice(1);let c="",l=a;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return zn({host:o,pass:s,path:c,projectId:l,port:i,protocol:n,publicKey:r})}function zn(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function qn(e){const t="string"==typeof e?Hn(e):zn(e);if(t&&function(e){if(!Dn)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Bn.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(Bn.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Bn.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Bn.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class Wn extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function Gn(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);"function"==typeof s&&Yn(s,r),e[t]=s}function Vn(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){Dn&&Bn.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Yn(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Vn(e,"__sentry_original__",t)}catch(e){}}function Kn(e){return e.__sentry_original__}function Jn(e){if(nn(e))return{message:e.message,name:e.name,stack:e.stack,...Zn(e)};if(dn(e)){const t={type:e.type,target:Xn(e.target),currentTarget:Xn(e.currentTarget),...Zn(e)};return"undefined"!=typeof CustomEvent&&mn(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Xn(e){try{return t=e,"undefined"!=typeof Element&&mn(t,Element)?Mn(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Zn(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Qn(e){return er(e,new Map)}function er(e,t){if(function(e){if(!un(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=er(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(er(e,t))})),r}return e}const tr=50,nr=/\(error: (.*)\)/,rr=/captureMessage|captureException/;function sr(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],s=e.split("\n");for(let e=n;e<s.length;e++){const n=s[e];if(n.length>1024)continue;const o=nr.test(n)?n.replace(nr,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){r.push(t);break}}if(r.length>=tr)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),rr.test(t[t.length-1].function||"")&&(t.pop(),rr.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,tr).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const or="<anonymous>";function ir(e){try{return e&&"function"==typeof e&&e.name||or}catch(e){return or}}const ar={},cr={};function lr(e,t){ar[e]=ar[e]||[],ar[e].push(t)}function ur(e,t){cr[e]||(t(),cr[e]=!0)}function dr(e,t){const n=e&&ar[e];if(n)for(const r of n)try{r(t)}catch(t){Dn&&Bn.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ir(r)}\nError:`,t)}}function pr(){"console"in En&&$n.forEach((function(e){e in En.console&&Gn(En.console,e,(function(t){return Pn[e]=t,function(...t){dr("console",{args:t,level:e});const n=Pn[e];n&&n.apply(En.console,t)}}))}))}function hr(){const e=En,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function mr(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function fr(e){const{message:t,event_id:n}=e;if(t)return t;const r=mr(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function gr(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function _r(e,t){const n=mr(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function yr(e){if(e&&e.__sentry_captured__)return!0;try{Vn(e,"__sentry_captured__",!0)}catch(e){}return!1}function vr(e){return Array.isArray(e)?e:[e]}const br=En,Sr=1e3;let wr,kr,Tr;function Er(e){lr("dom",e),ur("dom",xr)}function xr(){if(!br.document)return;const e=dr.bind(null,"dom"),t=Cr(e,!0);br.document.addEventListener("click",t,!1),br.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=br[t]&&br[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Gn(n,"addEventListener",(function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=o[n]=o[n]||{refCount:0};if(!i.handler){const r=Cr(e);i.handler=r,t.call(this,n,r,s)}i.refCount++}catch(e){}return t.call(this,n,r,s)}})),Gn(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},o=s[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete s[t]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Cr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;Vn(n,"_sentryCaptured",!0),r&&!r._sentryId&&Vn(r,"_sentryId",hr());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==kr)return!1;try{if(!e.target||e.target._sentryId!==Tr)return!1}catch(e){}return!0}(n)){e({event:n,name:s,global:t}),kr=n.type,Tr=r?r._sentryId:void 0}clearTimeout(wr),wr=br.setTimeout((()=>{Tr=void 0,kr=void 0}),Sr)}}const Ir=xn();function Rr(){if(!("fetch"in Ir))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Mr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ar(e){const t="fetch";lr(t,e),ur(t,Or)}function Or(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!Rr())return!1;if(Mr(Ir.fetch))return!0;let e=!1;const t=Ir.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Mr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){Dn&&Bn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&Gn(En,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Lr(t),method:Nr(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Lr(t),method:Nr(t,"method")?String(t.method).toUpperCase():"GET"}}(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return dr("fetch",{...s}),e.apply(En,t).then((e=>(dr("fetch",{...s,endTimestamp:Date.now(),response:e}),e)),(e=>{throw dr("fetch",{...s,endTimestamp:Date.now(),error:e}),e}))}}))}function Nr(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Lr(e){return"string"==typeof e?e:e?Nr(e,"url")?e.url:e.toString?e.toString():"":""}let Dr=null;function $r(e){const t="error";lr(t,e),ur(t,Pr)}function Pr(){Dr=En.onerror,En.onerror=function(e,t,n,r,s){return dr("error",{column:r,error:s,line:n,msg:e,url:t}),!(!Dr||Dr.__SENTRY_LOADER__)&&Dr.apply(this,arguments)},En.onerror.__SENTRY_INSTRUMENTED__=!0}let Fr=null;function Br(e){const t="unhandledrejection";lr(t,e),ur(t,jr)}function jr(){Fr=En.onunhandledrejection,En.onunhandledrejection=function(e){return dr("unhandledrejection",e),!(Fr&&!Fr.__SENTRY_LOADER__)||Fr.apply(this,arguments)},En.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ur=xn();const Hr=En;let zr;function qr(e){const t="history";lr(t,e),ur(t,Wr)}function Wr(){if(!function(){const e=Ur.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ur&&!!Ur.history.pushState&&!!Ur.history.replaceState;return!t&&n}())return;const e=Hr.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=zr,t=String(n);zr=t;dr("history",{from:e,to:t})}return e.apply(this,t)}}Hr.onpopstate=function(...t){const n=Hr.location.href,r=zr;zr=n;if(dr("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Gn(Hr.history,"pushState",t),Gn(Hr.history,"replaceState",t)}const Gr=En,Vr="__sentry_xhr_v3__";function Yr(e){lr("xhr",e),ur("xhr",Kr)}function Kr(){if(!Gr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Gn(e,"open",(function(e){return function(...t){const n=Date.now(),r=an(t[0])?t[0].toUpperCase():void 0,s=function(e){if(an(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!s)return e.apply(this,t);this[Vr]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[Vr];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}dr("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Gn(this,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(this,t)}})):this.addEventListener("readystatechange",o),Gn(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,s=this[Vr];return s&&an(n)&&an(r)&&(s.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),Gn(e,"send",(function(e){return function(...t){const n=this[Vr];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return dr("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function Jr(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function Xr(){return"undefined"!=typeof window&&(!Jr()||void 0!==En.process&&"renderer"===En.process.type)}function Zr(e,t=100,n=1/0){try{return es("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Qr(e,t=3,n=102400){const r=Zr(e,t);return s=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?Qr(e,t-1,n):r;var s}function es(e,t,n=1/0,r=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,i]=s;if(null==t||["number","boolean","string"].includes(typeof t)&&!hn(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(fn(t))return"[VueViewModel]";if(un(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${ir(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(o(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return es("",l.toJSON(),c-1,r,s)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=Jn(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]="[MaxProperties ~]";break}const t=p[e];u[e]=es(e,t,c-1,r,s),d++}return i(t),u}var ts;function ns(e){return new ss((t=>{t(e)}))}function rs(e){return new ss(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(ts||(ts={}));class ss{constructor(e){ss.prototype.__init.call(this),ss.prototype.__init2.call(this),ss.prototype.__init3.call(this),ss.prototype.__init4.call(this),this._state=ts.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ss(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ss(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(ts.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ts.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===ts.PENDING&&(pn(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ts.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===ts.RESOLVED&&e[1](this._value),this._state===ts.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function os(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return rs(new Wn("Not adding Promise because buffer limit was reached."));const s=r();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new ss(((n,r)=>{let s=t.length;if(!s)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{ns(e).then((()=>{--s||(clearTimeout(o),n(!0))}),r)}))}))}}}function is(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const as=["fatal","error","warning","log","info","debug"];function cs(e){return"warn"===e?"warning":as.includes(e)?e:"log"}const ls=1e3;function us(){return Date.now()/ls}const ds=function(){const{performance:e}=En;if(!e||!e.now)return us;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/ls}(),ps=(()=>{const{performance:e}=En;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=e.timing&&e.timing.navigationStart,a="number"==typeof i?Math.abs(i+n-r):t;return o||a<t?s<=a?e.timeOrigin:i:r})(),hs="baggage",ms="sentry-",fs=/^sentry-/,gs=8192;function _s(e){if(!an(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=vs(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=vs(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(fs)){e[t.slice(ms.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function ys(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const s=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?s:`${e},${s}`;return o.length>gs?(Dn&&Bn.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${ms}${t}`]=n),e)),{}))}function vs(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const bs=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ss(e){if(!e)return;const t=e.match(bs);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ws(e,t){const n=Ss(e),r=_s(t),{traceId:s,parentSpanId:o,parentSampled:i}=n||{};return n?{traceId:s||hr(),parentSpanId:o||hr().substring(16),spanId:hr().substring(16),sampled:i,dsc:r||{}}:{traceId:s||hr(),spanId:hr().substring(16)}}function ks(e=hr(),t=hr().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ts(e,t=[]){return[e,t]}function Es(e,t){const[n,r]=e;return[n,[...r,t]]}function xs(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Cs(e,t){return(t||new TextEncoder).encode(e)}function Is(e,t){const[n,r]=e;let s=JSON.stringify(n);function o(e){"string"==typeof s?s="string"==typeof e?s+e:[Cs(s,t),e]:s.push("string"==typeof e?Cs(e,t):e)}for(const e of r){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Zr(n))}o(e)}}return"string"==typeof s?s:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(s)}function Rs(e,t){const n="string"==typeof e.data?Cs(e.data,t):e.data;return[Qn({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Ms={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function As(e){return Ms[e]}function Os(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ns(e,t,n,r){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Un(r)},...s&&{trace:Qn({...s})}}}const Ls=6e4;function Ds(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?Ls:r-t}function $s(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Ps(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n]=e.split(":",2),o=parseInt(t,10),i=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))s[e]=r+i;else s.all=r+i}else i?s.all=r+Ds(i,r):429===t&&(s.all=r+6e4);return s}function Fs(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=function(e,t){return e(t.stack||"",1)}(e,t);return r.length&&(n.stacktrace={frames:r}),n}function Bs(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}const js="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Us="production";function Hs(){return Cn("globalEventProcessors",(()=>[]))}function zs(e){Hs().push(e)}function qs(e,t,n,r=0){return new ss(((s,o)=>{const i=e[r];if(null===t||"function"!=typeof i)s(t);else{const a=i({...t},n);js&&i.id&&null===a&&Bn.log(`Event processor "${i.id}" dropped event`),pn(a)?a.then((t=>qs(e,t,n,r+1).then(s))).then(null,o):qs(e,a,n,r+1).then(s).then(null,o)}}))}function Ws(e){const t=ds(),n={sid:hr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Qn({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Gs(n,e),n}function Gs(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:hr()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Vs(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),Gs(e,n)}const Ys=1;function Ks(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,tags:a,origin:c}=Qs(e);return Qn({data:r,op:s,parent_span_id:o,span_id:t,status:i,tags:a,trace_id:n,origin:c})}function Js(e){const{traceId:t,spanId:n}=e.spanContext();return ks(t,n,eo(e))}function Xs(e){return"number"==typeof e?Zs(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Zs(e.getTime()):ds()}function Zs(e){return e>9999999999?e/1e3:e}function Qs(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function eo(e){const{traceFlags:t}=e.spanContext();return Boolean(t&Ys)}function to(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||hr(),timestamp:t.timestamp||us()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:Us);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==s&&(e.dist=s);e.message&&(e.message=gn(e.message,o));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=gn(i.value,o));const a=e.request;a&&a.url&&(a.url=gn(a.url,o))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),void 0===t.type&&function(e,t){const n=En._sentryDebugIds;if(!n)return;let r;const s=no.get(t);s?r=s:(r=new Map,no.set(t,r));const o=Object.keys(n).reduce(((e,s)=>{let o;const i=r.get(s);i?o=i:(o=t(s),r.set(s,o));for(let t=o.length-1;t>=0;t--){const r=o[t];if(r.filename){e[r.filename]=n[s];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new To;return n.update(t),n}(r,n.captureContext);n.mechanism&&_r(c,n.mechanism);const d=s&&s.getEventProcessors?s.getEventProcessors():[],p=function(){ko||(ko=new To);return ko}().getScopeData();if(o){So(p,o.getScopeData())}if(u){So(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),bo(c,p);return qs([...d,...Hs(),...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Zr(e.data,t,n)}})))},...e.user&&{user:Zr(e.user,t,n)},...e.contexts&&{contexts:Zr(e.contexts,t,n)},...e.extra&&{extra:Zr(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Zr(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=Qs(e).data;return r&&(e.data=Zr(r,t,n)),e})));return r}(e,i,a):e)))}const no=new WeakMap;function ro(e){if(e)return function(e){return e instanceof To||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>so.includes(e)))}(e)?{captureContext:e}:e}const so=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function oo(e,t){return Oo().captureException(e,ro(t))}function io(e,t){return Oo().captureEvent(e,t)}function ao(e,t){Oo().addBreadcrumb(e,t)}function co(e,t){Oo().setContext(e,t)}function lo(...e){const t=Oo();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function uo(){return Oo().getClient()}function po(){return Oo().getScope()}function ho(e){const t=uo(),n=No(),r=po(),{release:s,environment:o=Us}=t&&t.getOptions()||{},{userAgent:i}=En.navigator||{},a=Ws({release:s,environment:o,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&"ok"===c.status&&Gs(c,{status:"exited"}),mo(),n.setSession(a),r.setSession(a),a}function mo(){const e=No(),t=po(),n=t.getSession()||e.getSession();n&&Vs(n),fo(),e.setSession(),t.setSession()}function fo(){const e=No(),t=po(),n=uo(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function go(e=!1){e?mo():fo()}function _o(e){return e.transaction}function yo(e,t,n){const r=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:o}=n&&n.getUser()||{},i=Qn({environment:r.environment||Us,release:r.release,user_segment:o,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function vo(e){const t=uo();if(!t)return{};const n=yo(Qs(e).trace_id||"",t,po()),r=_o(e);if(!r)return n;const s=r&&r._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:o,source:i}=r.metadata;null!=o&&(n.sample_rate=`${o}`);const a=Qs(r);return i&&"url"!==i&&(n.transaction=a.description),n.sampled=String(eo(r)),t.emit&&t.emit("createDsc",n),n}function bo(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t,c=Qn(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=Qn(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=Qn(s);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=Qn(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});i&&(e.level=i);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Ks(t),...e.contexts};const n=_o(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:vo(t),...e.sdkProcessingMetadata};const r=Qs(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?vr(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function So(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:m}=t;wo(e,"extra",n),wo(e,"tags",r),wo(e,"user",s),wo(e,"contexts",o),wo(e,"sdkProcessingMetadata",a),i&&(e.level=i),h&&(e.transactionName=h),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function wo(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let ko;class To{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Eo()}static clone(e){return e?e.clone():new To}clone(){const e=new To;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Gs(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof To){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(un(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Eo(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:us(),...e},s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>n?s.slice(-n):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:s,_user:o,_level:i,_fingerprint:a,_eventProcessors:c,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:s,user:o,level:i,fingerprint:a||[],eventProcessors:c,propagationContext:l,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){bo(e,this.getScopeData());return qs([...n,...Hs(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:hr();if(!this._client)return Bn.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:hr();if(!this._client)return Bn.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:hr();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Bn.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Eo(){return{traceId:hr(),spanId:hr().substring(16)}}const xo="7.107.0",Co=parseFloat(xo),Io=100;class Ro{constructor(e,t,n,r=Co){let s,o;this._version=r,t?s=t:(s=new To,s.setClient(e)),n?o=n:(o=new To,o.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return pn(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:hr(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:hr(),s=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:hr();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Io}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const i={timestamp:us(),...e},a=s?Fn((()=>s(i,t))):i;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Ao(this);try{e(this)}finally{Ao(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return js&&Bn.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(js&&!n){this.getClient()?Bn.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Bn.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&Vs(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:s=Us}=n&&n.getOptions()||{},{userAgent:o}=En.navigator||{},i=Ws({release:r,environment:s,user:t.getUser(),...o&&{userAgent:o},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&Gs(a,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Mo().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);js&&Bn.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Mo(){return En.__SENTRY__=En.__SENTRY__||{extensions:{},hub:void 0},En}function Ao(e){const t=Mo(),n=Do(t);return $o(t,e),n}function Oo(){const e=Mo();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Mo()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!Do(e).isOlderThan(Co)||$o(e,new Ro);var t;return Do(e)}(e)}function No(){return Oo().getIsolationScope()}function Lo(e,t={}){const n=Mo();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function Do(e){return Cn("hub",(()=>new Ro),e)}function $o(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function Po(e){return(e||Oo()).getScope().getTransaction()}const Fo=Ss;let Bo=!1;function jo(){const e=Po();if(e){const t="internal_error";js&&Bn.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var Uo;function Ho(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}jo.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(Uo||(Uo={}));const zo=Ho;function qo(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Ho(t);"unknown_error"!==n&&e.setStatus(n)}function Wo(e,t,n=(()=>{})){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(pn(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function Go(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=uo(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Vo(e){if(!Go())return;const t=Jo(e),n=Oo(),r=e.scope?e.scope.getSpan():Yo();if(e.onlyIfParent&&!r)return;const s=(e.scope||po()).clone();return Ko(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:s})}function Yo(){return po().getSpan()}function Ko(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:s}){if(!Go())return;const o=No();let i;if(t&&!r)i=t.startChild(n);else if(t){const r=vo(t),{traceId:s,spanId:o}=t.spanContext(),a=eo(t);i=e.startTransaction({traceId:s,parentSpanId:o,parentSampled:a,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:a,sampled:c}={...o.getPropagationContext(),...s.getPropagationContext()};i=e.startTransaction({traceId:t,parentSpanId:a,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return s.setSpan(i),function(e,t,n){e&&(Vn(e,Zo,n),Vn(e,Xo,t))}(i,s,o),i}function Jo(e){if(e.startTime){const t={...e};return t.startTimestamp=Xs(e.startTime),delete t.startTime,t}return e}const Xo="_sentryScope",Zo="_sentryIsolationScope";let Qo;function ei(e){return Qo?Qo.get(e):void 0}function ti(e){const t=ei(e);if(!t)return;const n={};for(const[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(Qn(r));return n}const ni="sentry.source",ri="sentry.sample_rate",si="sentry.op",oi="sentry.origin";class ii{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class ai{constructor(e={}){this._traceId=e.traceId||hr(),this._spanId=e.spanId||hr().substring(16),this._startTime=e.startTimestamp||ds(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[oi]:e.origin||"manual",[si]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[si]}set op(e){this.setAttribute(si,e)}get origin(){return this._attributes[oi]}set origin(e){this.setAttribute(oi,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?Ys:0}}startChild(e){const t=new ai({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=_o(this);if(t.transaction=n,js&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${Qs(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;Bn.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return qo(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=_o(this);if(js&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&Bn.log(e.replace("Starting","Finishing"))}this._endTime=Xs(e)}toTraceparent(){return Js(this)}toContext(){return Qn({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return Ks(this)}getSpanJSON(){return Qn({data:this._getData(),description:this._name,op:this._attributes[si],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[oi],_metrics_summary:ti(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class ci extends ai{constructor(e,t){super(e),this._contexts={},this._hub=t||Oo(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[ni]&&{source:this._attributes[ni]},...this._attributes[ri]&&{sampleRate:this._attributes[ri]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(ni,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new ii(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=Xs(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return Qn({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return vo(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(js&&Bn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return js&&Bn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&Qs(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>Qs(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:s}={scope:(o=this)[Xo],isolationScope:o[Zo]};var o;const{metadata:i}=this,{source:a}=i,c={contexts:{...this._contexts,trace:Ks(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...i,capturedSpanScope:r,capturedSpanIsolationScope:s,...Qn({dynamicSamplingContext:vo(this)})},_metrics_summary:ti(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(js&&Bn.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),js&&Bn.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const li={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},ui=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class di extends ii{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===Qs(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class pi extends ci{constructor(e,t,n=li.idleTimeout,r=li.finalTimeout,s=li.heartbeatInterval,o=!1,i=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=ui[4],this._autoFinishAllowed=!i,o&&(js&&Bn.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),i||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=ui[3],this.end())}),this._finalTimeout)}end(e){const t=Xs(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){js&&Bn.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;Qs(e).timestamp||(e.setStatus("cancelled"),e.end(t),js&&Bn.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=Qs(e),s=n&&n<t,o=(this._finalTimeout+this._idleTimeout)/1e3,i=r&&n&&r-n<o;if(js){const t=JSON.stringify(e,void 0,2);s?i||Bn.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):Bn.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return s&&i})),js&&Bn.log("[Tracing] flushing IdleTransaction")}else js&&Bn.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new di(t,n,this.spanContext().spanId,e),js&&Bn.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=ui[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(js&&Bn.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=ui[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),js&&Bn.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,js&&Bn.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(js&&Bn.log(`[Tracing] popActivity ${e}`),delete this.activities[e],js&&Bn.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=ds();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=ui[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(js&&Bn.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=ui[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){js&&Bn.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function hi(e,t,n){if(!Go(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(ri,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(ri,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(ri,Number(r))):(r=1,e.setAttribute(ri,r)),mi(r)?r?(e.sampled=Math.random()<r,e.sampled?(js&&Bn.log(`[Tracing] starting ${e.op} transaction - ${Qs(e).description}`),e):(js&&Bn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(js&&Bn.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(js&&Bn.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function mi(e){return hn(e)||"number"!=typeof e&&"boolean"!=typeof e?(js&&Bn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(js&&Bn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function fi(){const e=this.getScope().getSpan();return e?{"sentry-trace":Js(e)}:{}}function gi(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},s=r.instrumenter||"sentry",o=e.instrumenter||"sentry";s!==o&&(js&&Bn.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${s}\` instrumenter.\nThe transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let i=new ci(e,this);return i=hi(i,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),i.isRecording()&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",i),i}function _i(e,t,n,r,s,o,i,a=!1){const c=e.getClient(),l=c&&c.getOptions()||{};let u=new pi(t,e,n,r,i,s,a);return u=hi(u,l,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...o}),u.isRecording()&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function yi(){const e=Mo();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=gi),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=fi),Bo||(Bo=!0,$r(jo),Br(jo)))}function vi(e,t,n){const r=Po();r&&r.setMeasurement(e,t,n)}function bi(e,t,n,r){const s=Os(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=Ns(e,s,r,t);delete e.sdkProcessingMetadata;return Ts(i,[[{type:o},e]])}const Si="7";function wi(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function ki(e,t){return n={sentry_key:e.publicKey,sentry_version:Si,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function Ti(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${wi(e)}${e.projectId}/envelope/`}(e)}?${ki(e,r)}`}const Ei=[];function xi(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?vr(n(t)):t;const s=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),o=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(s,(e=>"Debug"===e.name));if(-1!==o){const[e]=s.splice(o,1);s.push(e)}return s}function Ci(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ii(e,t,n){if(n[t.name])js&&Bn.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Ei.indexOf(t.name)&&(t.setupOnce(zs,Oo),Ei.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}js&&Bn.log(`Integration installed: ${t.name}`)}}function Ri(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}const Mi=/[^a-zA-Z0-9_/.-]+/g,Ai=/[^\w\d\s_:/@.{}[\]$-]+/g;function Oi(e,t,n,r){const s={sent_at:(new Date).toISOString()};n&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(s.dsn=Un(t));const o=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Ts(s,[o])}const Ni="Not capturing exception because it's already been captured.";class Li{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=qn(e.dsn):js&&Bn.warn("No DSN provided, client will not send events."),this._dsn){const t=Ti(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(yr(e))return void(js&&Bn.log(Ni));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let s=n&&n.event_id;const o=cn(e)?e:String(e),i=ln(e)?this.eventFromMessage(o,t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{s=e}))),s}captureEvent(e,t,n){if(t&&t.originalException&&yr(t.originalException))return void(js&&Bn.log(Ni));let r=t&&t.event_id;const s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,s||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?js&&Bn.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Gs(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):ns(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return js&&Bn.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Ii(this,e,this._integrations),t||Ci(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=bi(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Es(n,Rs(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const s=Os(n);return Ts({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Un(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;js&&Bn.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){js&&Bn.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=Oi(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Ii(e,t,n)})),n}(this,e),Ci(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const s=t.exception&&t.exception.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(Gs(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ss((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=No()){const s=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),to(s,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:s,parentSpanId:o,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:s,parent_span_id:o},...e.contexts};const a=i||yo(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(js){const t=e;"log"===t.logLevel?Bn.log(t.message):Bn.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:s}=r,o=$i(e),i=Di(e),a=e.type||"error",c=`before send for type \`${a}\``;if(i&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),rs(new Wn(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const l="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new Wn("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const s=function(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(Di(t)&&r)return r(t,n);if($i(t)&&s)return s(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(pn(e))return e.then((e=>{if(!un(e)&&null!==e)throw new Wn(n);return e}),(e=>{throw new Wn(`${t} rejected with ${e}`)}));if(!un(e)&&null!==e)throw new Wn(n);return e}(s,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",l,e),new Wn(`${c} returned \`null\`, will not send event.`,"log");const s=n&&n.getSession();!o&&s&&this._updateSessionFromEvent(s,r);const i=r.transaction_info;if(o&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof Wn)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Wn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{js&&Bn.error("Error while sending event:",e)}));js&&Bn.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function Di(e){return void 0===e.type}function $i(e){return"transaction"===e.type}function Pi(e){const t=uo();t&&t.addEventProcessor&&t.addEventProcessor(e)}const Fi={c:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},g:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},d:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},s:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};function Bi(e){const t=Oo().getStackTop();t.client=e,t.scope.setClient(e)}const ji=30;function Ui(e,t,n=os(e.bufferSize||ji)){let r={};function s(s){const o=[];if(xs(s,((t,n)=>{const s=As(n);if($s(r,s)){const r=Hi(t,n);e.recordDroppedEvent("ratelimit_backoff",s,r)}else o.push(t)})),0===o.length)return ns();const i=Ts(s[0],o),a=t=>{xs(i,((n,r)=>{const s=Hi(n,r);e.recordDroppedEvent(t,As(r),s)}))};return n.add((()=>t({body:Is(i,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&js&&Bn.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Ps(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Wn)return js&&Bn.error("Skipped sending event because buffer is full."),a("queue_overflow"),ns();throw e}))}return s.__sentry__baseTransport__=!0,{send:s,flush:e=>n.drain(e)}}function Hi(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const zi=100,qi=5e3,Wi=36e5;function Gi(e,t){js&&Bn.info(`[Offline]: ${e}`,t)}function Vi(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let s,o=qi;function i(e,n,r){return s=["replay_event","replay_recording","client_report"],!xs(e,((e,t)=>s.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var s}function a(e){r&&(s&&clearTimeout(s),s=setTimeout((async()=>{s=void 0;const e=await r.pop();e&&(Gi("Attempting to send previously queued event"),l(e).catch((e=>{Gi("Failed to retry sending",e)})))}),e),"number"!=typeof s&&s.unref&&s.unref())}function c(){s||(a(o),o=Math.min(2*o,Wi))}async function l(e){try{const t=await n.send(e);let r=zi;if(t)if(t.headers&&t.headers["retry-after"])r=Ds(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return a(r),o=qi,t}catch(t){if(r&&await i(e,t,o))return await r.insert(e),c(),Gi("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&c(),{send:l,flush:e=>n.flush(e)}}}function Yi(e,t){let n;return xs(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function Ki(e){return[{type:"span"},e]}function Ji(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),s=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return Xi(e)===Xi(t)}(e,s)}function Xi(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const Zi=new Map,Qi=new Set;function ea(e,t){return function(e){if(En._sentryModuleMetadata)for(const t of Object.keys(En._sentryModuleMetadata)){const n=En._sentryModuleMetadata[t];if(Qi.has(t))continue;Qi.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){Zi.set(e.filename,n);break}}}(e),Zi.get(t)}const ta="ModuleMetadata",na=()=>({name:ta,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{xs(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=ea(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)}),ra=Ri(ta,na),sa=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],oa=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],ia="InboundFilters",aa=(e={})=>({name:ia,setupOnce(){},processEvent(t,n,r){const s=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:sa],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:oa],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,s);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return js&&Bn.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${fr(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));js&&0===t.length&&Bn.error(`Could not extract message for event ${fr(e)}`);return t}(e).some((e=>vn(e,t)))}(e,t.ignoreErrors))return js&&Bn.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${fr(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&vn(n,t)}(e,t.ignoreTransactions))return js&&Bn.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${fr(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=la(e);return!!n&&vn(n,t)}(e,t.denyUrls))return js&&Bn.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${fr(e)}.\nUrl: ${la(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=la(e);return!n||vn(n,t)}(e,t.allowUrls))return js&&Bn.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${fr(e)}.\nUrl: ${la(e)}`),!0;return!1}(t,o)?null:t}}),ca=Ri(ia,aa);function la(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return js&&Bn.error(`Cannot extract url for event ${fr(e)}`),null}}let ua;const da="FunctionToString",pa=new WeakMap,ha=()=>({name:da,setupOnce(){ua=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Kn(this),n=pa.has(uo())&&void 0!==t?t:this;return ua.apply(n,e)}}catch(e){}},setup(e){pa.set(e,!0)}}),ma=Ri(da,ha),fa="LinkedErrors",ga=Ri(fa,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:fa,setupOnce(){},preprocessEvent(e,r,s){const o=s.getOptions();bn(Fs,o.stackParser,o.maxValueLength,n,t,e,r)}}}));var _a=Object.freeze({__proto__:null,FunctionToString:ma,InboundFilters:ca,LinkedErrors:ga});class ya{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",s={},o=ds()){const i=Math.floor(o),a=t.replace(Mi,"_"),c=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n.replace(Mi,"_")]=String(e[n]).replace(Ai,""));return t}(s),l=function(e,t,n,r){return`${e}${t}${n}${Object.entries(Qn(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,a,r,c);let u=this._buckets.get(l);const d=u&&"s"===e?u.metric.weight:0;u?(u.metric.add(n),u.timestamp<i&&(u.timestamp=i)):(u={metric:new Fi[e](n),timestamp:i,metricType:e,name:a,unit:r,tags:c},this._buckets.set(l,u));!function(e,t,n,r,s,o){const i=Yo();if(i){const a=ei(i)||new Map,c=`${e}:${t}@${r}`,l=a.get(o);if(l){const[,e]=l;a.set(o,[c,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else a.set(o,[c,{min:n,max:n,count:1,sum:n,tags:s}]);Qo||(Qo=new WeakMap),Qo.set(i,a)}}(e,a,"string"==typeof n?u.metric.weight-d:n,r,s,l)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const va="MetricsAggregator",ba=()=>({name:va,setupOnce(){},setup(e){e.metricsAggregator=new ya(e)}});function Sa(e,t,n,r={}){const s=uo(),o=po();if(s){if(!s.metricsAggregator)return void(js&&Bn.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:i,tags:a,timestamp:c}=r,{release:l,environment:u}=s.getOptions(),d=o.getTransaction(),p={};l&&(p.release=l),u&&(p.environment=u),d&&(p.transaction=Qs(d).description||""),js&&Bn.log(`Adding value of ${n} to ${e} metric ${t}`),s.metricsAggregator.add(e,t,n,i,{...p,...a},c)}}const wa={increment:function(e,t=1,n){Sa("c",e,t,n)},distribution:function(e,t,n){Sa("d",e,t,n)},set:function(e,t,n){Sa("s",e,t,n)},gauge:function(e,t,n){Sa("g",e,t,n)},MetricsAggregator:Ri(va,ba),metricsAggregatorIntegration:ba},ka=_a,Ta="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ea=En;function xa(){Ea&&Ea.document?Ea.document.addEventListener("visibilitychange",(()=>{const e=Po();if(Ea.document.hidden&&e){const t="cancelled",{op:n,status:r}=Qs(e);Ta&&Bn.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Ta&&Bn.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Ca=(e,t,n)=>{let r,s;return o=>{t.value>=0&&(o||n)&&(s=t.value-(r||0),(s||void 0===r)&&(r=t.value,t.delta=s,e(t)))}},Ia=()=>Ea.__WEB_VITALS_POLYFILL__?Ea.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Ea.performance.timing,t=Ea.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Ea.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ra=()=>{const e=Ia();return e&&e.activationStart||0},Ma=(e,t)=>{const n=Ia();let r="navigate";return n&&(r=Ea.document.prerendering||Ra()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Aa=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Oa=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Ea.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Na=e=>{const t=Ma("CLS",0);let n,r=0,s=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const o=s[0],i=s[s.length-1];r&&0!==s.length&&e.startTime-i.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,s.push(e)):(r=e.value,s=[e]),r>t.value&&(t.value=r,t.entries=s,n&&n())}}))},i=Aa("layout-shift",o);if(i){n=Ca(e,t);const r=()=>{o(i.takeRecords()),n(!0)};return Oa(r),r}};let La=-1;const Da=()=>(La<0&&(La="hidden"!==Ea.document.visibilityState||Ea.document.prerendering?1/0:0,Oa((({timeStamp:e})=>{La=e}),!0)),{get firstHiddenTime(){return La}}),$a=e=>{const t=Da(),n=Ma("FID");let r;const s=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},o=e=>{e.forEach(s)},i=Aa("first-input",o);r=Ca(e,n),i&&Oa((()=>{o(i.takeRecords()),i.disconnect()}),!0)};let Pa=0,Fa=1/0,Ba=0;const ja=e=>{e.forEach((e=>{e.interactionId&&(Fa=Math.min(Fa,e.interactionId),Ba=Math.max(Ba,e.interactionId),Pa=Ba?(Ba-Fa)/7+1:0)}))};let Ua;const Ha=()=>{"interactionCount"in performance||Ua||(Ua=Aa("event",ja,{type:"event",buffered:!0,durationThreshold:0}))},za=()=>Ua?Pa:performance.interactionCount||0,qa=[],Wa={},Ga=e=>{const t=qa[qa.length-1],n=Wa[e.interactionId];if(n||qa.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};Wa[t.id]=t,qa.push(t)}qa.sort(((e,t)=>t.latency-e.latency)),qa.splice(10).forEach((e=>{delete Wa[e.id]}))}},Va=(e,t)=>{t=t||{},Ha();const n=Ma("INP");let r;const s=e=>{e.forEach((e=>{if(e.interactionId&&Ga(e),"first-input"===e.entryType){!qa.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&Ga(e)}}));const t=(()=>{const e=Math.min(qa.length-1,Math.floor(za()/50));return qa[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},o=Aa("event",s,{durationThreshold:t.durationThreshold||40});r=Ca(e,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Oa((()=>{s(o.takeRecords()),n.value<0&&za()>0&&(n.value=0,n.entries=[]),r(!0)})))},Ya={},Ka=e=>{const t=Da(),n=Ma("LCP");let r;const s=e=>{const s=e[e.length-1];if(s){const e=Math.max(s.startTime-Ra(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[s],r())}},o=Aa("largest-contentful-paint",s);if(o){r=Ca(e,n);const t=()=>{Ya[n.id]||(s(o.takeRecords()),o.disconnect(),Ya[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),Oa(t,!0),t}},Ja={},Xa={};let Za,Qa,ec,tc;function nc(e,t=!1){return lc("lcp",e,ac,ec,t)}function rc(e,t){return uc(e,t),Xa[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Aa(e,(t=>{sc(e,{entries:t})}),t)}(e),Xa[e]=!0),dc(e,t)}function sc(e,t){const n=Ja[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Ta&&Bn.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ir(r)}\nError:`,t)}}function oc(){return Na((e=>{sc("cls",{metric:e}),Za=e}))}function ic(){return $a((e=>{sc("fid",{metric:e}),Qa=e}))}function ac(){return Ka((e=>{sc("lcp",{metric:e}),ec=e}))}function cc(){return Va((e=>{sc("inp",{metric:e}),tc=e}))}function lc(e,t,n,r,s=!1){let o;return uc(e,t),Xa[e]||(o=n(),Xa[e]=!0),r&&t({metric:r}),dc(e,t,s?o:void 0)}function uc(e,t){Ja[e]=Ja[e]||[],Ja[e].push(t)}function dc(e,t,n){return()=>{n&&n();const r=Ja[e];if(!r)return;const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}function pc(e){return"number"==typeof e&&isFinite(e)}function hc(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const mc=2147483647;function fc(e){return e/1e3}function gc(){return Ea&&Ea.addEventListener&&Ea.performance}let _c,yc,vc=0,bc={};function Sc(){const e=gc();if(e&&ps){e.mark&&Ea.performance.mark("sentry-tracing-init");const t=lc("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=fc(ps),r=fc(t.startTime);Ta&&Bn.log("[Measurements] Adding FID"),bc.fid={value:e.value,unit:"millisecond"},bc["mark.fid"]={value:n+r,unit:"second"}}),ic,Qa),n=function(e,t=!1){return lc("cls",e,oc,Za,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ta&&Bn.log("[Measurements] Adding CLS"),bc.cls={value:e.value,unit:""},yc=t)}),!0),r=nc((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Ta&&Bn.log("[Measurements] Adding LCP"),bc.lcp={value:e.value,unit:"millisecond"},_c=t)}),!0);return()=>{t(),n(),r()}}return()=>{}}function wc(){rc("longtask",(({entries:e})=>{for(const t of e){const e=Po();if(!e)return;const n=fc(ps+t.startTime),r=fc(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}))}function kc(){rc("event",(({entries:e})=>{for(const t of e){const e=Po();if(!e)return;if("click"===t.name){const n=fc(ps+t.startTime),r=fc(t.duration),s={description:Mn(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},o=Ln(t.target);o&&(s.attributes={"ui.component_name":o}),e.startChild(s)}}}))}function Tc(e){if(gc()&&ps){const t=function(e){return t=({metric:t})=>{const n=t.entries.find((e=>"click"===e.name||"pointerdown"===e.name)),r=uo();if(!n||!r)return;const s=r.getOptions(),o=fc(ps+n.startTime),i=fc(t.value),{routeName:a,parentContext:c,activeTransaction:l,user:u,replayId:d}=void 0!==n.interactionId?e[n.interactionId]:{routeName:void 0,parentContext:void 0,activeTransaction:void 0,user:void 0,replayId:void 0},p=void 0!==u?u.email||u.id||u.ip_address:void 0,h=void 0!==l?l.getProfileId():void 0,m=new ai({startTimestamp:o,endTimestamp:o+i,op:"ui.interaction.click",name:Mn(n.target),attributes:{release:s.release,environment:s.environment,transaction:a,...void 0!==p&&""!==p?{user:p}:{},...void 0!==h?{profile_id:h}:{},...void 0!==d?{replay_id:d}:{}},exclusiveTime:t.value,measurements:{inp:{value:t.value,unit:"millisecond"}}}),f=function(e,t){if(!Go(t))return!1;let n;return n=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Ea.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,mi(n)?n:(Ta&&Bn.warn("[Tracing] Discarding transaction because of invalid sample rate."),!1)}(c,s);if(f&&Math.random()<f){const e=m?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=Un(t)),Ts(n,e.map(Ki))}([m],r.getDsn()):void 0,t=r&&r.getTransport();t&&e&&t.send(e).then(null,(e=>{Ta&&Bn.error("Error while sending interaction:",e)}))}},lc("inp",t,cc,tc);var t}(e);return()=>{t()}}return()=>{}}function Ec(e){const t=gc();if(!t||!Ea.performance.getEntries||!ps)return;Ta&&Bn.log("[Tracing] Adding & adjusting spans using Performance API");const n=fc(ps),r=t.getEntries();let s,o;const{op:i,start_timestamp:a}=Qs(e);if(r.slice(vc).forEach((t=>{const r=fc(t.startTime),i=fc(t.duration);if(!("navigation"===e.op&&a&&n+r<a))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{xc(e,t,r,n)})),xc(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),xc(e,t,"fetch",n,"cache","domainLookupStart"),xc(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(hc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+fc(t.requestStart),endTimestamp:n+fc(t.responseEnd)}),hc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+fc(t.responseStart),endTimestamp:n+fc(t.responseEnd)}))}(e,t,n)}(e,t,n),s=n+fc(t.responseStart),o=n+fc(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,s){const o=s+n,i=o+r;hc(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})}(e,t,r,i,n);const s=Da(),o=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&o&&(Ta&&Bn.log("[Measurements] Adding FP"),bc.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(Ta&&Bn.log("[Measurements] Adding FCP"),bc.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,s,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=is(n),a={};Cc(a,t,"transferSize","http.response_transfer_size"),Cc(a,t,"encodedBodySize","http.response_content_length"),Cc(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop());i.host&&(a["server.address"]=i.host);a["url.same_origin"]=n.includes(Ea.location.origin);const c=o+r,l=c+s;hc(e,{description:n.replace(Ea.location.origin,""),endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}(e,t,t.name,r,i,n)}})),vc=Math.max(r.length-1,0),function(e){const t=Ea.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),pc(n.rtt)&&(bc["connection.rtt"]={value:n.rtt,unit:"millisecond"}));pc(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);pc(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===i){!function(e,t,n,r){"number"==typeof t&&r&&(Ta&&Bn.log("[Measurements] Adding TTFB"),e.ttfb={value:1e3*Math.max(t-r,0),unit:"millisecond"},"number"==typeof n&&n<=t&&(e["ttfb.requestTime"]={value:1e3*(t-n),unit:"millisecond"}))}(bc,s,o,a),["fcp","fp","lcp"].forEach((e=>{if(!bc[e]||!a||n>=a)return;const t=bc[e].value,r=n+fc(t),s=Math.abs(1e3*(r-a)),o=s-t;Ta&&Bn.log(`[Measurements] Normalized ${e} from ${t} to ${s} (${o})`),bc[e].value=s}));const t=bc["mark.fid"];t&&bc.fid&&(hc(e,{description:"first input delay",endTimestamp:t.value+fc(bc.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete bc["mark.fid"]),"fcp"in bc||delete bc.cls,Object.keys(bc).forEach((e=>{vi(e,bc[e].value,bc[e].unit)})),function(e){_c&&(Ta&&Bn.log("[Measurements] Adding LCP Data"),_c.element&&e.setTag("lcp.element",Mn(_c.element)),_c.id&&e.setTag("lcp.id",_c.id),_c.url&&e.setTag("lcp.url",_c.url.trim().slice(0,200)),e.setTag("lcp.size",_c.size));yc&&yc.sources&&(Ta&&Bn.log("[Measurements] Adding CLS Data"),yc.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,Mn(t.node)))))}(e)}_c=void 0,yc=void 0,bc={}}function xc(e,t,n,r,s,o){const i=o?t[o]:t[`${n}End`],a=t[`${n}Start`];a&&i&&hc(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||n,startTimestamp:r+fc(a),endTimestamp:r+fc(i)})}function Cc(e,t,n,r){const s=t[n];null!=s&&s<mc&&(e[r]=s)}function Ic(e,t,n,r,s="auto.http.browser"){if(!Go()||!e.fetchData)return;const o=t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=r[t];if(n){if(e.response){qo(n,e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){const e=parseInt(t);e>0&&n.setAttribute("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.end(),delete r[t]}return}const i=po(),a=uo(),{method:c,url:l}=e.fetchData,u=o?Vo({name:`${c} ${l}`,onlyIfParent:!0,attributes:{url:l,type:"fetch","http.method":c,[oi]:s},op:"http.client"}):void 0;if(u&&(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,s){const o=s||n.getSpan(),i=No(),{traceId:a,spanId:c,sampled:l,dsc:u}={...i.getPropagationContext(),...n.getPropagationContext()},d=o?Js(o):ks(a,c,l),p=ys(u||(o?vo(o):yo(a,t,n))),h=r.headers||("undefined"!=typeof Request&&mn(e,Request)?e.headers:void 0);if(h){if("undefined"!=typeof Headers&&mn(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",d),p&&e.append(hs,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",d]];return p&&e.push([hs,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,a,i,n,u)}return u}const Rc=["localhost",/^\/(?!\/)/],Mc={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Rc,tracePropagationTargets:Rc};function Ac(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i}={traceFetch:Mc.traceFetch,traceXHR:Mc.traceXHR,...e},a="function"==typeof o?o:e=>!0,c=e=>function(e,t){return vn(e,t||Rc)}(e,r||s),l={};t&&Ar((e=>{const t=Ic(e,a,c,l);i&&t&&Oc(t)})),n&&Yr((e=>{const t=function(e,t,n,r){const s=e.xhr,o=s&&s[Vr];if(!Go()||!s||s.__sentry_own_request__||!o)return;const i=t(o.url);if(e.endTimestamp&&i){const e=s.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(qo(t,o.status_code),t.end(),delete r[e]))}const a=po(),c=No(),l=i?Vo({name:`${o.method} ${o.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":o.method,url:o.url,[oi]:"auto.http.browser"},op:"http.client"}):void 0;l&&(s.__sentry_xhr_span_id__=l.spanContext().spanId,r[s.__sentry_xhr_span_id__]=l);const u=uo();if(s.setRequestHeader&&n(o.url)&&u){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...a.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(hs,n)}catch(e){}}(s,l?Js(l):ks(e,t,n),ys(r||(l?vo(l):yo(e,u,a))))}return l}(e,a,c,l);i&&t&&Oc(t)}))}function Oc(e){const{url:t}=Qs(e).data||{};if(!t||"string"!=typeof t)return;const n=rc("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const s of e){if("/"===s){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=s}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!ps)return r;return[...r,["http.request.redirect_start",Nc(e.redirectStart)],["http.request.fetch_start",Nc(e.fetchStart)],["http.request.domain_lookup_start",Nc(e.domainLookupStart)],["http.request.domain_lookup_end",Nc(e.domainLookupEnd)],["http.request.connect_start",Nc(e.connectStart)],["http.request.secure_connection_start",Nc(e.secureConnectionStart)],["http.request.connection_end",Nc(e.connectEnd)],["http.request.request_start",Nc(e.requestStart)],["http.request.response_start",Nc(e.responseStart)],["http.request.response_end",Nc(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function Nc(e=0){return((ps||performance.timeOrigin)+e)/1e3}const Lc={...li,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Ea||!Ea.location)return void(Ta&&Bn.warn("Could not initialize routing instrumentation due to invalid location"));let r,s=Ea.location.href;t&&(r=e({name:Ea.location.pathname,startTimestamp:ps?ps/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&qr((({to:t,from:n})=>{void 0===n&&s&&-1!==s.indexOf(t)?s=void 0:n!==t&&(s=void 0,r&&(Ta&&Bn.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:Ea.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,_experiments:{},...Mc};function Dc(e){const t=Nn(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function $c(e){const t=e.attributes&&e.attributes[ni],n=e.data&&e.data[ni],r=e.metadata&&e.metadata.source;return t||n||r}function Pc(e){return"duration"in e}const Fc={...li,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{},...Mc};function Bc(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=Yo();return"pageload"===(n&&Qs(n).op)?n:void 0}function jc(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=Yo();return"navigation"===(n&&Qs(n).op)?n:void 0}function Uc(e){const t=Nn(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Hc(e){return"duration"in e}const zc=10;function qc(e){const t=e.attributes&&e.attributes[ni],n=e.data&&e.data[ni],r=e.metadata&&e.metadata.source;return t||n||r}const Wc=En;let Gc=0;function Vc(){return Gc>0}function Yc(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(Kn(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const s=r.map((e=>Yc(e,t)));return e.apply(this,s)}catch(e){throw Gc++,setTimeout((()=>{Gc--})),lo((n=>{n.addEventProcessor((e=>(t.mechanism&&(gr(e,void 0,void 0),_r(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),oo(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}Yn(r,e),Vn(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const Kc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Jc(e,t){const n=Zc(e,t),r={type:t&&t.name,value:el(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Xc(e,t){return{exception:{values:[Jc(e,t)]}}}function Zc(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Qc.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Qc=/Minified React error #\d+;/i;function el(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function tl(e,t,n,r){const s=rl(e,t,n&&n.syntheticException||void 0,r);return _r(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),ns(s)}function nl(e,t,n="info",r,s){const o=sl(e,t,r&&r.syntheticException||void 0,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),ns(o)}function rl(e,t,n,r,s){let o;if(sn(t)&&t.error){return Xc(e,t.error)}if(on(t)||rn(t,"DOMException")){const s=t;if("stack"in t)o=Xc(e,t);else{const t=s.name||(on(s)?"DOMError":"DOMException"),i=s.message?`${t}: ${s.message}`:t;o=sl(e,i,n,r),gr(o,i)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}if(nn(t))return Xc(e,t);if(un(t)||dn(t)){return o=function(e,t,n,r){const s=uo(),o=s&&s.getOptions().normalizeDepth,i={exception:{values:[{type:dn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ol(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Qr(t,o)}};if(n){const t=Zc(e,n);t.length&&(i.exception.values[0].stacktrace={frames:t})}return i}(e,t,n,s),_r(o,{synthetic:!0}),o}return o=sl(e,t,n,r),gr(o,`${t}`,void 0),_r(o,{synthetic:!0}),o}function sl(e,t,n,r){const s={};if(r&&n){const r=Zc(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(cn(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function ol(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(Jn(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return gn(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:gn(r,t)}return""}(e),r=t?"promise rejection":"exception";if(sn(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(dn(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function il(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Un(r)}},o=function(e){return[{type:"user_report"},e]}(e);return Ts(s,[o])}class al extends Li{constructor(e){!function(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:xo}))),version:xo}),e._metadata=s}(e,"browser",["browser"],Wc.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Wc.document&&Wc.document.addEventListener("visibilitychange",(()=>{"hidden"===Wc.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return tl(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return nl(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Kc&&Bn.warn("SDK not enabled, will not capture user feedback."));const t=il(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(Kc&&Bn.log("No outcomes to send"));if(!this._dsn)return void(Kc&&Bn.log("No dsn provided, will not send outcomes"));Kc&&Bn.log("Sending outcomes:",e);const t=(n=e,Ts((r=this._options.tunnel&&Un(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||us(),discarded_events:n}]]));var n,r,s;this._sendEnvelope(t)}}let cl;function ll(e,t=function(){if(cl)return cl;if(Mr(Wc.fetch))return cl=Wc.fetch.bind(Wc);const e=Wc.document;let t=Wc.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){Kc&&Bn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return cl=t.bind(Wc)}()){let n=0,r=0;return Ui(e,(function(s){const o=s.body.length;n+=o,r++;const i={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,i).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return cl=void 0,n-=o,r--,rs(e)}}))}const ul=4;function dl(e){return Ui(e,(function(t){return new ss(((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{s.readyState===ul&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&s.setRequestHeader(t,e.headers[t]);s.send(t.body)}))}))}const pl="?";function hl(e,t,n,r){const s={filename:e,function:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const ml=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fl=/\((\S*)(?::(\d+))(?::(\d+))\)/,gl=[30,e=>{const t=ml.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=fl.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Il(t[1]||pl,t[2]);return hl(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],_l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,yl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vl=[50,e=>{const t=_l.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=yl.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||pl;return[n,e]=Il(n,e),hl(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],bl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Sl=[40,e=>{const t=bl.exec(e);return t?hl(t[2],t[1]||pl,+t[3],t[4]?+t[4]:void 0):void 0}],wl=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,kl=[10,e=>{const t=wl.exec(e);return t?hl(t[2],t[3]||pl,+t[1]):void 0}],Tl=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,El=[20,e=>{const t=Tl.exec(e);return t?hl(t[5],t[3]||t[4]||pl,+t[1],+t[2]):void 0}],xl=[gl,vl,Sl],Cl=sr(...xl),Il=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:pl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Rl=1024,Ml="Breadcrumbs",Al=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ml,setupOnce(){},setup(e){t.console&&function(e){const t="console";lr(t,e),ur(t,pr)}(function(e){return function(t){if(uo()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:cs(t.level),message:_n(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${_n(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}ao(n,{input:t.args,level:t.level})}}(e)),t.dom&&Er(function(e,t){return function(n){if(uo()!==e)return;let r,s,o="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>Rl&&(Kc&&Bn.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=Rl),"string"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Mn(t,{keyAttrs:o,maxStringLength:i}),s=Ln(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),ao(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&Yr(function(e){return function(t){if(uo()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[Vr];if(!n||!r||!s)return;const{method:o,url:i,status_code:a,body:c}=s;ao({category:"xhr",data:{method:o,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&Ar(function(e){return function(t){if(uo()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){ao({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;ao({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&qr(function(e){return function(t){if(uo()!==e)return;let n=t.from,r=t.to;const s=is(Wc.location.href);let o=n?is(n):void 0;const i=is(r);o&&o.path||(o=s),s.protocol===i.protocol&&s.host===i.host&&(r=i.relative),s.protocol===o.protocol&&s.host===o.host&&(n=o.relative),ao({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){uo()===e&&ao({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:fr(t)},{event:t})}}(e))}}},Ol=Ri(Ml,Al);const Nl="Dedupe",Ll=()=>{let e;return{name:Nl,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Pl(e,t))return!1;if(!$l(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Fl(t),r=Fl(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Pl(e,t))return!1;if(!$l(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Kc&&Bn.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},Dl=Ri(Nl,Ll);function $l(e,t){let n=Bl(e),r=Bl(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],s=n[e];if(t.filename!==s.filename||t.lineno!==s.lineno||t.colno!==s.colno||t.function!==s.function)return!1}return!0}function Pl(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function Fl(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Bl(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const jl="GlobalHandlers",Ul=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:jl,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){$r((t=>{const{stackParser:n,attachStacktrace:r}=Wl();if(uo()!==e||Vc())return;const{msg:s,url:o,line:i,column:a,error:c}=t,l=void 0===c&&an(s)?function(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=sn(e)?e.message:e,i="Error";const a=o.match(s);a&&(i=a[1],o=a[2]);const c={exception:{values:[{type:i,value:o}]}};return zl(c,t,n,r)}(s,o,i,a):zl(rl(n,c||s,void 0,r,!1),o,i,a);l.level="error",io(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(e),ql("onerror")),t.onunhandledrejection&&(!function(e){Br((t=>{const{stackParser:n,attachStacktrace:r}=Wl();if(uo()!==e||Vc())return;const s=function(e){if(ln(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),o=ln(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:rl(n,s,void 0,r,!0);o.level="error",io(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),ql("onunhandledrejection"))}}},Hl=Ri(jl,Ul);function zl(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=an(t)&&t.length>0?t:On();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function ql(e){Kc&&Bn.log(`Global Handler attached: ${e}`)}function Wl(){const e=uo();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Gl="HttpContext",Vl=()=>({name:Gl,setupOnce(){},preprocessEvent(e){if(!Wc.navigator&&!Wc.location&&!Wc.document)return;const t=e.request&&e.request.url||Wc.location&&Wc.location.href,{referrer:n}=Wc.document||{},{userAgent:r}=Wc.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:s};e.request=o}}),Yl=Ri(Gl,Vl),Kl="LinkedErrors",Jl=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Kl,setupOnce(){},preprocessEvent(e,r,s){const o=s.getOptions();bn(Jc,o.stackParser,o.maxValueLength,n,t,e,r)}}},Xl=Ri(Kl,Jl),Zl=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ql="TryCatch",eu=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Ql,setupOnce(){t.setTimeout&&Gn(Wc,"setTimeout",nu),t.setInterval&&Gn(Wc,"setInterval",nu),t.requestAnimationFrame&&Gn(Wc,"requestAnimationFrame",ru),t.XMLHttpRequest&&"XMLHttpRequest"in Wc&&Gn(XMLHttpRequest.prototype,"send",su);const e=t.eventTarget;if(e){(Array.isArray(e)?e:Zl).forEach(ou)}}}},tu=Ri(Ql,eu);function nu(e){return function(...t){const n=t[0];return t[0]=Yc(n,{mechanism:{data:{function:ir(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ru(e){return function(t){return e.apply(this,[Yc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ir(e)},handled:!1,type:"instrument"}})])}}function su(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&Gn(n,e,(function(t){const n={mechanism:{data:{function:e,handler:ir(t)},handled:!1,type:"instrument"}},r=Kn(t);return r&&(n.mechanism.data.handler=ir(r)),Yc(t,n)}))})),e.apply(this,t)}}function ou(e){const t=Wc,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Gn(n,"addEventListener",(function(t){return function(n,r,s){try{"function"==typeof r.handleEvent&&(r.handleEvent=Yc(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ir(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Yc(r,{mechanism:{data:{function:"addEventListener",handler:ir(r),target:e},handled:!1,type:"instrument"}}),s])}})),Gn(n,"removeEventListener",(function(e){return function(t,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,s,r)}})))}const iu=[aa(),ha(),eu(),Al(),Ul(),Jl(),Ll(),Vl()];function au(e){return[...iu]}function cu(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=au()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Wc.SENTRY_RELEASE&&Wc.SENTRY_RELEASE.id&&(e.release=Wc.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Cl,Array.isArray(n)?sr(...n):n),integrations:xi(e),transport:e.transport||(Rr()?ll:dl)};var n;!function(e,t){!0===t.debug&&(js?Bn.enable():Fn((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),po().update(t.initialScope);const n=new e(t);Bi(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}(al,t),e.autoSessionTracking&&function(){if(void 0===Wc.document)return void(Kc&&Bn.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));ho({ignoreDuration:!0}),go(),qr((({from:e,to:t})=>{void 0!==e&&e!==t&&(ho({ignoreDuration:!0}),go())}))}()}var lu=Object.freeze({__proto__:null,GlobalHandlers:Hl,TryCatch:tu,Breadcrumbs:Ol,LinkedErrors:Xl,HttpContext:Yl,Dedupe:Dl});const uu=En,du="sentryReplaySession",pu="replay_event",hu="Unable to send Replay",mu=15e4,fu=5e3,gu=2e7,_u=36e5;function yu(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}var vu;function bu(e){const t=yu([e,"optionalAccess",e=>e.host]);return Boolean(yu([t,"optionalAccess",e=>e.shadowRoot])===e)}function Su(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function wu(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,ku).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function ku(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=wu(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(vu||(vu={}));class Tu{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=yu([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Eu({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function xu({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Cu(e){return e.toLowerCase()}function Iu(e){return e.toUpperCase()}const Ru="__rrweb_original__";function Mu(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Cu(t):null}function Au(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Ou=1;const Nu=new RegExp("[^a-z0-9-_:]"),Lu=-2;function Du(){return Ou++}let $u,Pu;const Fu=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Bu=/^(?:[a-z+]+:)?\/\//i,ju=/^www\..*/i,Uu=/^(data:)([^,]*),(.*)/i;function Hu(e,t){return(e||"").replace(Fu,((e,n,r,s,o,i)=>{const a=r||o||i,c=n||s||"";if(!a)return e;if(Bu.test(a)||ju.test(a))return`url(${c}${a}${c})`;if(Uu.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const l=t.split("/"),u=a.split("/");l.pop();for(const e of u)"."!==e&&(".."===e?l.pop():l.push(e));return`url(${c}${l.join("/")}${c})`}))}const zu=/^[^ \t\n\r\u000c]+/,qu=/^[, \t\n\r\u000c]+/;function Wu(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function Gu(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Vu(){const e=document.createElement("a");return e.href="",e.href}function Yu(e,t,n,r,s,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Wu(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const s=e.exec(t.substring(n));return s?(r=s[0],n+=r.length,r):""}const s=[];for(;r(qu),!(n>=t.length);){let o=r(zu);if(","===o.slice(-1))o=Wu(e,o.substring(0,o.length-1)),s.push(o);else{let r="";o=Wu(e,o);let i=!1;for(;;){const e=t.charAt(n);if(""===e){s.push((o+r).trim());break}if(i)")"===e&&(i=!1);else{if(","===e){n+=1,s.push((o+r).trim());break}"("===e&&(i=!0)}r+=e,n+=1}}}return s.join(", ")}(e,r):"style"===n?Hu(r,Vu()):"object"===t&&"data"===n?Wu(e,r):"function"==typeof o?o(n,r,s):r:Wu(e,r):r}function Ku(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Ju(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ju(e.parentNode,t,n,r+1):-1}function Xu(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function Zu(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===i)return!1;if("INPUT"===i.tagName){const e=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,c=-1;if(o){if(c=Ju(i,Xu(r,s)),c<0)return!0;a=Ju(i,Xu(t,n),c>=0?c:1/0)}else{if(a=Ju(i,Xu(t,n)),a<0)return!1;c=Ju(i,Xu(r,s),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!o}catch(e){}return!!o}function Qu(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:m={},maskTextFn:f,maskInputFn:g,dataURLOptions:_={},inlineImages:y,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:vu.Document,childNodes:[],compatMode:e.compatMode}:{type:vu.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:vu.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:m=!1,rootId:f,maskAllText:g,maskTextClass:_,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:b}=t,S=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,s,o),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=Cu(e.tagName);return Nu.test(t)?"div":t}(e);let k={};const T=e.attributes.length;for(let t=0;t<T;t++){const r=e.attributes[t];r.name&&!Ku(w,r.name,r.value)&&(k[r.name]=Yu(n,w,Cu(r.name),r.value,e,c))}if("link"===w&&i){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=wu(t)),r&&(delete k.rel,delete k.href,k._cssText=Hu(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=wu(e.sheet);t&&(k._cssText=Hu(t,Vu()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=Mu(t),r=Au(t,Iu(w),n),s=t.checked;if("submit"!==n&&"button"!==n&&r){const e=Zu(t,_,v,y,b,Eu({type:n,tagName:Iu(w),maskInputOptions:a}));k.value=xu({isMasked:e,element:t,value:r,maskInputFn:l})}s&&(k.checked=s)}"option"===w&&(e.selected&&!a.select?k.selected=!0:delete k.selected);if("canvas"===w&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const s=t.getImageData,o=Ru in s?s[Ru]:s;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(k.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(k.rr_dataURL=t)}if("img"===w&&d){$u||($u=n.createElement("canvas"),Pu=$u.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const s=()=>{t.removeEventListener("load",s);try{$u.width=t.naturalWidth,$u.height=t.naturalHeight,Pu.drawImage(t,0,0),k.rr_dataURL=$u.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?k.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?s():t.addEventListener("load",s)}"audio"!==w&&"video"!==w||(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime);m||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();k={class:k.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||h(k.src)||(e.contentDocument||(k.rr_src=k.src),delete k.src);let E;try{customElements.get(w)&&(E=!0)}catch(e){}return{type:vu.Element,tagName:w,attributes:k,childNodes:[],isSVG:Gu(e)||void 0,needBlock:S,rootId:f,isCustom:E}}(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:m,maskInputFn:g,dataURLOptions:_,inlineImages:y,recordCanvas:v,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,m="SCRIPT"===d||void 0,f="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||yu([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=wu(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=Hu(p,Vu())}m&&(p="SCRIPT_PLACEHOLDER");const g=Zu(e,r,o,s,i,n);h||m||f||!p||!g||(p=a?a(p):p.replace(/[\S]/g,"*"));f&&p&&(c.textarea||g)&&(p=l?l(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=xu({isMasked:Zu(e,r,o,s,i,Eu({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:l})}return{type:vu.Text,textContent:p||"",isStyle:h,rootId:u}}(e,{maskAllText:a,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:f,maskInputOptions:m,maskInputFn:g,rootId:w});case e.CDATA_SECTION_NODE:return{type:vu.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:vu.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function ed(e){return null==e?"":e.toLowerCase()}function td(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:m={},maskAttributeFn:f,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:C=(()=>!1),newlyAddedElement:I=!1}=t;let{preserveWhiteSpace:R=!0}=t;const M=Qu(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:_,dataURLOptions:v,inlineImages:b,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:I});if(!M)return console.warn(e,"not serialized"),null;let A;A=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===vu.Comment)return!0;if(e.type===vu.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ed(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ed(e.attributes.name)||"icon"===ed(e.attributes.rel)||"apple-touch-icon"===ed(e.attributes.rel)||"shortcut icon"===ed(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ed(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ed(e.attributes.property).match(/^(og|twitter|fb):/)||ed(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ed(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ed(e.attributes.name)||"googlebot"===ed(e.attributes.name)||"bingbot"===ed(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ed(e.attributes.name)||"generator"===ed(e.attributes.name)||"framework"===ed(e.attributes.name)||"publisher"===ed(e.attributes.name)||"progid"===ed(e.attributes.name)||ed(e.attributes.property).match(/^article:/)||ed(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ed(e.attributes.name)||"yandex-verification"===ed(e.attributes.name)||"csrf-token"===ed(e.attributes.name)||"p:domain_verify"===ed(e.attributes.name)||"verify-v1"===ed(e.attributes.name)||"verification"===ed(e.attributes.name)||"shopify-checkout-api-token"===ed(e.attributes.name)))return!0}}return!1}(M,y)&&(R||M.type!==vu.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?Du():Lu;const O=Object.assign(M,{id:A});if(r.add(e,O),A===Lu)return null;w&&w(e);let N=!p;if(O.type===vu.Element){N=N&&!O.needBlock,delete O.needBlock;const t=e.shadowRoot;t&&Su(t)&&(O.isShadowHost=!0)}if((O.type===vu.Document||O.type===vu.Element)&&N){y.headWhitespace&&O.type===vu.Element&&"head"===O.tagName&&(R=!1);const t={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:C};for(const n of Array.from(e.childNodes)){const e=td(n,t);e&&O.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=td(n,t);r&&(Su(e.shadowRoot)&&(r.isShadow=!0),O.childNodes.push(r))}}return e.parentNode&&bu(e.parentNode)&&Su(e.parentNode)&&(O.isShadow=!0),O.type===vu.Element&&"iframe"===O.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let s,o=!1;try{s=r.document.readyState}catch(e){return}if("complete"!==s){const r=setTimeout((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),o=!0,t()}))}const i="about:blank";if(r.location.href!==i||e.src===i||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&k){const n=td(t,{doc:t,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:C});n&&k(e,n)}}),T),O.type===vu.Element&&"link"===O.tagName&&"stylesheet"===O.attributes.rel&&function(e,t,n){let r,s=!1;try{r=e.sheet}catch(e){return}if(r)return;const o=setTimeout((()=>{s||(t(),s=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(o),s=!0,t()}))}(e,(()=>{if(E){const t=td(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:C});t&&E(e,t)}}),x),O}function nd(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function rd(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const sd="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let od={map:{},getId:()=>(console.error(sd),-1),getNode:()=>(console.error(sd),null),removeNodeFromMap(){console.error(sd)},has:()=>(console.error(sd),!1),reset(){console.error(sd)}};function id(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();s||!1!==n.leading||(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),s=i,e.apply(c,o)):r||!1===n.trailing||(r=setTimeout((()=>{s=!1===n.leading?0:Date.now(),r=null,e.apply(c,o)}),a))}}function ad(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>ad(e,t,o||{},!0)}function cd(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(od=new Proxy(od,{get:(e,t,n)=>("map"===t&&console.error(sd),Reflect.get(e,t,n))}));let ld,ud=Date.now;function dd(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:nd([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||nd([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||nd([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:nd([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||nd([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||nd([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function pd(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function hd(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function md(e,t,n,r,s){if(!e)return!1;const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!o)return!1;const i=Xu(t,n);if(!s){const e=r&&o.matches(r);return i(o)&&!e}const a=Ju(o,i);let c=-1;return!(a<0)&&(r&&(c=Ju(o,Xu(null,r))),a>-1&&c<0||a<c)}function fd(e,t){return t.getId(e)===Lu}function gd(e,t){if(bu(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||gd(e.parentNode,t))}function _d(e){return Boolean(e.changedTouches)}function yd(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function vd(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function bd(e){return Boolean(nd([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(ud=()=>(new Date).getTime());class Sd{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function wd(e){let t=null;return nd([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function kd(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=wd(n);)n=t;return n}(e);return t.contains(n)}function Td(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||kd(e))}function Ed(...e){return function(){if(ld)return ld;const e=window.document;let t=window.requestAnimationFrame;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch(e){}return ld=t.bind(window)}()(...e)}var xd=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(xd||{}),Cd=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Cd||{}),Id=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Id||{}),Rd=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Rd||{});function Md(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}function Ad(e){return"__ln"in e}class Od{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Md([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ad(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Ad(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Nd=(e,t)=>`${e}@${t}`;class Ld{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Od,r=e=>{let t=e,n=Lu;for(;n===Lu;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},s=s=>{if(!s.parentNode||!Td(s))return;const o=bu(s.parentNode)?this.mirror.getId(wd(s)):this.mirror.getId(s.parentNode),i=r(s);if(-1===o||-1===i)return n.addNode(s);const a=td(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{yd(e,this.mirror)&&this.iframeManager.addIframe(e),vd(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),bd(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:o,nextId:i,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)$d(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||s(e);for(const e of this.addedSet)Fd(this.droppedSet,e)||$d(this.removes,e,this.mirror)?Fd(this.movedSet,e)?s(e):this.droppedSet.add(e):s(e);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),s(e.value)}const i={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(i.texts.length||i.attributes.length||i.removes.length||i.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(i))},this.processMutation=e=>{if(fd(e.target,this.mirror))return;let t;try{t=document.implementation.createHTMLDocument()}catch(e){t=this.doc}switch(e.type){case"characterData":{const t=e.target.textContent;md(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:Zu(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if("value"===r){const t=Mu(n),r=n.tagName;s=Au(n,r,t);const o=Eu({maskInputOptions:this.maskInputOptions,tagName:r,type:t});s=xu({isMasked:Zu(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:n,value:s,maskInputFn:this.maskInputFn})}if(md(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let o=this.attributes.find((t=>t.node===e.target));if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(s)){if(n.contentDocument)return;r="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Ku(n.tagName,r)&&(o.attributes[r]=Yu(this.doc,Cu(n.tagName),Cu(r),s,n,this.maskAttributeFn),"style"===r)){const r=t.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),s=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||s!==r.style.getPropertyPriority(e)?o.styleDiff[e]=""===s?t:[t,s]:o._unchangedStyles[e]=[t,s]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(md(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=bu(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);md(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||fd(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Dd(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||gd(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Nd(n,r)]?Dd(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!bu(e.target)||!Su(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(fd(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Nd(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);md(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),bd(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Dd(e,t){e.delete(t),t.childNodes.forEach((t=>Dd(e,t)))}function $d(e,t,n){return 0!==e.length&&Pd(e,t,n)}function Pd(e,t,n){const{parentNode:r}=t;if(!r)return!1;const s=n.getId(r);return!!e.some((e=>e.id===s))||Pd(e,r,n)}function Fd(e,t){return 0!==e.size&&Bd(e,t)}function Bd(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Bd(e,n))}let jd;const Ud=e=>{if(!jd)return e;return(...t)=>{try{return e(...t)}catch(e){if(jd&&!0===jd(e))return()=>{};throw e}}};function Hd(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}const zd=[];function qd(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Wd(e,t){const n=new Ld;zd.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=Hd([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);s&&window[s]&&(r=window[s]);const o=new r(Ud((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Gd({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const a=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,c=[];let l=null;return Object.keys(Id).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((i=>{let a=Cu(i);const u=(t=>i=>{const a=qd(i);if(md(a,r,s,o,!0))return;let c=null,u=t;if("pointerType"in i){switch(i.pointerType){case"mouse":c=Rd.Mouse;break;case"touch":c=Rd.Touch;break;case"pen":c=Rd.Pen}c===Rd.Touch?Id[t]===Id.MouseDown?u="TouchStart":Id[t]===Id.MouseUp&&(u="TouchEnd"):Rd.Pen}else _d(i)&&(c=Rd.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===Rd.Touch||u.startsWith("Mouse")&&c===Rd.Mouse)&&(c=null)):Id[t]===Id.Click&&(c=l,l=null);const d=_d(i)?i.changedTouches[0]:i;if(!d)return;const p=n.getId(a),{clientX:h,clientY:m}=d;Ud(e)({type:Id[u],id:p,x:h,y:m,...null!==c&&{pointerType:c}})})(i);if(window.PointerEvent)switch(Id[i]){case Id.MouseDown:case Id.MouseUp:a=a.replace("mouse","pointer");break;case Id.TouchStart:case Id.TouchEnd:return}c.push(rd(a,u,t))})),Ud((()=>{c.forEach((e=>e()))}))}function Vd({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){return rd("scroll",Ud(id(Ud((i=>{const a=qd(i);if(!a||md(a,r,s,o,!0))return;const c=n.getId(a);if(a===t&&t.defaultView){const n=dd(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})})),i.scroll||100)),t)}const Yd=["INPUT","TEXTAREA","SELECT"],Kd=new WeakMap;function Jd({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:f}){function g(e){let n=qd(e);const u=e.isTrusted,g=n&&Iu(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||Yd.indexOf(g)<0||md(n,r,s,o,!0))return;const y=n;if(y.classList.contains(i)||a&&y.matches(a))return;const v=Mu(n);let b=Au(y,g,v),S=!1;const w=Eu({maskInputOptions:c,tagName:g,type:v}),k=Zu(n,p,m,h,f,w);"radio"!==v&&"checkbox"!==v||(S=n.checked),b=xu({isMasked:k,element:n,value:b,maskInputFn:l}),_(n,d?{text:b,isChecked:S,userTriggered:u}:{text:b,isChecked:S});const T=n.name;"radio"===v&&T&&S&&t.querySelectorAll(`input[type="radio"][name="${T}"]`).forEach((e=>{if(e!==n){const t=xu({isMasked:k,element:e,value:Au(e,g,v),maskInputFn:l});_(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}}))}function _(t,r){const s=Kd.get(t);if(!s||s.text!==r.text||s.isChecked!==r.isChecked){Kd.set(t,r);const s=n.getId(t);Ud(e)({...r,id:s})}}const y=("last"===u.input?["change"]:["input","change"]).map((e=>rd(e,Ud(g),t))),v=t.defaultView;if(!v)return()=>{y.forEach((e=>e()))};const b=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),S=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&y.push(...S.map((e=>ad(e[0],e[1],{set(){Ud(g)({target:this,isTrusted:!1})}},!1,v)))),Ud((()=>{y.forEach((e=>e()))}))}function Xd(e){return function(e,t){if(tp("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||tp("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||tp("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||tp("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Zd(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Qd({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const s="#document"===n.nodeName?Hd([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):Hd([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),o=Hd([s,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(Hd([s,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&s&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Hd([o,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=Hd([o,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),Ud((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))):()=>{}}function ep(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Wd(e,e.doc),s=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const s="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let i,a=[];const c=id(Ud((t=>{const n=Date.now()-i;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],i=null})),o),l=Ud(id(Ud((e=>{const t=qd(e),{clientX:n,clientY:s}=_d(e)?e.changedTouches[0]:e;i||(i=ud()),a.push({x:n,y:s,id:r.getId(t),timeOffset:ud()-i}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Cd.Drag:e instanceof MouseEvent?Cd.MouseMove:Cd.TouchMove)})),s,{trailing:!1})),u=[rd("mousemove",l,n),rd("touchmove",l,n),rd("drag",l,n)];return Ud((()=>{u.forEach((e=>e()))}))}(e),o=Gd(e),i=Vd(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return rd("resize",Ud(id(Ud((()=>{const t=pd(),s=hd();n===t&&r===s||(e({width:Number(s),height:Number(t)}),n=t,r=s)})),200)),t)}(e,{win:n}),c=Jd(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=Ud((i=>id(Ud((o=>{const a=qd(o);if(!a||md(a,t,n,r,!0))return;const{currentTime:c,volume:l,muted:u,playbackRate:d}=a;e({type:i,id:s.getId(a),currentTime:c,volume:l,muted:u,playbackRate:d})})),o.media||500))),c=[rd("play",a(0),i),rd("pause",a(1),i),rd("seeked",a(2),i),rd("volumechange",a(3),i),rd("ratechange",a(4),i)];return Ud((()=>{c.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Ud(((r,s,o)=>{const[i,a]=o,{id:c,styleId:l}=Zd(s,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:i,index:a}]}),r.apply(s,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let i,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Ud(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=Zd(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:i}]}),r.apply(s,o)}))}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:Ud(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=Zd(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:i}),r.apply(s,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Ud(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=Zd(s,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:i}),r.apply(s,o)}))}));const c={};np("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(np("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),np("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),np("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const l={};return Object.entries(c).forEach((([r,s])=>{l[r]={insertRule:s.prototype.insertRule,deleteRule:s.prototype.deleteRule},s.prototype.insertRule=new Proxy(l[r].insertRule,{apply:Ud(((r,s,o)=>{const[i,a]=o,{id:c,styleId:l}=Zd(s.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:i,index:[...Xd(s),a||0]}]}),r.apply(s,o)}))}),s.prototype.deleteRule=new Proxy(l[r].deleteRule,{apply:Ud(((r,s,o)=>{const[i]=o,{id:a,styleId:c}=Zd(s.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...Xd(s),i]}]}),r.apply(s,o)}))})})),Ud((()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule}))}))}(e,{win:n}),d=Qd(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Ud(((s,i,a)=>{const[c,l,u]=a;if(n.has(c))return o.apply(i,[c,l,u]);const{id:d,styleId:p}=Zd(Hd([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:l,priority:u},index:Xd(i.parentRule)}),s.apply(i,a)}))});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:Ud(((s,o,a)=>{const[c]=a;if(n.has(c))return i.apply(o,[c]);const{id:l,styleId:u}=Zd(Hd([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,remove:{property:c},index:Xd(o.parentRule)}),s.apply(o,a)}))}),Ud((()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return s.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const i=cd(t.fonts,"add",(function(t){return function(n){return setTimeout(Ud((()=>{const t=s.get(n);t&&(e(t),s.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(i),Ud((()=>{r.forEach((e=>e()))}))}(e):()=>{},m=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=Ud((()=>{const e=t.getSelection();if(!e||a&&Hd([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const i=e.getRangeAt(t),{startContainer:a,startOffset:l,endContainer:u,endOffset:d}=i;md(a,r,s,o,!0)||md(u,r,s,o,!0)||c.push({start:n.getId(a),startOffset:l,end:n.getId(u),endOffset:d})}i({ranges:c})}));return c(),rd("selectionchange",c)}(e),f=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?cd(n.customElements,"define",(function(e){return function(n,r,s){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,s])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return Ud((()=>{zd.forEach((e=>e.reset())),r.disconnect(),s(),o(),i(),a(),c(),l(),u(),d(),p(),h(),m(),f(),g.forEach((e=>e()))}))}function tp(e){return void 0!==window[e]}function np(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class rp{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const s=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let i=s.get(t);return i||(i=this.generateIdFn(),s.set(t,i),o.set(i,t)),i}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const s=r.get(t);return s||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function sp(e){let t,n=e[0],r=1;for(;r<e.length;){const s=e[r],o=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==n)return;"access"===s||"optionalAccess"===s?(t=n,n=o(n)):"call"!==s&&"optionalCall"!==s||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}class op{constructor(){this.crossOriginIframeMirror=new rp(Du),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class ip{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new rp(Du),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new rp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),sp([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case xd.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:xd.IncrementalSnapshot,data:{source:Cd.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case xd.Meta:case xd.Load:case xd.DomContentLoaded:return!1;case xd.Plugin:return t;case xd.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case xd.IncrementalSnapshot:switch(t.data.source){case Cd.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Cd.Drag:case Cd.TouchMove:case Cd.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Cd.ViewportResize:return!1;case Cd.MediaInteraction:case Cd.MouseInteraction:case Cd.Scroll:case Cd.CanvasMutation:case Cd.Input:return this.replaceIds(t.data,e,["id"]),t;case Cd.StyleSheetRule:case Cd.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Cd.Font:return t;case Cd.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Cd.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),sp([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const s of r)(Array.isArray(t[s])||"number"==typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(n,t[s]):t[s]=e.getId(n,t[s]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===vu.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class ap{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class cp{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Su(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Wd({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Vd({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Qd({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(cd(e.prototype,"attachShadow",(function(e){return function(r){const s=e.call(this,r);return this.shadowRoot&&Td(this)&&n.addShadowRoot(this.shadowRoot,t),s}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class lp{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class up{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Sd,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:ku(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class dp{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Ed((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function pp(e){const t=e;return t.timestamp=ud(),t}let hp;const mp=new Tu;function fp(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:m=!0,maskAllInputs:f,maskInputOptions:g,slimDOMOptions:_,maskAttributeFn:y,maskInputFn:v,maskTextFn:b,packFn:S,sampling:w={},dataURLOptions:k={},mousemoveWait:T,recordCanvas:E=!1,recordCrossOriginIframes:x=!1,recordAfter:C=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:I=!1,collectFonts:R=!1,inlineImages:M=!1,plugins:A,keepIframeSrcFn:O=(()=>!1),ignoreCSSAttributes:N=new Set([]),errorHandler:L,onMutation:D,getCanvasManager:$}=e;jd=L;const P=!x||window.parent===window;let F=!1;if(!P)try{window.parent.document&&(F=!1)}catch(e){F=!0}if(P&&!t)throw new Error("emit function is required");void 0!==T&&void 0===w.mousemove&&(w.mousemove=T),mp.reset();const B=!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},j=!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_,headMetaDescKeywords:"all"===_}:_||{};let U;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let H=0;const z=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return S&&!F&&(e=S(e)),e},q=(e,s)=>{if(!Bs([zd,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||e.type===xd.FullSnapshot||e.type===xd.IncrementalSnapshot&&e.data.source===Cd.Mutation||zd.forEach((e=>e.unfreeze())),P)Bs([t,"optionalCall",t=>t(z(e),s)]);else if(F){const t={type:"rrweb",event:z(e),origin:window.location.origin,isCheckout:s};window.parent.postMessage(t,"*")}if(e.type===xd.FullSnapshot)U=e,H=0;else if(e.type===xd.IncrementalSnapshot){if(e.data.source===Cd.Mutation&&e.data.isAttachIframe)return;H++;const t=r&&H>=r,s=n&&e.timestamp-U.timestamp>n;(t||s)&&Q(!0)}},W=e=>{q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.Mutation,...e}}))},G=e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.Scroll,...e}})),V=e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.CanvasMutation,...e}})),Y=new up({mutationCb:W,adoptedStyleSheetCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.AdoptedStyleSheet,...e}}))}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new op:new ip({mirror:mp,mutationCb:W,stylesheetManager:Y,recordCrossOriginIframes:x,wrappedEmit:q});for(const e of A||[])e.getMirror&&e.getMirror({nodeMirror:mp,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});const J=new dp,X=function(e,t){try{return e?e(t):new lp}catch(e){return console.warn("Unable to initialize CanvasManager"),new lp}}($,{mirror:mp,win:window,mutationCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.CanvasMutation,...e}})),recordCanvas:E,blockClass:s,blockSelector:o,unblockSelector:i,sampling:w.canvas,dataURLOptions:k,errorHandler:L}),Z="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ap:new cp({mutationCb:W,scrollCb:G,bypassOptions:{onMutation:D,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:m,maskInputOptions:B,dataURLOptions:k,maskAttributeFn:y,maskTextFn:b,maskInputFn:v,recordCanvas:E,inlineImages:M,sampling:w,slimDOMOptions:j,iframeManager:K,stylesheetManager:Y,canvasManager:X,keepIframeSrcFn:O,processedNodeManager:J},mirror:mp}),Q=(e=!1)=>{q(pp({type:xd.Meta,data:{href:window.location.href,width:hd(),height:pd()}}),e),Y.reset(),Z.init(),zd.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new Tu,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:m=!1,maskAttributeFn:f,maskTextFn:g,maskInputFn:_,slimDOM:y=!1,dataURLOptions:v,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:x=(()=>!1)}=t||{};return td(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===m?{}:m,maskAttributeFn:f,maskTextFn:g,maskInputFn:_,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:v,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:T,stylesheetLoadTimeout:E,keepIframeSrcFn:x,newlyAddedElement:!1})}(document,{mirror:mp,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:m,maskAllInputs:B,maskAttributeFn:y,maskInputFn:v,maskTextFn:b,slimDOM:j,dataURLOptions:k,recordCanvas:E,inlineImages:M,onSerialize:e=>{yd(e,mp)&&K.addIframe(e),vd(e,mp)&&Y.trackLinkElement(e),bd(e)&&Z.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{K.attachIframe(e,t),Z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:O});if(!t)return console.warn("Failed to snapshot the document");q(pp({type:xd.FullSnapshot,data:{node:t,initialOffset:dd(window)}})),zd.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,mp.getId(document))};hp=Q;try{const e=[],t=e=>Ud(ep)({onMutation:D,mutationCb:W,mousemoveCb:(e,t)=>q(pp({type:xd.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.MouseInteraction,...e}})),scrollCb:G,viewportResizeCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.ViewportResize,...e}})),inputCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.Input,...e}})),mediaInteractionCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.MediaInteraction,...e}})),styleSheetRuleCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.StyleSheetRule,...e}})),styleDeclarationCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.StyleDeclaration,...e}})),canvasMutationCb:V,fontCb:e=>q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.Font,...e}})),selectionCb:e=>{q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.Selection,...e}}))},customElementCb:e=>{q(pp({type:xd.IncrementalSnapshot,data:{source:Cd.CustomElement,...e}}))},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:B,inlineStylesheet:m,sampling:w,recordCanvas:E,inlineImages:M,userTriggeredOnInput:I,collectFonts:R,doc:e,maskAttributeFn:y,maskInputFn:v,maskTextFn:b,keepIframeSrcFn:O,blockSelector:o,unblockSelector:i,slimDOMOptions:j,dataURLOptions:k,mirror:mp,iframeManager:K,stylesheetManager:Y,shadowDomManager:Z,processedNodeManager:J,canvasManager:X,ignoreCSSAttributes:N,plugins:Bs([A,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>q(pp({type:xd.Plugin,data:{plugin:e.name,payload:t}}))})))])||[]},{});K.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Q(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(rd("DOMContentLoaded",(()=>{q(pp({type:xd.DomContentLoaded,data:{}})),"DOMContentLoaded"===C&&n()}))),e.push(rd("load",(()=>{q(pp({type:xd.Load,data:{}})),"load"===C&&n()}),window))),()=>{e.forEach((e=>e())),J.destroy(),hp=void 0,jd=void 0}}catch(e){console.warn(e)}}fp.mirror=mp,fp.takeFullSnapshot=function(e){if(!hp)throw new Error("please take full snapshot after start recording");hp(e)};const gp=3;function _p(e){return e>9999999999?e:1e3*e}function yp(e){return e>9999999999?e/1e3:e}function vp(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:xd.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Zr(t,10,1e3)}}),"console"===t.category))))}const bp="button,a";function Sp(e){return e.closest(bp)||e}function wp(e){const t=kp(e);return t&&t instanceof Element?Sp(t):t}function kp(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Tp;function Ep(e){return Tp||(Tp=[],Gn(uu,"open",(function(e){return function(...t){if(Tp)try{Tp.forEach((e=>e()))}catch(e){}return e.apply(uu,t)}}))),Tp.push(e),()=>{const t=Tp?Tp.indexOf(e):-1;t>-1&&Tp.splice(t,1)}}class xp{constructor(e,t,n=vp){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Ep((()=>{this._lastMutation=Ip()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Cp.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:yp(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=yp(e)}registerScroll(e=Date.now()){this._lastScroll=yp(e)}registerClick(e){const t=Sp(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Ip();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,s=!n&&!r,{clickCount:o,clickBreadcrumb:i}=e;if(s){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.slowClickDetected",data:{...i.data,url:uu.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(t,s)}else if(o>1){const e={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.multiClick",data:{...i.data,url:uu.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Cp=["A","BUTTON","INPUT"];function Ip(){return Date.now()/1e3}function Rp(e,t){try{if(!function(e){return e.type===gp}(t))return;const{source:n}=t.data;if(n===Cd.Mutation&&e.registerMutation(t.timestamp),n===Cd.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Cd.MouseInteraction}(t)){const{type:n,id:r}=t.data,s=fp.mirror.getNode(r);s instanceof HTMLElement&&n===Id.Click&&e.registerClick(s)}}catch(e){}}function Mp(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ap;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Ap||(Ap={}));const Op=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Np(e){const t={};for(const n in e)if(Op.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Lp=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?wp(e.event):kp(e.event),n=Mn(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Mp({category:`ui.${e.name}`,...Dp(t,n)})}(t);if(!n)return;const r="click"===t.name,s=r?t.event:void 0;var o,i,a;!(r&&e.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(o=e.clickDetector,i=n,a=wp(t.event),o.handleClick(i,a)),vp(e,n)};function Dp(e,t){const n=fp.mirror.getId(e),r=n&&fp.mirror.getNode(n),s=r&&fp.mirror.getMeta(r),o=s&&function(e){return e.type===Ap.Element}(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((e=>e.type===Ap.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Np(o.attributes)}}:{}}}function $p(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(i)||!o)return null;const a=t||r||s,c=1===o.length;if(!a&&c)return null;const l=Mn(i,{maxStringLength:200})||"<unknown>",u=Dp(i,l);return Mp({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}(t);n&&vp(e,n)}const Pp={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:l}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:Bp(o),end:Bp(s),name:r,data:{size:l,statusCode:c,decodedBodySize:i,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=Bp(s);return{type:n,name:r,start:o,end:o+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:m,type:f}=e;if(0===s)return null;return{type:`${t}.${f}`,start:Bp(h),end:Bp(o),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:l,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:p}}}};function Fp(e){return Pp[e.entryType]?Pp[e.entryType](e):null}function Bp(e){return((ps||uu.performance.timeOrigin)+e)/1e3}function jp(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(rc(e,n))})),r.push(nc((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,s=e.value,o=Bp(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:s,size:s,nodeId:r?fp.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const Up="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Hp='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function zp(e,t){Up&&(Bn.info(e),t&&Wp(e))}function qp(e,t){Up&&(Bn.info(e),t&&setTimeout((()=>{Wp(e)}),0))}function Wp(e){ao({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Gp extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Vp{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>gu)throw new Gp;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?_p(e):null}}class Yp{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){zp("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,s)=>{const o=({data:t})=>{const i=t;if(i.method===e&&i.id===n){if(this._worker.removeEventListener("message",o),!i.success)return Up&&Bn.error("[Replay]",i.response),void s(new Error("Error in compression worker"));r(i.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class Kp{constructor(e){this._worker=new Yp(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=_p(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>gu?Promise.reject(new Gp):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{Up&&Bn.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class Jp{constructor(e){this._fallback=new Vp,this._compression=new Kp(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void zp("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){Up&&Bn.warn("[Replay] Failed to add events when switching buffers.",e)}}}function Xp({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob([Hp]);return URL.createObjectURL(e)}();return""}();if(!t)return;zp("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new Jp(n)}catch(e){zp("[Replay] Failed to create compression worker")}}(t);if(e)return e}return zp("[Replay] Using simple buffer"),new Vp}function Zp(){try{return"sessionStorage"in uu&&!!uu.sessionStorage}catch(e){return!1}}function Qp(e){!function(){if(!Zp())return;try{uu.sessionStorage.removeItem(du)}catch(e){}}(),e.session=void 0}function eh(e){return void 0!==e&&Math.random()<e}function th(e){const t=Date.now();return{id:e.id||hr(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function nh(e){if(Zp())try{uu.sessionStorage.setItem(du,JSON.stringify(e))}catch(e){}}function rh({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=function(e,t){return eh(e)?"session":!!t&&"buffer"}(e,t),o=th({sampled:s,previousSessionId:r});return n&&nh(o),o}function sh(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function oh(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return sh(e.started,t,r)||sh(e.lastActivity,n,r)}function ih(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!oh(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function ah({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},s){const o=s.stickySession&&function(e){if(!Zp())return null;try{const t=uu.sessionStorage.getItem(du);if(!t)return null;const n=JSON.parse(t);return qp("[Replay] Loading existing session",e),th(n)}catch(e){return null}}(e);return o?ih(o,{sessionIdleExpire:t,maxReplayDuration:n})?(qp("[Replay] Session in sessionStorage is expired, creating new one..."),rh(s,{previousSessionId:o.id})):o:(qp("[Replay] Creating new session",e),rh(s,{previousSessionId:r}))}function ch(e,t,n){return!!uh(e,t)&&(lh(e,t,n),!0)}async function lh(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===xd.Custom}(e))return t(e)}catch(e){return Up&&Bn.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof Gp?"addEventSizeExceeded":"addEvent";Up&&Bn.error(t),await e.stop({reason:n});const r=uo();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function uh(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=_p(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(zp(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function dh(e){return!e.type}function ph(e){return"transaction"===e.type}function hh(e){return"feedback"===e.type}function mh(e){const t=function(){const e=uo();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!dh(n)&&!ph(n))return;const s=r&&r.statusCode;t&&(!s||s<200||s>=300)||(ph(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function fh(e){return t=>{e.isEnabled()&&dh(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){vp(e,Mp({category:"replay.hydrate-error"}))}}(e,t)}}function gh(e,t=!1){const n=t?mh(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!dh(t)&&!ph(t)&&!hh(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(hh(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:xd.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return Up&&Bn.log("[Replay] Ignoring error from rrweb internals",t),null;const s=function(e,t){return"buffer"===e.recordingMode&&t.message!==hu&&!(!t.exception||t.type)&&eh(e.getOptions().errorSampleRate)}(e,t);return(s||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function _h(e,t){return t.map((({type:t,start:n,end:r,name:s,data:o})=>{const i=e.throttledAddEvent({type:xd.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:s,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof i?Promise.resolve(null):i}))}function yh(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(_h(e,[n]),!1))))}}function vh(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Up||!e.getOptions()._experiments.traceInternals)&&Ji(t,uo())}(e,t.name)||e.addUpdate((()=>(_h(e,[t]),!0))))}function bh(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,s=r[Vr];if(!t||!n||!s)return null;const{method:o,url:i,status_code:a}=s;return void 0===i?null:{type:"resource.xhr",name:i,start:t/1e3,end:n/1e3,data:{method:o,statusCode:a}}}(t);vh(e,n)}}function Sh(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Rh(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function wh(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function kh(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Rh(e)];if(!e)return[void 0]}catch(t){return Up&&Bn.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Up&&Bn.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Th(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Eh(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:Qn({method:o,statusCode:i,request:a,response:c})}}function xh(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ch(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>mu,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,mu);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=s,o&&o.length>0&&(r._meta={warnings:o}),r}function Ih(e,t){return Object.keys(e).reduce(((n,r)=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=e[r]),n}),{})}function Rh(e){return new URLSearchParams(e).toString()}function Mh(e,t){const n=function(e,t=uu.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(uu.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return vn(n,t)}async function Ah(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=Mh(i,n.networkDetailAllowUrls)&&!Mh(i,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Lh(e[0],t);if(2===e.length)return Lh(e[1],t);return{}}(n,t):{};if(!e)return Ch(s,r,void 0);const o=Oh(n),[i,a]=kh(o),c=Ch(s,r,i);if(a)return Th(c,a);return c}(n,t.input,l):xh(l),h=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},s,o){if(!e&&void 0!==o)return xh(o);const i=s?Nh(s.headers,r):{};if(!s||!t&&void 0!==o)return Ch(i,o,void 0);const[a,c]=await async function(e){const t=function(e){try{return e.clone()}catch(e){Up&&Bn.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return Up&&Bn.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(s),l=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:s,headers:o}){try{const i=e&&e.length&&void 0===r?Sh(e,n):r;return s?Ch(o,i,t?e:void 0):xh(i)}catch(e){return Up&&Bn.warn("[Replay] Failed to serialize response body",e),Ch(o,r,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:o,captureDetails:e,headers:i});if(c)return Th(l,c);return l}(d,n,t.response,u);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:p,response:h}}(e,t,n),s=Eh("resource.fetch",r);vh(n.replay,s)}catch(e){Up&&Bn.error("[Replay] Failed to capture fetch breadcrumb",e)}}function Oh(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Nh(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Lh(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Nh(n,t):Array.isArray(n)?{}:Ih(n,t):{}}async function Dh(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!Mh(c,n.networkDetailAllowUrls)||Mh(c,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:o,url:c,method:l,statusCode:u,request:xh(d),response:xh(p)}}const h=a[Vr],m=h?Ih(h.request_headers,n.networkRequestHeaders):{},f=Ih(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(a),n.networkResponseHeaders),[g,_]=n.networkCaptureBodies?kh(i):[void 0],[y,v]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return Up&&Bn.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Up&&Bn.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return Up&&Bn.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],b=Ch(m,d,g),S=Ch(f,p,y);return{startTimestamp:s,endTimestamp:o,url:c,method:l,statusCode:u,request:_?Th(b,_):b,response:v?Th(S,v):S}}(e,t,n),s=Eh("resource.xhr",r);vh(n.replay,s)}catch(e){Up&&Bn.error("[Replay] Failed to capture xhr breadcrumb",e)}}function $h(e,t,n){const{xhr:r,input:s}=t;if(!r)return;const o=Sh(s,n.textEncoder),i=r.getResponseHeader("content-length")?wh(r.getResponseHeader("content-length")):function(e,t,n){try{return Sh("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}function Ph(e){const t=uo();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:s,networkCaptureBodies:o,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&($h(t,n,e),Dh(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:s}=t,o=Sh(r?Oh(r):void 0,n.textEncoder),i=s?wh(s.headers.get("content-length")):void 0;void 0!==o&&(e.data.request_body_size=o),void 0!==i&&(e.data.response_body_size=i)}(t,n,e),Ah(t,n,e))}catch(e){Up&&Bn.warn("Error when enriching network breadcrumb")}}(c,e,t))):(Ar(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:s}=e;if(!n)return null;const{method:o,url:i}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:i,data:{method:o,statusCode:s?s.status:void 0}}}(t);vh(e,n)}}(e)),Yr(bh(e)))}catch(e){}}let Fh=null;const Bh=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Fh===t||!t)return null;if(Fh=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Mp(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>fu?(n=!0,`${e.slice(0,fu)}…`):e;if("object"==typeof e)try{const t=Zr(e,7);return JSON.stringify(t).length>fu?(n=!0,`${JSON.stringify(t,null,2).slice(0,fu)}…`):t}catch(e){}return e}));return Mp({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Mp(t)}(t);n&&vp(e,n)};function jh(e){return!(!e||!e.on)}function Uh(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Hh(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(Up&&Bn.warn("[Replay] Received replay event after session expired."));const s=r||!t;t=!0,e.clickDetector&&Rp(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&s&&e.setInitialState(),!ch(e,n,s))return!0;if(!s)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;ch(e,function(e){const t=e.getOptions();return{type:xd.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,s),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(zp(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&nh(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function zh({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:l,initialTimestamp:u}=r,d=uo(),p=po(),h=d&&d.getTransport(),m=d&&d.getDsn();if(!(d&&h&&m&&o.sampled))return;const f={type:pu,replay_start_timestamp:u/1e3,timestamp:s/1e3,error_ids:c,trace_ids:l,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const s={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,s);const o=await to(e.getOptions(),r,s,t,e,No());if(!o)return null;o.platform=o.platform||"javascript";const i=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:c}=i&&i.sdk||{};return o.sdk={...o.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},o}({scope:p,client:d,replayId:t,event:f});if(!g)return d.recordDroppedEvent("event_processor","replay",f),void zp("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const _=function(e,t,n,r){return Ts(Ns(e,Os(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,i,m,d.getOptions().tunnel);let y;try{y=await h.send(_)}catch(e){const t=new Error(hu);try{t.cause=e}catch(e){}throw t}if(!y)return y;if("number"==typeof y.statusCode&&(y.statusCode<200||y.statusCode>=300))throw new qh(y.statusCode);const v=Ps({},y);if($s(v,"replay"))throw new Wh(v);return y}class qh extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Wh extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Gh(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await zh(e),!0}catch(n){if(n instanceof qh||n instanceof Wh)throw n;if(co("Replays",{_retryCount:t.count}),Up&&r._experiments&&r._experiments.captureExceptions&&oo(n),t.count>=3){const e=new Error(`${hu} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await Gh(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const Vh="__THROTTLED";function Yh(e,t,n){const r=new Map;let s=!1;return(...o)=>{const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(i),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=s;return s=!0,e?"__SKIPPED":Vh}s=!1;const a=r.get(i)||0;return r.set(i,a+1),e(...o)}}class Kh{constructor({options:e,recordingOptions:t}){Kh.prototype.__init.call(this),Kh.prototype.__init2.call(this),Kh.prototype.__init3.call(this),Kh.prototype.__init4.call(this),Kh.prototype.__init5.call(this),Kh.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,s,o;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){void 0!==s&&clearTimeout(s),void 0!==o&&clearTimeout(o),s=o=void 0}function l(){return s&&clearTimeout(s),s=setTimeout(a,t),i&&void 0===o&&(o=setTimeout(a,i)),r}return l.cancel=c,l.flush=function(){return void 0!==s||void 0!==o?a():r},l}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Yh(((e,t)=>function(e,t,n){return uh(e,t)?lh(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),s=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;s&&(this.clickDetector=new xp(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",qp(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");qp("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=ah({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");qp("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=ah({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=fp({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Hh(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{zp("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Qp(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),zp("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),zp("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();zp("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&sh(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${uu.location.pathname}${uu.location.hash}${uu.location.search}`,t=`${uu.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Vh){const e=Mp({category:"replay.throttled"});this.addUpdate((()=>!ch(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||po().getTransaction(),t=(e&&Qs(e).data||{})[ni];if(e&&t&&["route","custom"].includes(t))return Qs(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Xp({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Up&&Bn.error("[Replay]",e),Up&&this._options._experiments&&this._options._experiments.captureExceptions&&oo(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=ah({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!ih(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{uu.document.addEventListener("visibilitychange",this._handleVisibilityChange),uu.addEventListener("blur",this._handleWindowBlur),uu.addEventListener("focus",this._handleWindowFocus),uu.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=po(),n=uo();t.addScopeListener(Bh(e)),Er(Lp(e)),qr(yh(e)),Ph(e);const r=gh(e,!jh(n));n&&n.addEventProcessor?n.addEventProcessor(r):Pi(r),jh(n)&&(n.on("beforeSendEvent",fh(e)),n.on("afterSendEvent",mh(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=jp(this)}_removeListeners(){try{uu.document.removeEventListener("visibilitychange",this._handleVisibilityChange),uu.removeEventListener("blur",this._handleWindowBlur),uu.removeEventListener("focus",this._handleWindowFocus),uu.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===uu.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Mp({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Mp({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{$p(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;oh(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):zp("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:xd.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(Fp).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(_h(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(_h(e,[Uh(uu.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await Gh({replayId:e,recordingData:s,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=uo();t&&t.recordDroppedEvent("send_error","replay")}}else Up&&Bn.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(Up&&Bn.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(r||s)return zp(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const o=this.eventBuffer;if(o&&0===this.session.segmentId&&!o.hasCheckout&&zp("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){Up&&Bn.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&nh(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Mp({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Jh(e,t,n,r){const s=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&s.push(`.${n}`),Fn((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),s.join(",")}const Xh='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Zh=["content-length","content-type","accept"];let Qh=!1;class em{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:s=!0,useCompression:o=!0,workerUrl:i,_experiments:a={},sessionSampleRate:c,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:m=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:y=[],networkCaptureBodies:v=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:w=[],maskAttributes:k=["title","placeholder"],unmask:T=[],block:E=[],unblock:x=[],ignore:C=[],maskFn:I,beforeAddRecordingEvent:R,beforeErrorSampling:M,blockClass:A,blockSelector:O,maskInputOptions:N,maskTextClass:L,maskTextSelector:D,ignoreClass:$}={}){this.name=em.id;const P=function({mask:e,unmask:t,block:n,unblock:r,ignore:s,blockClass:o,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:l}){const u={maskTextSelector:Jh(e,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:Jh(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:Jh(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],o,i),unblockSelector:Jh(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Jh(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return o instanceof RegExp&&(u.blockClass=o),a instanceof RegExp&&(u.maskTextClass=a),u}({mask:w,unmask:T,block:E,unblock:x,ignore:C,blockClass:A,blockSelector:O,maskTextClass:L,maskTextSelector:D,ignoreClass:$});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...N||{},password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return r?s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:k,maskAllText:u,privacyOptions:P,key:e,value:t,el:n}),...P,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,_u),stickySession:s,sessionSampleRate:c,errorSampleRate:l,useCompression:o,workerUrl:i,blockAllMedia:p,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:m,slowClickTimeout:f,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:y,networkCaptureBodies:v,networkRequestHeaders:tm(b),networkResponseHeaders:tm(S),beforeAddRecordingEvent:R,beforeErrorSampling:M,_experiments:a},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof l&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Xh}`:Xh),this._isInitialized&&Xr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Qh}set _isInitialized(e){Qh=e}setupOnce(){Xr()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=uo(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Qn(e)};if(!n)return Fn((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&Fn((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new Kh({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=uo().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function tm(e){return[...Zh,...e.map((e=>e.toLowerCase()))]}var nm;function rm(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:rm(e.parentNode,t,n,r+1):-1}function sm(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}em.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(nm||(nm={}));const om="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let im,am={map:{},getId:()=>(console.error(om),-1),getNode:()=>(console.error(om),null),removeNodeFromMap(){console.error(om)},has:()=>(console.error(om),!1),reset(){console.error(om)}};function cm(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>cm(e,t,o||{},!0)}function lm(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return"function"==typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch(e){return()=>{}}}function um(e,t,n,r,s){if(!e)return!1;const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!o)return!1;const i=sm(t,n);if(!s){const e=r&&o.matches(r);return i(o)&&!e}const a=rm(o,i);let c=-1;return!(a<0)&&(r&&(c=rm(o,sm(null,r))),a>-1&&c<0||a<c)}function dm(...e){return function(){if(im)return im;const e=window.document;let t=window.requestAnimationFrame;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch(e){}return im=t.bind(window)}()(...e)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(am=new Proxy(am,{get:(e,t,n)=>("map"===t&&console.error(om),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());var pm=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(pm||{});let hm;function mm(e){hm=e}const fm=e=>{if(!hm)return e;return(...t)=>{try{return e(...t)}catch(e){if(hm&&!0===hm(e))return()=>{};throw e}}};for(var gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_m="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ym=0;ym<64;ym++)_m[gm.charCodeAt(ym)]=ym;const vm=new Map;const bm=(e,t,n)=>{if(!e||!km(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=vm.get(e);return n||(n=new Map,vm.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let s=r.indexOf(e);return-1===s&&(s=r.length,r.push(e)),s};function Sm(e,t,n){if(e instanceof Array)return e.map((e=>Sm(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,s="";for(t=0;t<r;t+=3)s+=gm[n[t]>>2],s+=gm[(3&n[t])<<4|n[t+1]>>4],s+=gm[(15&n[t+1])<<2|n[t+2]>>6],s+=gm[63&n[t+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Sm(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Sm(e.data,t,n),e.width,e.height]}}if(km(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:bm(e,t,n)}}return e}const wm=(e,t,n)=>e.map((e=>Sm(e,t,n))),km=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Tm(e,t,n,r,s){const o=[];try{const i=lm(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(o,...i){if(!um(this,t,n,r,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(o);if("__context"in this||(this.__context=e),s&&["webgl","webgl2"].includes(e))if(i[0]&&"object"==typeof i[0]){const e=i[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else i.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[o,...i])}}));o.push(i)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((e=>e()))}}function Em(e,t,n,r,s,o,i,a){const c=[],l=Object.getOwnPropertyNames(e);for(const i of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i))try{if("function"!=typeof e[i])continue;const l=lm(e,i,(function(e){return function(...c){const l=e.apply(this,c);if(bm(l,a,this),"tagName"in this.canvas&&!um(this.canvas,r,s,o,!0)){const e=wm(c,a,this),r={type:t,property:i,args:e};n(this.canvas,r)}return l}}));c.push(l)}catch(r){const s=cm(e,i,{set(e){n(this.canvas,{type:t,property:i,args:[e],setter:!0})}});c.push(s)}return c}class xm{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,dataURLOptions:a,errorHandler:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&mm(c),e.enableManualSnapshot||fm((()=>{i&&"all"===t&&this.initCanvasMutationObserver(n,r,s,o),i&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,s,o,{dataURLOptions:a})}))()}initCanvasFPSObserver(e,t,n,r,s,o){const i=Tm(t,n,r,s,!0),a=this.takeSnapshot(!1,e,t,n,r,s,o.dataURLOptions);this.resetObservers=()=>{i(),cancelAnimationFrame(a)}}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const s=Tm(e,t,n,r,!1),o=function(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[a])continue;const i=lm(t.CanvasRenderingContext2D.prototype,a,(function(o){return function(...i){return um(this.canvas,n,r,s,!0)||setTimeout((()=>{const n=wm(i,t,this);e(this.canvas,{type:pm["2D"],property:a,args:n})}),0),o.apply(this,i)}}));o.push(i)}catch(n){const r=cm(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:pm["2D"],property:a,args:[t],setter:!0})}});o.push(r)}return()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r),i=function(e,t,n,r,s,o){const i=[];return i.push(...Em(t.WebGLRenderingContext.prototype,pm.WebGL,e,n,r,s,0,t)),void 0!==t.WebGL2RenderingContext&&i.push(...Em(t.WebGL2RenderingContext.prototype,pm.WebGL2,e,n,r,s,0,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.resetObservers=()=>{s(),o(),i()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,r,s,o,i,a){const c=new Map,l=new Worker(function(){const e=new Blob(['for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="undefined"==typeof Uint8Array?[]:new Uint8Array(256),n=0;n<64;n++)e[t.charCodeAt(n)]=n;var a=function(e){var n,a=new Uint8Array(e),s=a.length,r="";for(n=0;n<s;n+=3)r+=t[a[n]>>2],r+=t[(3&a[n])<<4|a[n+1]>>4],r+=t[(15&a[n+1])<<2|a[n+2]>>6],r+=t[63&a[n+2]];return s%3==2?r=r.substring(0,r.length-1)+"=":s%3==1&&(r=r.substring(0,r.length-2)+"=="),r};const s=new Map,r=new Map;const i=self;i.onmessage=async function(t){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:t.data.id});{const{id:e,bitmap:n,width:o,height:f,dataURLOptions:c}=t.data,g=async function(t,e,n){const s=t+"-"+e;if("OffscreenCanvas"in globalThis){if(r.has(s))return r.get(s);const i=new OffscreenCanvas(t,e);i.getContext("2d");const o=await i.convertToBlob(n),f=await o.arrayBuffer(),c=a(f);return r.set(s,c),c}return""}(o,f,c),d=new OffscreenCanvas(o,f);d.getContext("2d").drawImage(n,0,0),n.close();const u=await d.convertToBlob(c),h=u.type,w=await u.arrayBuffer(),l=a(w);if(!s.has(e)&&await g===l)return s.set(e,l),i.postMessage({id:e});if(s.get(e)===l)return i.postMessage({id:e});i.postMessage({id:e,type:h,base64:l,width:o,height:f}),s.set(e,l)}};']);return URL.createObjectURL(e)}());l.onmessage=e=>{const t=e.data,{id:n}=t;if(c.set(n,!1),!("base64"in t))return;const{base64:r,type:s,width:o,height:i}=t;this.mutationCb({id:n,type:pm["2D"],commands:[{property:"clearRect",args:[0,0,o,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:s}]},0,0]}]})};const u=1e3/t;let d,p=0;const h=t=>{p&&t-p<u||(p=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{um(e,r,s,o,!0)||t.push(e)})),t})(a).forEach((t=>{const n=this.mirror.getId(t);if(!c.get(n)){if(c.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===Bs([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{l.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:i},[e])})).catch((e=>{fm((()=>{throw e}))()}))}}))),d=dm(h)};return d=dm(h),d}startPendingCanvasMutationFlusher(){dm((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,dm(e)};dm(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),dm((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const{type:t,...n}=e;return n})),{type:s}=n[0];this.mutationCb({id:t,type:s,commands:r}),this.pendingCanvasMutations.delete(e)}}const Cm={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Im="ReplayCanvas",Rm=(e={})=>{const t={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot};let n;const r=new Promise((e=>n=e));return{name:Im,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:r}=t;return{enableManualSnapshot:r,recordCanvas:!0,getCanvasManager:e=>{const t=new xm({...e,enableManualSnapshot:r,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return n(t),t},...Cm[e||"medium"]||Cm.medium}},async snapshot(e){(await r).snapshot(e)}}},Mm=Ri(Im,Rm),Am=En,Om="#ffffff",Nm="inherit",Lm="rgba(108, 95, 199, 1)",Dm={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Om,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"12px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Lm,submitBorder:Lm,submitOutlineFocus:"#29232f",submitForeground:Om,submitForegroundHover:Om,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Nm,inputForeground:Nm,inputBorder:"var(--border)",inputOutlineFocus:Lm,formBorderRadius:"20px",formContentBorderRadius:"6px"},$m=Dm,Pm={...Dm,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},Fm="widget",Bm="api";async function jm({feedback:{message:e,email:t,name:n,source:r,url:s}},{includeReplay:o=!0}={}){const i=uo(),a=i&&i.getTransport(),c=i&&i.getDsn();if(!i||!a||!c)return;const l={contexts:{feedback:{contact_email:t,name:n,message:e,url:s,source:r}},type:"feedback"};return lo((async e=>{e.clearBreadcrumbs(),[Bm,Fm].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const s=await to(e.getOptions(),n,r,t,e,No());return null===s?(e.recordDroppedEvent("event_processor","feedback",n),null):(s.platform=s.platform||"javascript",s)}({scope:e,client:i,event:l});if(!t)return;i.emit&&i.emit("beforeSendFeedback",t,{includeReplay:Boolean(o)});const n=bi(t,c,i.getOptions()._metadata,i.getOptions().tunnel);let s;try{s=await a.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(s){if("number"==typeof s.statusCode&&(s.statusCode<200||s.statusCode>=300))throw new Error("Unable to send Feedback");return s}}))}function Um({name:e,email:t,message:n,source:r=Bm,url:s=On()},o={}){if(!n)throw new Error("Unable to submit feedback with empty message");return jm({feedback:{name:e,email:t,message:n,url:s,source:r}},o)}const Hm="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function zm(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function qm(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function Wm({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const s=Am.document,o=s.createElement("div");o.id=e;const i=o.attachShadow({mode:"open"});return i.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${qm("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${qm(n.dark)}\n  }\n}`:""}\n}`,r}(s,t,{dark:n,light:r})),i.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(s)),{shadow:i,host:o}}catch(e){throw Bn.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Gm(e,t,n){if(!e)return;e.hideError();try{return await Um({...t,source:Fm},n)}catch(t){Hm&&Bn.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function Vm(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}const Ym=20,Km="http://www.w3.org/2000/svg";function Jm(e,t,...n){const r=Am.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)Xm(r,e);return r}function Xm(e,t){const n=Am.document;if(null!=t)if(Array.isArray(t))for(const n of t)Xm(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function Zm({buttonLabel:e,onClick:t}){const n=Jm("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>Am.document.createElementNS(Km,e),t=Vm(e("svg"),{class:"feedback-icon",width:`${Ym}`,height:`${Ym}`,viewBox:`0 0 ${Ym} ${Ym}`,fill:"none"}),n=Vm(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Vm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Vm(e("clipPath"),{id:"clip0_57_80"}),i=Vm(e("rect"),{width:`${Ym}`,height:`${Ym}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),{get el(){return t}}}().el,e?Jm("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function Qm(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function ef({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:s,messagePlaceholder:o,cancelButtonLabel:i,submitButtonLabel:a,showName:c,showEmail:l,isNameRequired:u,isEmailRequired:d,defaultName:p,defaultEmail:h,onCancel:m,onSubmit:f}){const{el:g}=function({label:e}){return{el:Jm("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:a});const _=Jm("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const y=Jm("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:u,className:"form__input",placeholder:t,value:p}),v=Jm("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:h}),b=Jm("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:o}),S=Jm("button",{type:"button",className:"btn btn--default","aria-label":i,onClick:e=>{m&&m(e)}},i),w=Jm("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(f){const t=new FormData(e.target),n={name:Qm(t,"name"),email:Qm(t,"email"),message:Qm(t,"message")};f(n)}}catch(e){}}},[_,c&&Jm("label",{htmlFor:"name",className:"form__label"},[Jm("span",{className:"form__label__text"},e,u&&Jm("span",{className:"form__label__text--required"}," (required)")),y]),!c&&y,l&&Jm("label",{htmlFor:"email",className:"form__label"},[Jm("span",{className:"form__label__text"},n,d&&Jm("span",{className:"form__label__text--required"}," (required)")),v]),!l&&v,Jm("label",{htmlFor:"message",className:"form__label"},[Jm("span",{className:"form__label__text"},s,Jm("span",{className:"form__label__text--required"}," (required)")),b]),Jm("div",{className:"btn-group"},[g,S])]);return{get el(){return w},showError:function(e){_.textContent=e,_.classList.remove("form__error-container--hidden"),_.setAttribute("aria-hidden","false")},hideError:function(){_.textContent="",_.classList.add("form__error-container--hidden"),_.setAttribute("aria-hidden","true")}}}const tf="http://www.w3.org/2000/svg";function nf({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:s,isEmailRequired:o,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:l,onCancel:u,onSubmit:d,...p}){let h=null;function m(){h&&(h.open=!1)}const{el:f,showError:g,hideError:_}=ef({showEmail:r,showName:n,isEmailRequired:o,isNameRequired:s,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:u,...p});return h=Jm("dialog",{className:"dialog",open:!0,onClick:function(){m(),l&&l()}},Jm("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},Jm("h2",{className:"dialog__header"},e,t&&Jm("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>Am.document.createElementNS(tf,e),n=Vm(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Vm(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const s=t("defs"),o=t("style");return o.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(o.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),s.append(o),n.append(s),{get el(){return n}}}({colorScheme:i}).el)),f)),{get el(){return h},showError:g,hideError:_,open:function(){h&&(h.open=!0)},close:m,checkIsOpen:function(){return h&&!0===h.open||!1}}}const rf=16,sf=17,of="http://www.w3.org/2000/svg";function af({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=Jm("div",{className:"success-message",onClick:n},function(){const e=e=>Am.document.createElementNS(of,e),t=Vm(e("svg"),{class:"success-icon",width:`${rf}`,height:`${sf}`,viewBox:`0 0 ${rf} ${sf}`,fill:"none"}),n=Vm(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Vm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Vm(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Vm(e("clipPath"),{id:"clip0_57_156"}),a=Vm(e("rect"),{width:`${rf}`,height:`${rf}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}().el,e);return{el:r,remove:n}}function cf({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let s,o,i=!1;async function a(t){if(!o)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void o.showError(`Please enter in the following required fields: ${r.join(", ")}`);await Gm(o,t)?(h(),function(){if(e)try{const t=af({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),l()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){Bn.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){const e=uo(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{Hm&&Bn.error(e)}))}function l(){s&&s.show()}function u(){s&&s.hide()}function d(){try{if(o)return o.open(),i=!0,n.onFormOpen&&n.onFormOpen(),void c();const t=n.useSentryUser,r=po(),s=r&&r.getUser();if(o=nf({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:t&&s&&s[t.name]||"",defaultEmail:t&&s&&s[t.email]||"",onClosed:()=>{l(),i=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),l()},onSubmit:a}),!o.el)throw new Error("Unable to open Feedback dialog");e.appendChild(o.el),u(),n.onFormOpen&&n.onFormOpen(),c()}catch(e){Bn.error(e)}}function p(){o&&(o.close(),i=!1,n.onFormClose&&n.onFormClose())}function h(){if(o){p();const e=o.el;e&&e.remove(),o=void 0}}function m(){i||d(),u()}return r?r.addEventListener("click",m):t&&(s=Zm({buttonLabel:n.buttonLabel,onClick:m}),s.el&&e.appendChild(s.el)),{get actor(){return s},get dialog(){return o},showActor:l,hideActor:u,removeActor:function(){s&&s.el&&s.el.remove()},openDialog:d,closeDialog:p,removeDialog:h}}const lf=Am.document;class uf{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:r=!1,showBranding:s=!0,showEmail:o=!0,showName:i=!0,useSentryUser:a={email:"email",name:"username"},themeDark:c,themeLight:l,colorScheme:u="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:m="Report a Bug",emailPlaceholder:f="your.email@example.org",emailLabel:g="Email",messagePlaceholder:_="What's the bug? What did you expect?",messageLabel:y="Description",namePlaceholder:v="Your Name",nameLabel:b="Name",successMessageText:S="Thank you for your report!",onFormClose:w,onFormOpen:k,onSubmitError:T,onSubmitSuccess:E}={}){this.name=uf.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:s,id:t,isEmailRequired:n,isNameRequired:r,showEmail:o,showName:i,useSentryUser:a,colorScheme:u,themeDark:{...Pm,...c},themeLight:{...$m,...l},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:m,emailLabel:g,emailPlaceholder:f,messageLabel:y,messagePlaceholder:_,nameLabel:b,namePlaceholder:v,successMessageText:S,onFormClose:w,onFormOpen:k,onSubmitError:T,onSubmitSuccess:E}}setupOnce(){if(Xr())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){Hm&&Bn.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=zm(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?lf.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return Hm&&Bn.error("[Feedback] Unable to attach to target element"),null;const s=cf({shadow:t,options:n,attachTo:r});return this._widgets.add(s),this._widget||(this._widget=s),s}))}catch(e){return Hm&&Bn.error(e),null}}createWidget(e){try{return this._createWidget(zm(this.options,e||{}))}catch(e){return Hm&&Bn.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){Hm&&Bn.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=lf.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=cf({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(lf)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:s,themeDark:o}=e,{shadow:i,host:a}=Wm({id:t,colorScheme:r,themeLight:s,themeDark:o});this._shadow=i,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&lf.body.appendChild(this._host),r}}function df(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function pf(e){return df(e.getAllKeys())}function hf(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=df(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await Is(t,e.textEncoder);await function(e,t,n){return e((e=>pf(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),df(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>pf(e).then((t=>{if(0!==t.length)return df(e.get(t[0])).then((n=>(e.delete(t[0]),df(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function s(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function o(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(s(e)))}const i=o(),a=[];for(;r.length;){const e=o(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?s(t):o()])}return[i,a]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}uf.__initStatic();const mf=1e6,ff=String(0),gf="main";let _f="",yf="",vf="",bf=Wc.navigator&&Wc.navigator.userAgent||"",Sf="";const wf=Wc.navigator&&Wc.navigator.language||Wc.navigator&&Wc.navigator.languages&&Wc.navigator.languages[0]||"";const kf=Wc.navigator&&Wc.navigator.userAgentData;var Tf;function Ef(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[ff]:{name:gf}}};if(!e.samples.length)return r;const s=e.samples[0].timestamp,o="number"==typeof performance.timeOrigin?performance.timeOrigin:ps||0,i=o-(ps||o);for(let o=0;o<e.samples.length;o++){const a=e.samples[o];if(void 0===a.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[o]={elapsed_since_start_ns:((a.timestamp+i-s)*mf).toFixed(0),stack_id:t,thread_id:ff};continue}let c=e.stacks[a.stackId];const l=[];for(;c;){l.push(c.frameId);const t=e.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId]}const u={elapsed_since_start_ns:((a.timestamp+i-s)*mf).toFixed(0),stack_id:n,thread_id:ff};r.stacks[n]=l,r.samples[o]=u,n++}return r}(e):e}function xf(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&Kc&&Bn.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),o=Ef(n),i=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Us,runtime:{name:"javascript",version:Wc.navigator.userAgent},os:{name:_f,version:yf,build_number:bf},device:{locale:wf,model:Sf,manufacturer:bf,architecture:vf,is_emulator:!1},debug_meta:{images:Rf(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||hr(),trace_id:s,active_thread_id:ff,relative_start_ns:"0",relative_end_ns:(1e6*(a-i)).toFixed(0)}]}}function Cf(e){return"pageload"===e.op}"object"==typeof(Tf=kf)&&null!==Tf&&"getHighEntropyValues"in Tf&&kf.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(_f=e.platform||"",vf=e.architecture||"",Sf=e.model||"",yf=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];bf=`${t.brand} ${t.version}`}})).catch((e=>{}));const If=new WeakMap;function Rf(e){const t=En._sentryDebugIds;if(!t)return[];const n=uo(),r=n&&n.getOptions(),s=r&&r.stackParser;if(!s)return[];let o;const i=If.get(s);i?o=i:(o=new Map,If.set(s,o));const a=Object.keys(t).reduce(((e,n)=>{let r;const i=o.get(n);i?r=i:(r=s(n),o.set(n,r));for(let s=r.length-1;s>=0;s--){const o=r[s],i=o&&o.filename;if(o&&i){e[i]=t[n];break}}return e}),{}),c=[];for(const t of e)t&&a[t]&&c.push({type:"sourcemap",code_file:t,debug_id:a[t]});return c}let Mf=!1;const Af=3e4;function Of(e){if(Mf)return Kc&&Bn.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return Kc&&Bn.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=uo(),n=t&&t.getOptions();if(!n)return Kc&&Bn.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(s=r)&&"boolean"!=typeof s||"number"==typeof s&&isNaN(s)?(Kc&&Bn.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),0):!0===s||!1===s||!(s<0||s>1)||(Kc&&Bn.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${s}.`),0)))return Kc&&Bn.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var s;if(!r)return Kc&&Bn.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(Kc&&Bn.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Nf(e,t,n,r){return function(e){return e.samples.length<2?(Kc&&Bn.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(Kc&&Bn.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?xf(e,t,n,r):null}const Lf=new Map;function Df(e){const t=Lf.get(e);return t&&Lf.delete(e),t}function $f(e){let t;Cf(e)&&(t=1e3*ds());const n=function(){const e=Wc.Profiler;if("function"!=typeof e)return void(Kc&&Bn.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(Af/10);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){Kc&&(Bn.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),Bn.log("[Profiling] Disabling profiling for current user session.")),Mf=!0}}();if(!n)return e;Kc&&Bn.log(`[Profiling] started profiling transaction: ${Qs(e).description}`);const r=hr();async function s(){return e&&n?n.stop().then((t=>(o&&(Wc.clearTimeout(o),o=void 0),Kc&&Bn.log(`[Profiling] stopped profiling of transaction: ${Qs(e).description}`),t?(function(e,t){if(Lf.set(e,t),Lf.size>30){const e=Lf.keys().next().value;Lf.delete(e)}}(r,t),null):(Kc&&Bn.log(`[Profiling] profiler returned null profile for: ${Qs(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(Kc&&Bn.log("[Profiling] error while stopping profiler:",e),null))):null}let o=Wc.setTimeout((()=>{Kc&&Bn.log("[Profiling] max profile duration elapsed, stopping profiling for:",Qs(e).description),s()}),Af);const i=e.end.bind(e);return e.end=function(){return e?(s().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),i()}),(()=>{i()})),e):i()},e}const Pf="BrowserProfiling",Ff=()=>({name:Pf,setupOnce(){},setup(e){const t=po().getTransaction();t&&Cf(t)&&Of(t)&&$f(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{Of(e)&&$f(e)})),e.on("beforeEnvelope",(e=>{if(!Lf.size)return;const t=function(e){const t=[];return xs(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,s=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){Kc&&Bn.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){Kc&&Bn.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const o=Df(r);if(!o){Kc&&Bn.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const i=Nf(r,s,o,e);i&&n.push(i)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):Bn.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),Bf=Ri(Pf,Ff);let jf={};Wc.Sentry&&Wc.Sentry.Integrations&&(jf=Wc.Sentry.Integrations);const Uf={...jf,...ka,...lu};var Hf=Object.freeze({__proto__:null,Integrations:Uf,FunctionToString:ma,Hub:Ro,InboundFilters:ca,ModuleMetadata:ra,SDK_VERSION:xo,SEMANTIC_ATTRIBUTE_SENTRY_OP:si,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:oi,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:ri,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:ni,Scope:To,addBreadcrumb:ao,addEventProcessor:Pi,addGlobalEventProcessor:zs,addIntegration:function(e){const t=uo();t&&t.addIntegration?t.addIntegration(e):js&&Bn.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},addTracingExtensions:yi,captureEvent:io,captureException:oo,captureMessage:function(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Oo().captureMessage(e,n,r)},captureSession:go,close:async function(e){const t=uo();return t?t.close(e):(js&&Bn.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},configureScope:function(e){Oo().configureScope(e)},continueTrace:({sentryTrace:e,baggage:t},n)=>{const r=po(),{traceparentData:s,dynamicSamplingContext:o,propagationContext:i}=function(e,t){const n=Ss(e),r=_s(t),{traceId:s,parentSpanId:o,parentSampled:i}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:s||hr(),parentSpanId:o||hr().substring(16),spanId:hr().substring(16),sampled:i,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:s||hr(),spanId:hr().substring(16)}}}(e,t);r.setPropagationContext(i),js&&s&&Bn.log(`[Tracing] Continuing trace ${s.traceId}.`);const a={...s,metadata:Qn({dynamicSamplingContext:o})};return n?Lo((()=>n(a))):a},createTransport:Ui,endSession:mo,extractTraceparentData:Fo,flush:async function(e){const t=uo();return t?t.flush(e):(js&&Bn.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},functionToStringIntegration:ha,getActiveSpan:Yo,getActiveTransaction:Po,getClient:uo,getCurrentHub:Oo,getCurrentScope:po,getHubFromCarrier:Do,getSpanStatusFromHttpCode:Ho,inboundFiltersIntegration:aa,isInitialized:function(){return!!uo()},lastEventId:function(){return Oo().lastEventId()},makeMain:Ao,makeMultiplexedTransport:function(e,t){return n=>{const r=e(n),s={};function o(t,r){const o=r?`${t}:${r}`:t;if(!s[o]){const i=Hn(t);if(!i)return;const a=Ti(i);s[o]=r?function(e,t){return n=>{const r=e(n);return{send:async e=>{const n=Yi(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)},flush:e=>r.flush(e)}}}(e,r)({...n,url:a}):e({...n,url:a})}return s[o]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return Yi(e,n)}}).map((e=>"string"==typeof e?o(e,void 0):o(e.dsn,e.release))).filter((e=>!!e));return 0===n.length&&n.push(r),(await Promise.all(n.map((t=>t.send(e)))))[0]},flush:async function(e){const t=[...Object.keys(s).map((e=>s[e])),r];return(await Promise.all(t.map((t=>t.flush(e))))).every((e=>e))}}}},metrics:wa,moduleMetadataIntegration:na,parameterize:function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n},setContext:co,setCurrentClient:Bi,setExtra:function(e,t){Oo().setExtra(e,t)},setExtras:function(e){Oo().setExtras(e)},setHttpStatus:qo,setMeasurement:vi,setTag:function(e,t){Oo().setTag(e,t)},setTags:function(e){Oo().setTags(e)},setUser:function(e){Oo().setUser(e)},spanStatusfromHttpCode:zo,startInactiveSpan:Vo,startSession:ho,startSpan:function(e,t){const n=Jo(e);return Lo((()=>lo(e.scope,(r=>{const s=Oo(),o=r.getSpan(),i=e.onlyIfParent&&!o?void 0:Ko(s,{parentSpan:o,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Wo((()=>t(i)),(()=>{if(i){const{status:e}=Qs(i);e&&"ok"!==e||i.setStatus("internal_error")}}),(()=>i&&i.end()))}))))},startSpanManual:function(e,t){const n=Jo(e);return Lo((()=>lo(e.scope,(r=>{const s=Oo(),o=r.getSpan(),i=e.onlyIfParent&&!o?void 0:Ko(s,{parentSpan:o,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function a(){i&&i.end()}return Wo((()=>t(i,a)),(()=>{if(i&&i.isRecording()){const{status:e}=Qs(i);e&&"ok"!==e||i.setStatus("internal_error")}}))}))))},startTransaction:function(e,t){return Oo().startTransaction({...e},t)},trace:function(e,t,n=(()=>{}),r=(()=>{})){const s=Oo(),o=po(),i=o.getSpan(),a=Jo(e),c=Ko(s,{parentSpan:i,spanContext:a,forceTransaction:!1,scope:o});return o.setSpan(c),Wo((()=>t(c)),(e=>{c&&c.setStatus("internal_error"),n(e,c)}),(()=>{c&&c.end(),o.setSpan(i),r()}))},withActiveSpan:function(e,t){return lo((n=>(n.setSpan(e),t(n))))},withIsolationScope:function(e){return Lo((()=>e(No())))},withScope:lo,WINDOW:Wc,BrowserClient:al,makeFetchTransport:ll,makeXHRTransport:dl,chromeStackLineParser:gl,defaultStackLineParsers:xl,defaultStackParser:Cl,geckoStackLineParser:vl,opera10StackLineParser:kl,opera11StackLineParser:El,winjsStackLineParser:Sl,eventFromException:tl,eventFromMessage:nl,exceptionFromError:Jc,createUserFeedbackEnvelope:il,captureUserFeedback:function(e){const t=uo();t&&t.captureUserFeedback(e)},defaultIntegrations:iu,forceLoad:function(){},getDefaultIntegrations:au,init:cu,onLoad:function(e){e()},showReportDialog:(e={},t=Oo())=>{if(!Wc.document)return void(Kc&&Bn.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),s=e.dsn||n&&n.getDsn();if(!s)return void(Kc&&Bn.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const o=Wc.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=function(e,t){const n=qn(e);if(!n)return"";const r=`${wi(n)}embed/error-page/`;let s=`dsn=${Un(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(s+=`&name=${encodeURIComponent(e.name)}`),e.email&&(s+=`&email=${encodeURIComponent(e.email)}`)}else s+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${s}`}(s,e),e.onLoad&&(o.onload=e.onLoad);const{onClose:i}=e;if(i){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{i()}finally{Wc.removeEventListener("message",e)}};Wc.addEventListener("message",e)}const a=Wc.document.head||Wc.document.body;a?a.appendChild(o):Kc&&Bn.error("Not injecting report dialog. No injection point found in HTML")},wrap:function(e){return Yc(e)()},Breadcrumbs:Ol,breadcrumbsIntegration:Al,Dedupe:Dl,dedupeIntegration:Ll,GlobalHandlers:Hl,globalHandlersIntegration:Ul,HttpContext:Yl,httpContextIntegration:Vl,LinkedErrors:Xl,linkedErrorsIntegration:Jl,TryCatch:tu,browserApiErrorsIntegration:eu,Replay:em,getReplay:function(){const e=uo();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")},replayIntegration:e=>new em(e),ReplayCanvas:Mm,replayCanvasIntegration:Rm,Feedback:uf,feedbackIntegration:e=>new uf(e),sendFeedback:Um,BrowserTracing:class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,yi(),Ta&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...Lc,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Sc(),this._interactionIdtoRouteNameMapping={},this.options.enableInp&&Tc(this._interactionIdtoRouteNameMapping),this.options.enableLongTask&&wc(),this.options._experiments.enableInteractions&&kc(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:o,startTransactionOnPageLoad:i,markBackgroundTransactions:a,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,m=h||this.options.tracePropagationTargets;Ta&&this._hasSetTracePropagationTargets&&h&&Bn.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),i,o),a&&xa(),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Ac({traceFetch:c,traceXHR:l,tracePropagationTargets:m,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Ta&&Bn.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:s,heartbeatInterval:o}=this.options,i="pageload"===e.op;let a;if(i){const t=i?Dc("sentry-trace"):"",n=i?Dc("baggage"):void 0,{traceId:r,dsc:s,parentSpanId:o,sampled:c}=ws(t,n);a={traceId:r,parentSpanId:o,parentSampled:c,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else a={trimEnd:!0,...e};const c="function"==typeof n?n(a):a,l=void 0===c?{...a,sampled:!1}:c;l.metadata=l.name!==a.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,!1===l.sampled&&Ta&&Bn.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),Ta&&Bn.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:u}=Ea,d=_i(t,l,r,s,!0,{location:u},o,i);return i&&(Ea.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Ea.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(Ea.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),Ec(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,s="ui.action.click",o=Po();if(o&&o.op&&["navigation","pageload"].includes(o.op))return void(Ta&&Bn.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(Ta&&Bn.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(Ta&&Bn.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const i=this._getCurrentHub(),{location:a}=Ea,c={name:this._latestRoute.name,op:s,trimEnd:!0,data:{[ni]:this._latestRoute.context?$c(this._latestRoute.context):"url"}};e=_i(i,c,t,n,!0,{location:a},r)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){rc("event",(({entries:e})=>{const t=uo(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,s=Po(),o=po(),i=void 0!==o?o.getUser():void 0;for(const t of e)if(Pc(t)){const e=t.duration,n=Object.keys(this._interactionIdtoRouteNameMapping),o=n.length>0?n.reduce(((e,t)=>this._interactionIdtoRouteNameMapping[e].duration<this._interactionIdtoRouteNameMapping[t].duration?e:t)):void 0;if(void 0===o||e>this._interactionIdtoRouteNameMapping[o].duration){const n=t.interactionId,a=this._latestRoute.name,c=this._latestRoute.context;n&&a&&c&&(o&&Object.keys(this._interactionIdtoRouteNameMapping).length>=10&&delete this._interactionIdtoRouteNameMapping[o],this._interactionIdtoRouteNameMapping[n]={routeName:a,duration:e,parentContext:c,user:i,activeTransaction:s,replayId:r})}}}))}},browserTracingIntegration:(e={})=>{const t=!!Ta&&!(!e.tracePropagationTargets&&!e.tracingOrigins);yi(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...Fc,...e},r=Sc(),s={};n.enableInp&&Tc(s),n.enableLongTask&&wc(),n._experiments.enableInteractions&&kc();const o={name:void 0,context:void 0};function i(e){const t=Oo(),{beforeStartSpan:s,idleTimeout:i,finalTimeout:a,heartbeatInterval:c}=n,l="pageload"===e.op;let u;if(l){const t=l?Uc("sentry-trace"):"",n=l?Uc("baggage"):void 0,{traceId:r,dsc:s,parentSpanId:o,sampled:i}=ws(t,n);u={traceId:r,parentSpanId:o,parentSampled:i,...e,metadata:{...e.metadata,dynamicSamplingContext:s},trimEnd:!0}}else u={trimEnd:!0,...e};const d=s?s(u):u;d.metadata=d.name!==u.name?{...d.metadata,source:"custom"}:d.metadata,o.name=d.name,o.context=d,!1===d.sampled&&Ta&&Bn.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),Ta&&Bn.log(`[Tracing] Starting ${d.op} transaction on scope`);const{location:p}=Ea,h=_i(t,d,i,a,!0,{location:p},c,l);return l&&Ea.document&&(Ea.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Ea.document.readyState)&&h.sendAutoFinishSignal()})),["interactive","complete"].includes(Ea.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((e=>{r(),Ec(e)})),h}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const r=e.getOptions(),{markBackgroundSpan:a,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=n,h=r&&r.tracePropagationTargets,m=h||n.tracePropagationTargets;let f;Ta&&t&&h&&Bn.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g=Ea.location&&Ea.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{f&&(Ta&&Bn.log(`[Tracing] Finishing current transaction with op: ${Qs(f).op}`),f.end()),f=i({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{f&&(Ta&&Bn.log(`[Tracing] Finishing current transaction with op: ${Qs(f).op}`),f.end()),f=i({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&Ea.location){const t={name:Ea.location.pathname,startTimestamp:ps?ps/1e3:void 0,origin:"auto.pageload.browser",attributes:{[ni]:"url"}};Bc(e,t)}n.instrumentNavigation&&e.emit&&Ea.location&&qr((({to:t,from:n})=>{if(void 0===n&&g&&-1!==g.indexOf(t))g=void 0;else if(n!==t){g=void 0;const t={name:Ea.location.pathname,origin:"auto.navigation.browser",attributes:{[ni]:"url"}};jc(e,t)}})),a&&xa(),p.enableInteractions&&function(e,t){let n;const r=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:o}=e,i="ui.action.click",a=Po();if(a&&a.op&&["navigation","pageload"].includes(a.op))return void(Ta&&Bn.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(Ta&&Bn.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const{location:c}=Ea,l={name:t.name,op:i,trimEnd:!0,data:{[ni]:t.context?qc(t.context):"url"}};n=_i(Oo(),l,r,s,!0,{location:c},o)};["click"].forEach((e=>{addEventListener(e,r,{once:!1,capture:!0})}))}(n,o),n.enableInp&&function(e,t){rc("event",(({entries:n})=>{const r=uo(),s=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,o=void 0!==s?s.getReplayId():void 0,i=Po(),a=po(),c=void 0!==a?a.getUser():void 0;for(const r of n)if(Hc(r)){const n=r.duration,s=Object.keys(e),a=s.length>0?s.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if(void 0===a||n>e[a].duration){const s=r.interactionId,l=t.name,u=t.context;s&&l&&u&&(a&&Object.keys(e).length>=zc&&delete e[a],e[s]={routeName:l,duration:n,parentContext:u,user:c,activeTransaction:i,replayId:o})}}}))}(s,o),Ac({traceFetch:c,traceXHR:l,tracePropagationTargets:m,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:n}},defaultRequestInstrumentationOptions:Mc,instrumentOutgoingRequests:Ac,startBrowserTracingNavigationSpan:jc,startBrowserTracingPageLoadSpan:Bc,makeBrowserOfflineTransport:function(e){return function(e){return t=>e({...t,createStore:hf})}(Vi(e))},onProfilingStartRouteTransaction:function(e){return e?Of(e)?$f(e):e:(Kc&&Bn.log("[Profiling] Transaction is undefined, skipping profiling"),e)},BrowserProfilingIntegration:Bf,browserProfilingIntegration:Ff});return(cu({...{dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.20.1",environment:Pe(),tracesSampleRate:Pe()===$e.prod?.9:1}}),window.addEventListener("unhandledrejection",(e=>{io(e.reason)})),Hf).setContext("appContext",{location:"onboarding"}),new class extends _e{constructor(e){super(),ge(this,e,en,Qt,a,{})}}({target:document.body}),e.SCREENS=be,e.currentStep=Se,e.onboardingSteps=Te,e.updateRoute=ke,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=onboarding.js.map
