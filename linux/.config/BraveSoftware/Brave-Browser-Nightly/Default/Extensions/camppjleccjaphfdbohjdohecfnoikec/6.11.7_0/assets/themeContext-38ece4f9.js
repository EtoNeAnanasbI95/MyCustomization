import{r,j as l}from"./client-45b27fd3.js";import{g as d}from"./index-9b1f0f42.js";import{L as f}from"./hook-ae816606.js";function h(e,t,s){const m=r.useCallback(n=>window.matchMedia(n),[]),o=r.useMemo(()=>e.map(m),[e,m]),c=r.useCallback(()=>{const n=o.findIndex(i=>i.matches);return(t==null?void 0:t[n])||s},[t,s,o]),[u,a]=r.useState(c);return r.useEffect(()=>{const n=()=>a(c);return o.forEach(i=>i.addEventListener("change",n)),()=>o.forEach(i=>i.removeEventListener("change",n))},[c,o]),u}const k=r.createContext(null),p=({children:e,websiteOverride:t})=>{const[s=null]=f({instance:new d({area:"local"}),key:"userThemePreference"}),[m,o]=r.useState(!0),c=h(["(prefers-color-scheme: dark)"],[!0],!1),a=g(s==="system"?c?"dark":"light":s);r.useEffect(()=>{s&&o(!1)},[s]);const n=r.useMemo(()=>({isDark:a}),[a]);return l.jsx(k.Provider,{value:n,children:!m&&t?l.jsx("div",{className:`flex-1 ${y()&&"dark"}`,children:e}):l.jsx("div",{className:`flex-1 ${a&&"dark"}`,children:e})})};function g(e){let t=!1;return e?e==="system"?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t=!0):e==="dark"?t=!0:e==="light"&&(t=!1):t=!1,t}function y(){const e=window.location.origin;return e.includes("linkedin.com")?!!(document.documentElement.className.includes("theme--dark")||document.documentElement.className.includes("theme--mercado-dark")):e.includes("gmail.com")||e.includes("mail.google.com")?!1:e.includes("twitter.com")||e.includes("x.com")?document.body.style.backgroundColor==="rgb(21, 32, 43)"||document.body.style.backgroundColor==="rgb(0, 0, 0)":e.includes("facebook.com")?!!document.documentElement.className.includes("__fb-dark-mode"):e.includes("outlook.live.com")?!!document.documentElement.getAttribute("style").includes("--black: #FFFFFF;"):e.includes("google.com")?document.head.querySelector('meta[name="color-scheme"]')!=null:!1}export{p as T,k as a,y as h,h as u};
