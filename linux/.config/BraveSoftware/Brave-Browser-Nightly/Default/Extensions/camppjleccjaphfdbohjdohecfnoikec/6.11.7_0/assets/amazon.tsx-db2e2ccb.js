import{r as m,R as d,j as e,c as f}from"./client-45b27fd3.js";import{g as u,L as b}from"./index-825701e8.js";import{S as p}from"./merlin-logo-9fa3c977.js";import{A as i}from"./index-9b1f0f42.js";import{f as l}from"./analytics-46c41402.js";import{u as x}from"./useTranslation-c38a45bb.js";import{C as h}from"./index-24d5af66.js";import{A}from"./index-37dc4817.js";import{h as g,T as w}from"./themeContext-38ece4f9.js";import{c as v}from"./index-5c33a703.js";import"./i18n-697e4fe6.js";import"./hook-ae816606.js";function y(){const{t:o}=x(),[t,s]=m.useState([]),[r,n]=m.useState(!1);return d.useEffect(()=>{r===!0&&setTimeout(()=>n(!1),3e3)},[r]),d.useEffect(()=>{(async()=>{const c=await u();c&&s(c.misc.merlinOnAmazon.questions)})()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"group/amazon relative my-4 flex w-fit",children:[e.jsx("div",{className:"gradient-animated relative flex w-fit rounded-md p-[1px]",children:e.jsxs("button",{type:"button",onClick:()=>{l({eventName:"ctaOnAmazonClickedDefaultQuestion",eventType:"Button",feature:"AmazonCTA",firedFromFile:"components/ctaOnAmazon"}),window.parent.postMessage({data:{action:i.OPEN_CHAT_WEB_BLOG},type:i.OPEN_CHAT_WEB_BLOG},"*")},className:"relative flex w-fit max-w-xs flex-auto items-center justify-center gap-2 rounded-md border border-zinc-400 bg-white px-3 py-2 text-zinc-800",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsx("span",{children:o("amazon.ask_ai")})]})}),!r&&e.jsx("div",{className:"invisible absolute left-0 top-[100%] z-10 w-64 overflow-hidden bg-transparent py-2 group-hover/amazon:visible",children:e.jsxs("div",{className:"rounded-lg border border-zinc-300 bg-zinc-50 px-2 py-2 transition-[min-height] duration-500",children:[e.jsx("div",{className:"flex w-full flex-col gap-2",children:t.map((a,c)=>e.jsx("button",{onClick:()=>{l({eventData:a,eventName:"ctaOnAmazonClickedCustomQuestion",eventType:"Button",feature:"AmazonCTA",firedFromFile:"components/ctaOnAmazon"}),n(!0),window.parent.postMessage({data:{action:i.OPEN_CHAT_AMAZON,autoSend:!0,question:a},type:i.OPEN_CHAT_AMAZON},"*")},type:"button",className:"border-cornblue-600 hover:bg-cornblue-100 w-full rounded-md border px-3 py-2 text-left text-zinc-800",children:a},c))}),e.jsxs("button",{type:"button",onClick:()=>{l({eventName:"ctaOnAmazonClickedDefaultQuestion",eventType:"Button",feature:"AmazonCTA",firedFromFile:"components/ctaOnAmazon"}),n(!0),window.parent.postMessage({data:{action:i.OPEN_CHAT_WEB_BLOG},type:i.OPEN_CHAT_WEB_BLOG},"*")},className:"bg-cornblue-600 hover:bg-cornblue-500 mt-2 flex w-full flex-auto items-center justify-center gap-2 rounded-md border border-zinc-400 px-3 py-2 text-white",children:[e.jsx(p,{className:"h-5 w-5"}),e.jsx("span",{children:o("amazon.ask_questions")})]})]})})]})})}const z=async()=>{const o=await u();if(o&&(!o.misc.merlinOnAmazon||!o.misc.merlinOnAmazon.visible))return;const t=await C();t&&!t.querySelector("merlin-component")&&N(s=>t.insertBefore(s,t.lastChild.nextSibling))},C=()=>new Promise(o=>{const t=new MutationObserver(O(s=>{const r=document.querySelector("div#apex_desktop");r&&(o(r),t.disconnect())},300));t.observe(document.body,{childList:!0,subtree:!0})}),N=async o=>{const t=document.createElement("merlin-component");t.id="merlin-fabStrip",t.className="merlin fabStrip";const s=t.attachShadow({mode:"open"}),r=document.createElement("style");r.textContent=`${v}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const n=document.createElement("div");n.id="reactAppRoot",n.className="reactAppRoot fabStrip";const a=await b.get("userThemePreference");a&&(a==="system"?g()&&(n.className+=" dark"):a==="dark"&&(n.className+=" dark")),s.appendChild(r),s.appendChild(n),o(t),f(n).render(e.jsx(T,{}))};function T(o){return e.jsx(h,{children:e.jsx(A,{children:e.jsx(w,{websiteOverride:!0,children:e.jsx(y,{})})})})}function O(o,t){let s;return function(){const r=this,n=arguments;clearTimeout(s),s=setTimeout(()=>o.apply(r,n),t)}}z();export{T as PlasmoWrappedAmazon};
