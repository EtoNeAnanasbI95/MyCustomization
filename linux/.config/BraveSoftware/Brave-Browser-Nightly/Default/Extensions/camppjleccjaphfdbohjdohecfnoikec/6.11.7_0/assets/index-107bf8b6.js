import{r as x,j as e}from"./client-45b27fd3.js";import{T as i}from"./webAccessTooltip-5740d933.js";import{u as b}from"./useSharedUserSettings-04e5c292.js";import{j as h,e as c}from"./index-9b1f0f42.js";import{f as k}from"./analytics-46c41402.js";import{c as s,r as j}from"./index-825701e8.js";import{u as g}from"./useTranslation-c38a45bb.js";import{I as d}from"./useOnClickOutside-4f6061f4.js";import{c as y}from"./createReactComponent-d14705e3.js";var v=y("gift","IconGift",[["path",{d:"M3 8m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M12 8l0 13",key:"svg-1"}],["path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7",key:"svg-2"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5",key:"svg-3"}]]),f=y("infinity","IconInfinity",[["path",{d:"M9.828 9.172a4 4 0 1 0 0 5.656a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828",key:"svg-0"}]]);const E=x.memo(({extraHandler:l,queryCTA:a,usageDetails:r})=>{var m,u;const{t:o}=g(),{sharedUserSettingsQuery:p}=b(),t=x.useCallback(()=>{let n=r.limit-r.used;return n<0&&(n=0),n>5e4&&(n=1/0),n},[r]);return(m=p.data.apiKey)!=null&&m.enabled&&((u=p.data.apiKey)!=null&&u.value)?e.jsx("span",{className:"flex cursor-pointer items-center justify-center gap-1 rounded border border-sky-500 px-1 py-1 dark:border-sky-600",onClick:()=>s(c+"?from=query-count-badge-chat-header"),children:e.jsxs("span",{className:"group relative flex items-center px-1 text-sky-700 dark:text-sky-200",children:[e.jsx(d,{className:"res-icon-big "}),o("query_count_badge.key"),e.jsx(i,{children:o("query_count_badge.openai_key")})]})}):(r==null?void 0:r.type)===h.PAID?e.jsx("span",{className:"flex cursor-pointer items-center justify-center gap-2 rounded border border-amber-500 p-1 dark:border-amber-600",onClick:()=>s(c+"?from=query-count-badge-chat-header"),children:e.jsxs("span",{className:"group relative flex items-center px-1 text-amber-700 dark:text-amber-200",children:[e.jsx(d,{className:"res-icon-big"}),t()===1/0?e.jsx(f,{className:"res-icon-small"}):t(),e.jsx(i,{children:`${t()===1/0?"Infinite":t()} queries left`})]})}):r!=null&&r.type&&j(r.type)?e.jsx("span",{className:"flex cursor-pointer items-center justify-center gap-1 rounded border border-sky-500 px-1 py-1 dark:border-sky-600",onClick:()=>s(c+"?from=query-count-badge-chat-header"),children:e.jsxs("span",{className:"group relative flex items-center px-1 text-sky-700 dark:text-sky-200",children:[e.jsx(d,{className:"res-icon-big "}),o("query_count_badge.work"),e.jsx(i,{children:o("query_count_badge.business_plan")})]})}):e.jsxs("span",{className:"border-cornblue-600 dark:border-cornblue-600 flex cursor-pointer items-center justify-center gap-2 rounded border p-1 ",children:[e.jsxs("span",{className:"text-cornblue-700 dark:text-cornblue-200 group relative flex items-center px-1",onClick:()=>s(c+"?from=query-count-badge-chat-header"),children:[e.jsx(d,{className:"res-icon-big"}),t()===1/0?e.jsx(f,{className:"res-icon-small"}):t(),e.jsx(i,{children:`${t()===1/0?"Infinite":t()} queries left`})]}),a&&e.jsxs("button",{type:"button",onClick:()=>{l?l():s(a.url),k({eventData:a.text,eventName:"QueryCTAButton",eventType:"Button",feature:"QueryBadgeCount",firedFromFile:"components/queryBadgeCount"})},className:"c-transition-colors text-cornblue-100 flex gap-2 rounded-full bg-gradient-to-r from-violet-600 to-indigo-600 p-1 px-2 py-0.5 text-center text-sm",children:[e.jsx(v,{className:"res-icon-small dark:text-cornblue-100"}),e.jsx("span",{className:"pt-[2px]",children:a.text})]})]})});export{E as Q};
