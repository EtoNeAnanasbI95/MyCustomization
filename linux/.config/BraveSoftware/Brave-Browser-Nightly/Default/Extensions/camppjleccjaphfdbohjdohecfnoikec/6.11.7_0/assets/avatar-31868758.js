import{r as s,R as P,j as g}from"./client-45b27fd3.js";import{h as F}from"./index-9b1f0f42.js";import{$ as E,_ as x}from"./index-cf2cbbfc.js";import{$ as V,g as q,e as D}from"./index-9811e1a4.js";import{c as y}from"./utils-01642ffa.js";const R=e=>{let t;const n=new Set,o=(d,v)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const l=t;t=v??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,l))}},r=()=>t,i={setState:o,getState:r,getInitialState:()=>S,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{n.clear()}},S=t=e(o,r,i);return i},T=e=>e?R(e):R;var h={exports:{}},L={},w={exports:{}},I={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=s;function W(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k=typeof Object.is=="function"?Object.is:W,B=m.useState,U=m.useEffect,z=m.useLayoutEffect,G=m.useDebugValue;function K(e,t){var n=t(),o=B({inst:{value:n,getSnapshot:t}}),r=o[0].inst,a=o[1];return z(function(){r.value=n,r.getSnapshot=t,b(r)&&a({inst:r})},[e,n,t]),U(function(){return b(r)&&a({inst:r}),e(function(){b(r)&&a({inst:r})})},[e]),G(n),n}function b(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k(e,n)}catch{return!0}}function H(e,t){return t()}var J=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?H:K;I.useSyncExternalStore=m.useSyncExternalStore!==void 0?m.useSyncExternalStore:J;w.exports;w.exports=I;var Q=w.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=s,X=Q;function Y(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z=typeof Object.is=="function"?Object.is:Y,ee=X.useSyncExternalStore,te=$.useRef,ne=$.useEffect,re=$.useMemo,oe=$.useDebugValue;L.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var a=te(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=re(function(){function i(l){if(!S){if(S=!0,d=l,l=o(l),r!==void 0&&c.hasValue){var p=c.value;if(r(p,l))return v=p}return v=l}if(p=v,Z(d,l))return p;var A=o(l);return r!==void 0&&r(p,A)?p:(d=l,v=A)}var S=!1,d,v,f=n===void 0?null:n;return[function(){return i(t())},f===null?void 0:function(){return i(f())}]},[t,n,o,r]);var u=ee(e,a[0],a[1]);return ne(function(){c.hasValue=!0,c.value=u},[u]),oe(u),u};h.exports;h.exports=L;var ae=h.exports;const se=F(ae),{useDebugValue:ce}=P,{useSyncExternalStoreWithSelector:ue}=se;const ie=e=>e;function de(e,t=ie,n){const o=ue(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ce(o),o}const _=e=>{const t=typeof e=="function"?T(e):e,n=(o,r)=>de(t,o,r);return Object.assign(n,t),n},_e=e=>e?_(e):_,j="Avatar",[le,De]=V(j),[fe,C]=le(j),pe=s.forwardRef((e,t)=>{const{__scopeAvatar:n,...o}=e,[r,a]=s.useState("idle");return s.createElement(fe,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a},s.createElement(E.span,x({},o,{ref:t})))}),Se="AvatarImage",ve=s.forwardRef((e,t)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:r=()=>{},...a}=e,c=C(Se,n),u=be(o),i=q(S=>{r(S),c.onImageLoadingStatusChange(S)});return D(()=>{u!=="idle"&&i(u)},[u,i]),u==="loaded"?s.createElement(E.img,x({},a,{ref:t,src:o})):null}),me="AvatarFallback",$e=s.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:o,...r}=e,a=C(me,n),[c,u]=s.useState(o===void 0);return s.useEffect(()=>{if(o!==void 0){const i=window.setTimeout(()=>u(!0),o);return()=>window.clearTimeout(i)}},[o]),c&&a.imageLoadingStatus!=="loaded"?s.createElement(E.span,x({},r,{ref:t})):null});function be(e){const[t,n]=s.useState("idle");return D(()=>{if(!e){n("error");return}let o=!0;const r=new window.Image,a=c=>()=>{o&&n(c)};return n("loading"),r.onload=a("loaded"),r.onerror=a("error"),r.src=e,()=>{o=!1}},[e]),t}const O=pe,N=ve,M=$e,ge=s.forwardRef(({className:e,...t},n)=>g.jsx(O,{ref:n,className:y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ge.displayName=O.displayName;const Ee=s.forwardRef(({className:e,...t},n)=>g.jsx(N,{ref:n,className:y("aspect-square h-full w-full",e),...t}));Ee.displayName=N.displayName;const xe=s.forwardRef(({className:e,...t},n)=>g.jsx(M,{ref:n,className:y("bg-muted flex h-full w-full items-center justify-center rounded-full",e),...t}));xe.displayName=M.displayName;export{ge as A,xe as a,T as b,_e as c,Ee as d,de as u};
