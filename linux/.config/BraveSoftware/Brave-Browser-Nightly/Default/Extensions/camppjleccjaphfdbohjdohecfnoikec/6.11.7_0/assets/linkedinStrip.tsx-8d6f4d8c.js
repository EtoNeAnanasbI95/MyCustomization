import{R as G,r as H,j as E,c as Q}from"./client-45b27fd3.js";import{S,g as X,P as W,U as J}from"./index-9b1f0f42.js";import{L as Z}from"./hook-ae816606.js";import{g as ee,i as te}from"./index-825701e8.js";import{C as oe}from"./index-24d5af66.js";import{u as ae,F as ue}from"./index-1e8e4211.js";import{u as me}from"./useUrlChange-a43c51a9.js";import{u as de}from"./useWindowSize-08198345.js";import{u as pe}from"./useTranslation-c38a45bb.js";import{A as ne}from"./index-37dc4817.js";import{T as re}from"./themeContext-38ece4f9.js";import{q as fe,a as ye}from"./backend-b5a741e2.js";import{c as ie}from"./index-5c33a703.js";import{P as Se}from"./PersistQueryClientProvider-53edff98.js";import"./index-203ce83a.js";import"./index-fa8b2430.js";import"./index-39fb8d8a.js";import"./motion-2f15212b.js";import"./IconThumbUp-e2c311b9.js";import"./createReactComponent-d14705e3.js";import"./index-6199ef00.js";import"./analytics-46c41402.js";import"./useAsyncWithPromise-6dde1473.js";import"./useSSE-35954031.js";import"./languageLogoMap-9be38ce0.js";import"./index-83e03e04.js";import"./foyerLogo-7f07d1ff.js";import"./index-b9ed417e.js";import"./useSharedUserSettings-04e5c292.js";import"./useMutation-24b8df85.js";import"./useOnClickOutside-4f6061f4.js";import"./useUserSettings-c0487dc5.js";import"./fuzzysort-5484efc2.js";import"./IconX-71686591.js";import"./IconCheck-740a5f2a.js";import"./v4-4a60fe23.js";import"./IconSearch-2beabc71.js";import"./IconChevronLeft-dc942a4c.js";import"./IconExclamationCircle-56aaab40.js";import"./IconSend-9aa4a715.js";import"./IconChevronRight-f54b4a77.js";import"./IconQuestionMark-483d2d08.js";import"./IconLanguage-57b34183.js";import"./IconSettings-4208f539.js";import"./IconBulb-63654e33.js";const he="I want to connect with this person on Linkedin. Can you write a 300 characters note requesting to connect, in a professional tone specifically talking about their experience or education?";function _e(){const t=document.createElement("div");t.className="artdeco-loader artdeco-loader--small artdeco-button__icon",t.style.width="20px",t.style.height="20px",t.style.display="inline-block",t.style.verticalAlign="middle";for(let o=0;o<12;o+=1){const e=document.createElement("span");e.className="artdeco-loader__bars",t.appendChild(e)}return t}const le=(t,o)=>{var e;if(t.nodeType===Node.TEXT_NODE)return t!=null&&t.wholeText.toLocaleLowerCase().includes(o.toLocaleLowerCase())?!0:(e=t.nodeValue)==null?void 0:e.toLocaleLowerCase().includes(o);if(t.nodeType===Node.ELEMENT_NODE){for(let i=0;i<t.childNodes.length;i++)if(le(t.childNodes[i],o))return!0}return!1};function se(t){var c,u;const o=t.closest(".scaffold-layout__main");let e;const i=o.querySelector(".distance-badge");i&&(e=((u=(c=i.querySelector("span.dist-value"))==null?void 0:c.textContent)==null?void 0:u.trim())||null);const d=(y,n)=>{if(!y)return null;const f=y.querySelectorAll("button, [role='button']");for(const s of f)if(le(s,n))return s;return null},l=o.querySelector("section .pv-top-card-v2-ctas");if(l&&(e==="2nd"||e==="3rd")){const y=l.querySelector('li-icon[type="connect"]');if(y){const r=y.closest("button");if(r)return r}const n=l.querySelector('svg[data-test-icon="connect-small"]');if(n){const r=n.closest("button");if(r)return r}const f=l.querySelector("artdeco-dropdown__content .pvs-overflow-actions-dropdown__content");if(f){const r=f.querySelector('li-icon[type="connect"]');if(r){const b=r.closest('div[role="button"]');if(b)return b}const p=l.querySelector('svg[data-test-icon="connect-medium"]');if(p){const b=p.closest('div[role="button"]');if(b)return b}}const s=d(l,"Connect");return s||null}}function be(t){const{t:o}=pe(),{shadowWrapper:e}=t,[i]=de(),d=me(),[l,c]=G.useState(null),u=G.useRef(null),{[l]:y}=ae(l,"linkedin");async function n(){u.current=se(e),u.current.click(),await new Promise(r=>setTimeout(r,0));const f=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__actionbar');let s=null;if(f&&(s=f.querySelector('button[aria-label="Add a note"]'),s)){try{s.style.display="none";const r=_e();f.prepend(r);const p=1e3+Math.random()*1e3;await new Promise(b=>setTimeout(b,p)),s.click(),r.remove()}catch{s.style.display="block"}await new Promise(r=>setTimeout(r,800)),await y.setSharedState({prompt:he,status:"loading"})}}return G.useEffect(()=>{try{e&&(i<=991?(e.parentElement.style.flexWrap="wrap",e.style.marginTop="8px"):(e.parentElement.style.flexWrap="nowrap",e.style.marginTop="0px"))}catch{}},[e,i]),H.useEffect(()=>{var s;const f=e.closest("section.pv-top-card");if(f){const r=((s=f.getAttribute("data-member-id"))==null?void 0:s.trim())||null;r&&c(r)}},[e,d]),E.jsx("button",{className:"center-with-flex c-transition-colors bg-cornblue-500  text-cornblue-100 hover:bg-cornblue-600 dark:bg-cornblue-600 dark:hover:bg-cornblue-500 whitespace-nowrap rounded-full px-4 py-2 text-base font-semibold leading-none hover:text-zinc-200",type:"button",onClick:n,children:E.jsxs("span",{className:"align-middle",children:["âœ¨ ",o("external_mount.pro_connect")]})})}function ce(t=!1){var u,y;const o=document.getElementsByClassName("share-box");o.length>0&&(o[0].querySelector(".share-creation-state__bottom merlin-component")||$(n=>o[0].querySelector(".share-creation-state__bottom").prepend(n),S.LINKEDIN.POST));const e=document.querySelectorAll(".msg-convo-wrapper .msg-form, .msg-overlay-conversation-bubble__content-wrapper .msg-form");if(e.length>0)for(let n=0;n<e.length;n++)t&&e[n].querySelector("merlin-component")&&e[n].querySelector("merlin-component").remove(),e[n].querySelector("merlin-component")||$(f=>e[n].insertBefore(f,e[n].querySelector("footer")),S.LINKEDIN.MESSAGE);const i=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__content'),d=document.querySelector('[aria-labelledby="send-invite-modal"] .artdeco-modal__content .relative');i&&d&&(i.querySelector("merlin-component")||$(n=>{i.querySelector(".relative").insertAdjacentElement("afterend",n)},S.LINKEDIN.INVITE));const l=document.querySelector(".scaffold-layout__main");if(l){const n=l.querySelector("section .pv-top-card-v2-ctas");if(n&&n){const s=l.querySelector(".distance-badge");if(s){const r=((y=(u=s.querySelector("span.dist-value"))==null?void 0:u.textContent)==null?void 0:y.trim())||null;if(r)if(r==="2nd"||r==="3rd"){const p=n,b=se(p);p&&!p.querySelector("merlin-component")&&b&&Ce(p,r)}else{const p=n.querySelector("merlin-component");p&&p.remove()}}}}const c=document.querySelectorAll(".feed-shared-update-v2__comments-container .comments-comment-box, .feed-shared-update-v2__comments-container .comments-comment-box--cr");if(c.length>0)for(let n=0;n<c.length;n++){const f=c[n].closest(".comments-comment-item__nested-items , .comments-comments-list");!c[n].parentNode.querySelector("merlin-component")&&c[n].querySelector('.comments-comment-box__form div.ql-editor[role="textbox"]')&&$(s=>c[n].querySelector("form").querySelector(".comments-comment-texteditor").appendChild(s),f?S.LINKEDIN.COMMENT_REPLY:S.LINKEDIN.COMMENT)}}ce();const xe=async()=>{const t=await ee();if(t&&!t.fabStrip.linkedIn.visible)return;const o=await ge();o.className==="share-box"&&!o.querySelector(".share-creation-state__bottom merlin-component")&&$(l=>o.querySelector(".share-creation-state__bottom").prepend(l),S.LINKEDIN.POST);let e=window.location.href;const i=new MutationObserver(te(()=>{ce(e!==window.location.href),e=window.location.href},300)),d={childList:!0,subtree:!0};i.observe(document.body,d)};function ge(){return new Promise(t=>{const o=new MutationObserver(te(()=>{const e=document.querySelector(".share-box, .feed-shared-update-v2__comments-container, .msg-convo-wrapper, [aria-labelledby='send-invite-modal'] .artdeco-modal__content, .msg-overlay-conversation-bubble__content-wrapper, .scaffold-layout__main .pv-top-card-v2-ctas");e&&(t(e),o.disconnect())},50));o.observe(document.body,{childList:!0,subtree:!0})})}async function $(t,o){var M,B,T,k;const e=document.createElement("merlin-component");e.id="merlin-fabStrip",e.className="merlin fabStrip";const i=e.attachShadow({mode:"open"}),d=document.createElement("style");d.textContent=`${ie}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      margin: 0 0 5px 0;
      padding: 0;
      box-sizing: border-box;
      z-index: 1;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const l=document.createElement("div");l.id="reactAppRoot",l.className="reactAppRoot fabStrip",i.appendChild(d),i.appendChild(l),t(e);let c=null,u=null,y=null,n=null,f=null,s=null,r=null,p=null;const b=document.querySelector(".feed-identity-module__actor-meta .ember-view .t-bold");b&&(r=b.textContent);const F=document.querySelector(".identity-headline");F&&(p=F.textContent);let h;const L=document.querySelector(".global-nav__me-photo");L&&(h=L.getAttribute("alt"));const m={user:h,userBio:p};if(o==S.LINKEDIN.COMMENT)try{s=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list"),s&&(n=s.querySelector(".update-components-actor__name"),f=s.querySelector(".update-components-actor__description"),u=s.querySelector(".feed-shared-update-v2__description-wrapper").querySelector('span[dir="ltr"]'),y=s.querySelector("article.update-components-article"),u||(u=s.querySelector('span[dir="ltr"]'))),n&&(m.author=n.textContent,f&&(m.authorBio=f.textContent),(r||h)&&(m.user=r||h),p&&(m.userBio=p)),u&&(m.text=u.textContent),y&&(m.article=y.textContent),c=m}catch{}let P=!1;if(o==S.LINKEDIN.COMMENT)try{const a=e.parentElement;a&&a.classList.contains("comments-comment-item__nested-items")&&(P=!0)}catch{}if(o==S.LINKEDIN.POST&&(c=qe(e,r,p)),o==S.LINKEDIN.INVITE&&(c=ve(),!c))return;if(o==S.LINKEDIN.COMMENT_REPLY){const a={article:null,author:null,authorBio:null,mainComment:null,mainCommentAuthor:null,replies:null,text:null,userBio:null,userName:null,userNameToReply:null};try{s=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list"),s&&(u=s.querySelector(".feed-shared-update-v2__description-wrapper").querySelector('span[dir="ltr"]'),y=s.querySelector("article.update-components-article"),u||(u=s.querySelector('span[dir="ltr"]'))),u&&(a.text=u.textContent),y&&(a.article=y.textContent),(r||h)&&(a.userName=h||r),p&&(a.userBio=p);const x=e.closest(".artdeco-card, .comments-comment-item__main-content, .replies-list comments-list");if(x){const g=".update-components-actor__name",C=x.querySelector(g);if(C){const N=C.querySelector('span[aria-hidden="true"]');a.author=N==null?void 0:N.textContent,a.author||(a.author=C==null?void 0:C.textContent)}const _=".update-components-actor__description";x.querySelector(_)&&(a.authorBio=(M=x.querySelector(_))==null?void 0:M.textContent),r&&(a.userName=r),p&&(a.userBio=p);const O="article";if(e.closest(O)){const N=e.closest(O),v=N.querySelectorAll(".comments-comment-item");N.querySelector(".comments-comment-item-content-body")&&(a.mainComment=N.querySelector(".comments-comment-item-content-body").textContent);const j=N.querySelector(".comments-post-meta__name-text");if(j){const A=j.querySelector('span[aria-hidden="true"]');A&&(a.mainCommentAuthor=A.textContent,a.mainCommentAuthor||(a.mainCommentAuthor=j.textContent))}const z=[];v.length>0&&v.forEach(A=>{const R={author:null,content:null},V=A.querySelector(".comments-post-meta__name-text");V&&(R.author=V.textContent);const U=A.querySelector(".comments-comment-item__main-content");U&&(R.content=U.textContent),z.push(R)}),a.replies=z,a.userNameToReply||(a.userNameToReply=(B=e.closest("form a.ql-mention"))==null?void 0:B.textContent)}}c=a}catch{}}let q,w=null;if(o===S.LINKEDIN.MESSAGE){const a=e.parentElement.parentElement.parentElement,x=e.closest(".msg-convo-wrapper");let g;const C=document.querySelector(".global-nav__me-photo");C&&(g=C.getAttribute("alt")),q=[];try{if(w=((T=x.querySelector(".msg-overlay-bubble-header h2"))==null?void 0:T.textContent)||null,w||(w=((k=a.querySelector(".msg-thread__link-to-profile h2"))==null?void 0:k.textContent)||null),!w){const _=a.querySelectorAll(".msg-connections-typeahead .artdeco-pill__text");_&&_.length>0&&(w=_.length===1?_[0].textContent:()=>{let O="";return _.forEach(N=>{O+=`${N.textContent} `}),`Multiple Recipients: ${O.trim()}`})}}catch{}if(a.querySelectorAll(".msg-s-message-list__event").length>=1){const _=a.querySelectorAll(".msg-s-message-list__event");let O=null,N=null;_.forEach(v=>{var U,Y;const j=((U=v==null?void 0:v.querySelector(".msg-s-message-group__name"))==null?void 0:U.textContent.replace(/\s\s+/g,""))||null;j&&(O=j);const z=((Y=v==null?void 0:v.querySelector(".msg-s-message-group__timestamp"))==null?void 0:Y.textContent.replace(/[^\w:]/g,""))||null;z&&(N=z);let A=null;const R=v==null?void 0:v.querySelector(".msg-s-event__content");R!=null&&R.querySelector("p")?A=R.querySelector("p").textContent:A=S.LINKEDIN.SHARED_POST_CARD,A=A.replaceAll(/\n/g," ");const V={fullName:O,messageContent:A,timeStamp:N};q.push(V)})}c={messages:q,recepientName:w?w.replaceAll(/\s\s+/g," "):null,user:g}}let D;o===S.LINKEDIN.COMMENT?D=W.LINKEDIN_COMMENT:o===S.LINKEDIN.POST?D=W.LINKEDIN_POST:o===S.LINKEDIN.MESSAGE?q.length===0?D=W.LINKEDIN_MESSAGE_INTRO:D=W.LINKEDIN_MESSAGE:o===S.LINKEDIN.INVITE?D=W.LINKEDIN_INVITE:o===S.LINKEDIN.COMMENT_REPLY&&(D=W.LINKEDIN_COMMENT_REPLY),Q(l).render(E.jsx(Ee,{mountOn:o,editor:e,contextData:c,promptsFor:D,shouldMount:o!=S.LINKEDIN.COMMENT||o==S.LINKEDIN.COMMENT&&c&&!P}))}async function Ce(t,o){const e=document.createElement("merlin-component");e.id="merlin-fabStrip",e.className="merlin fabStrip merlin-external";const i=e.attachShadow({mode:"open"}),d=document.createElement("style");d.textContent=`${ie}
    :host(.merlin.fabStrip) {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      display: block;
      padding: 0;
      box-sizing: border-box;
      z-index: 10;
    }
    .fabStrip {
      all: initial; /* 1st rule so subsequent properties are reset. */
      position: relative;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .fabStrip ::-webkit-scrollbar {
      display: none;
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    `;const l=document.createElement("div");l.id="reactAppRoot",l.className="reactAppRoot fabStrip",i.appendChild(d),i.appendChild(l),t.appendChild(e);const c=Q(l);(await ee()).fabStrip.linkedIn.inviteFeature&&c.render(E.jsx(Ne,{connectionDistance:o,shadowWrapper:e}))}function Ne(t){const{connectionDistance:o,shadowWrapper:e}=t,[i=J]=Z({instance:new X({area:"local"}),key:"UserSettings"});return i.merlinOnSocialMedia.visible&&i.merlinOnSocialMedia.linkedin.visible?E.jsx(oe,{children:E.jsx(ne,{children:E.jsx(re,{websiteOverride:!0,children:E.jsx(be,{connectionDistance:o,shadowWrapper:e})})})}):null}function Ee(t){const{contextData:o,editor:e,mountOn:i,promptsFor:d}=t,[l,c]=H.useState(""),[u=J]=Z({instance:new X({area:"local"}),key:"UserSettings"});return u.merlinOnSocialMedia.visible&&u.merlinOnSocialMedia.linkedin.visible&&t.shouldMount?E.jsx(oe,{children:E.jsx(ne,{children:E.jsx(Se,{client:fe,persistOptions:{persister:ye},children:E.jsx(re,{websiteOverride:!0,children:E.jsx(ue,{editor:e,host:"linkedin",mountOn:i,contextData:o,promptsFor:d,dotMenuPosition:"bottom",textareaValue:l,setTextareaValue:c})})})})}):null}function qe(t,o,e){const i={};let d=null,l=null,c="";try{d=t.closest(".share-box"),d&&(l=d.querySelector(".share-creation-state__preview-container")),l&&(c=l.textContent,c=c.replaceAll(`
`," "),i.repostText=c),o&&(i.user=o),e&&(i.userBio=e)}catch{}return i}const I=(t,o)=>{try{if(!t.querySelector(`div#${o}`))return;const i=t.querySelector(":scope > .pvs-list__outer-container > .pvs-list");if(!i)return;const d=[];return Array.from(i.querySelectorAll(":scope > li")).forEach(c=>{const u=c.textContent.replaceAll(/\s\s+/g,"");u&&d.push(u)}),d}catch{return[]}};function ve(){var d,l,c,u,y,n,f,s,r,p,b,F;const t={fullName:((d=document.querySelector(".text-heading-xlarge"))==null?void 0:d.textContent)||"",isFollowing:!1,locatedAt:null},o=window.location.pathname;if(["/search/results/","/analytics/profile-views/"].some(h=>o.includes(h))){let h=document.querySelector("#artdeco-modal-outlet");h||(h=document.querySelector('.artdeco-modal[role="dialog"]'));let L=null;h?L=h.querySelector("h2"):L=document.querySelector("h2#send-invite-modal");let m=null;if(L&&(m=L.querySelector("strong")),m||h&&(m=(l=h.querySelector(".artdeco-modal__header"))==null?void 0:l.querySelector("strong"),m||(m=h.querySelector("strong"))),!m)return null;const P=(c=m.textContent)==null?void 0:c.trim();if(!P)return null;let q=(u=document.querySelector(".reusable-search__entity-result-list"))==null?void 0:u.querySelector("ul");if(!q){const g=document.querySelector(".scaffold-layout__main");g&&(q=g.querySelector("ul"))}if(!q)return null;const K=Array.from(q.querySelectorAll("li")).filter(g=>{const C=g.querySelector("button");if(!C)return!1;const _=C.textContent;return!(!_||_.trim().toLocaleLowerCase()!=="connect")}).filter(g=>{const C=g.querySelector(".entity-result__title-text");if(!C)return!1;const _=C.textContent;return!(!_||!_.trim().toLocaleLowerCase().includes(P.toLocaleLowerCase()))});if(K.length!==1)return null;const M=K[0],B=(n=(y=M.querySelector(".entity-result__title-text"))==null?void 0:y.textContent)==null?void 0:n.trim(),T=(s=(f=M.querySelector(".entity-result__primary-subtitle"))==null?void 0:f.textContent)==null?void 0:s.trim(),k=(p=(r=M.querySelector(".entity-result__secondary-subtitle"))==null?void 0:r.textContent)==null?void 0:p.trim(),a=(F=(b=M.querySelector(".entity-result__summary"))==null?void 0:b.textContent)==null?void 0:F.trim(),x=`${B} ${T||""} ${k||""} ${a||""}`.trim();return t.fullName=(x==null?void 0:x.replace(/\s\s+/g," "))||"",t}try{if(!document.querySelector(".scaffold-layout__main"))return t;const L=Array.from(document.querySelectorAll(".scaffold-layout__main > section"));if(L.length===0)return t;L.forEach(m=>{const P=I(m,"education");P&&(t.educationDetails=P);const q=I(m,"experience");q&&(t.experienceDetails=q);const w=I(m,"skills");w&&(t.skillsDetails=w);const D=I(m,"licenses_and_certifications");D&&(t.licensesDetails=D);const K=I(m,"projects");K&&(t.projectsDetails=K);const M=I(m,"volunteer_experience");M&&(t.volunteerExperienceDetails=M);const B=I(m,"publications");B&&(t.publicationsDetails=B);const T=I(m,"patents");T&&(t.patentsDetails=T);const k=I(m,"honors_and_awards");k&&(t.honorsAndAwardsDetails=k);const a=I(m,"test_scores");a&&(t.testScoresDetails=a);const x=I(m,"languages");x&&(t.languagesDetails=x);const g=I(m,"organizations");g&&(t.organizationsDetails=g)}),document.querySelectorAll(".pv-text-details__left-panel").length>0&&document.querySelectorAll(".pv-text-details__left-panel")[1].querySelector(".text-body-small")&&(t.locatedAt=document.querySelector(".pv-text-details__left-panel")[1].querySelector(".text-body-small").textContent.replace(/\s\s+/g,"").toLowerCase())}catch{}return t}xe();
