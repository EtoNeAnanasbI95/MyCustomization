import{r as f}from"./client-45b27fd3.js";function z(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const E={};function w(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&E[e[0]]||(typeof e[0]=="string"&&(E[e[0]]=new Date),z(...e))}const v=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function T(n,e,t){n.loadNamespaces(e,v(n,t))}function R(n,e,t,l){typeof t=="string"&&(t=[t]),t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,v(n,l))}function H(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=e.languages[0],o=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(l.toLowerCase()==="cimode")return!0;const d=(y,x)=>{const a=e.services.backendConnector.state[`${y}|${x}`];return a===-1||a===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!d(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(l,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||d(l,n)&&(!o||d(s,n)))}function P(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(w("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(o,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!s(o.isLanguageChangingTo,n))return!1}}):H(n,e,t)}const $=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,j={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},k=n=>j[n],A=n=>n.replace($,k);let C={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:A};function W(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};C={...C,...n}}function B(){return C}let F;function K(n){F=n}function O(){return F}const U=f.createContext();class q{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const J=(n,e)=>{const t=f.useRef();return f.useEffect(()=>{t.current=e?t.current:n},[n,e]),t.current};function Y(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:l,defaultNS:o}=f.useContext(U)||{},s=t||l||O();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new q),!s){w("You will need to pass in an i18next instance by using initReactI18next");const r=(c,i)=>typeof i=="string"?i:i&&typeof i=="object"&&typeof i.defaultValue=="string"?i.defaultValue:Array.isArray(c)?c[c.length-1]:c,u=[r,{},!1];return u.t=r,u.i18n={},u.ready=!1,u}s.options.react&&s.options.react.wait!==void 0&&w("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...B(),...s.options.react,...e},{useSuspense:y,keyPrefix:x}=d;let a=n||o||s.options&&s.options.defaultNS;a=typeof a=="string"?[a]:a||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(a);const p=(s.isInitialized||s.initializedStoreOnce)&&a.every(r=>P(r,s,d));function m(){return s.getFixedT(e.lng||null,d.nsMode==="fallback"?a:a[0],x)}const[I,h]=f.useState(m);let N=a.join();e.lng&&(N=`${e.lng}${N}`);const S=J(N),g=f.useRef(!0);f.useEffect(()=>{const{bindI18n:r,bindI18nStore:u}=d;g.current=!0,!p&&!y&&(e.lng?R(s,e.lng,a,()=>{g.current&&h(m)}):T(s,a,()=>{g.current&&h(m)})),p&&S&&S!==N&&g.current&&h(m);function c(){g.current&&h(m)}return r&&s&&s.on(r,c),u&&s&&s.store.on(u,c),()=>{g.current=!1,r&&s&&r.split(" ").forEach(i=>s.off(i,c)),u&&s&&u.split(" ").forEach(i=>s.store.off(i,c))}},[s,N]);const L=f.useRef(!0);f.useEffect(()=>{g.current&&!L.current&&h(m),L.current=!1},[s,x]);const b=[I,s,p];if(b.t=I,b.i18n=s,b.ready=p,p||!p&&!y)return b;throw new Promise(r=>{e.lng?R(s,e.lng,a,()=>r()):T(s,a,()=>r())})}export{K as a,W as s,Y as u};
