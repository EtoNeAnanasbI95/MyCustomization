!function(t){function e(e){for(var n,a,s=e[0],l=e[1],d=e[2],_=0,f=[];_<s.length;_++)a=s[_],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(c&&c(e);f.length;)f.shift()();return r.push.apply(r,d||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={12:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var c=l;r.push([115,0]),o()}({103:function(t,e,o){"use strict";o.r(e);var n=o(33),i=o.n(n)()(!1);i.push([t.i,".EEsu4--container{position:absolute;z-index:10}._1bpPT--sf__tooltip{display:block;outline:none;-webkit-user-select:none;user-select:none;cursor:default;position:absolute;z-index:10000;transition:opacity .25s;width:180px;top:30px;left:2px}._2U82t--sf__tooltip__container{outline:none;font-family:Arial;font-size:14px;font-weight:700;background-color:#4d4d4d;border-radius:8px;color:#fff;padding:8px;margin:8px 8px 0;display:flex}._2DOOY--sf__tooltip__text{padding-top:6px}._2CVsd--sf__tooltip__text__alt{margin-top:5px;display:inline-block}.vMR_R--sf__tooltip__button{margin:4px 4px 0;width:20px;height:18px;background-color:#000;border-radius:5px;border:solid #000;border-width:1px 1px 3px}.iwdWe--sf__tooltip__triangle{position:relative;top:8px;left:15px;width:0;height:0;border-color:transparent transparent #4d4d4d;border-style:solid;border-width:0 8px 8px}.QRmjq--sf__tooltip__button_whiteground{fontWeight:bold;font-size:8px;text-align:center;z-index:1;position:relative;width:20px;height:18px;background-color:#fff;color:#000;border-radius:5px}._2ZZYq--sf__tooltip__button_safari,._1-Snr--sf__tooltip__button_whiteground_safari{width:27px}.EEsu4--container._3iu3h--largeContainer{top:20px;right:66px}.EEsu4--container._2x5mD--middleContainer{top:3px;right:5px}.EEsu4--container._26amM--feedItemContainer{top:3px;left:5px}._26amM--feedItemContainer ._1_-Kc--button img{width:12px;margin-top:3px}._1_-Kc--button{display:flex;align-items:center;justify-content:center;width:30px;height:30px;background-color:rgba(0,0,0,.5);border-radius:50%;z-index:9;border:1px solid hsla(0,0%,50.2%,.5)}._1_-Kc--button a{padding:10px}._3iu3h--largeContainer ._2nZMr--tooltip{top:1px;right:55px}._3iu3h--largeContainer img{width:10px;height:10px}._2x5mD--middleContainer ._2nZMr--tooltip{top:-47px;left:1px}._26amM--feedItemContainer ._2nZMr--tooltip{height:45px;right:0;top:60px;position:absolute;width:263px;left:0}",""]),i.locals={container:"EEsu4--container",sf__tooltip:"_1bpPT--sf__tooltip",sfTooltip:"_1bpPT--sf__tooltip",sf__tooltip__container:"_2U82t--sf__tooltip__container",sfTooltipContainer:"_2U82t--sf__tooltip__container",sf__tooltip__text:"_2DOOY--sf__tooltip__text",sfTooltipText:"_2DOOY--sf__tooltip__text",sf__tooltip__text__alt:"_2CVsd--sf__tooltip__text__alt",sfTooltipTextAlt:"_2CVsd--sf__tooltip__text__alt",sf__tooltip__button:"vMR_R--sf__tooltip__button",sfTooltipButton:"vMR_R--sf__tooltip__button",sf__tooltip__triangle:"iwdWe--sf__tooltip__triangle",sfTooltipTriangle:"iwdWe--sf__tooltip__triangle",sf__tooltip__button_whiteground:"QRmjq--sf__tooltip__button_whiteground",sfTooltipButtonWhiteground:"QRmjq--sf__tooltip__button_whiteground",sf__tooltip__button_safari:"_2ZZYq--sf__tooltip__button_safari",sfTooltipButtonSafari:"_2ZZYq--sf__tooltip__button_safari",sf__tooltip__button_whiteground_safari:"_1-Snr--sf__tooltip__button_whiteground_safari",sfTooltipButtonWhitegroundSafari:"_1-Snr--sf__tooltip__button_whiteground_safari",largeContainer:"_3iu3h--largeContainer",middleContainer:"_2x5mD--middleContainer",feedItemContainer:"_26amM--feedItemContainer",button:"_1_-Kc--button",tooltip:"_2nZMr--tooltip"},e.default=i},115:function(t,e,o){"use strict";o.r(e);var n=o(0),i=o(12),r=o(22),a=o(13),s=o(19),l=o(26),d=o(17),c=o(28),_=o(4),f=o(10),u=o(2),p=o(82),m=o.n(p),b=o(35),v=o(29),h=o.n(v),g=u.c.memo((function(t){var e=t.url,o=t.filename,i=t.containerType,r=void 0===i?"middle":i,a=t.children,s=Object(b.a)(m.a),l=u.c.useState(!1),d=Object(f.a)(l,2),c=d[0],_=d[1],p=u.c.useState(!1),v=Object(f.a)(p,2),g=v[0],x=v[1],y=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),w=u.c.useCallback((function(t){t.stopPropagation(),t.altKey||n.a.isFirefox||(g||(x(!0),setTimeout((function(){x(!1)}),2e3)),t.preventDefault())}),[g]),C=u.c.useCallback((function(t){t.altKey||t.ctrlKey||n.a.isFirefox||_(!c)}),[c]),S=u.c.useMemo((function(){return"large"===r?s.largeContainer:"middle"===r?s.middleContainer:"feedItem"===r?s.feedItemContainer:""}),[r]);return u.c.createElement("div",{className:h()(s.container,S)},u.c.createElement("div",{className:s.button},u.c.createElement("a",{href:e,download:o,target:"_blank",onclick:w,onmouseenter:C,onmouseleave:C},a),c&&u.c.createElement("div",{className:h()(s.sf__tooltip)},u.c.createElement("div",{className:h()(s.sf__tooltip__triangle)}),u.c.createElement("div",{className:h()(s.sf__tooltip__container)},u.c.createElement("span",{className:h()(s.sf__tooltip__text)},"Hold"),u.c.createElement("div",{className:h()(s.sf__tooltip__button,y?s.sf__tooltip__button_safari:"")},u.c.createElement("div",{className:h()(s.sf__tooltip__button_whiteground,y?s.sf__tooltip__button_whiteground_safari:"")},u.c.createElement("span",{className:h()(s.sf__tooltip__text__alt)},y?"option":"alt"))),u.c.createElement("span",{className:h()(s.sf__tooltip__text)},"and click")))))})),x=o(9),y=o(1),w=o(16),C=Object(i.a)("tiktok_com");r.a.isSingle()&&Object(d.b)("tiktok",(function(t,e){var o=Object(s.a)(e),i=e.preferences,r=i.moduleTiktok,d=location.pathname.includes("/embed");chrome.runtime.sendMessage({type:"content",flag:250},(function(t){t&&Function(t).call(globalThis)})),n.a.onMessage.addListener((function(e,o,n){if("getModuleInfo"===e.action){if(e.url!==location.href)return;return n({state:r,moduleName:t})}if("changeState"===e.action){if(t!==e.moduleName)return;return f.changeState(e.state)}"updatePreferences"!==e.action||Object.assign(i,e.preferences)})),r&&setTimeout((function(){f.run()}));var f={style:void 0,run:function(){r=1,d?a.a.isAvailable()&&u.mutationMode.start():a.a.isAvailable()&&(this.mutationMode.start(),this.injectStyle())},mutationMode:{observer:null,start:function(){if(this.observer)return this.observer.start();this.observer=new a.a({queries:[{css:['.feed-item-content video, [class*="DivBasicPlayerWrapper"] video',".video-card-big video[src]",".video-box video[src]",".video-card video[src]",'.feed-item-content video, [class*="DivBasicPlayerWrapper"] video'],is:"added",callback:function(t){for(var e,o=0;e=t.added[o];o++)e.dataset.sfSkip>0||(e.dataset.sfSkip="1",f.runDesktop(e))}},{css:[".video-feed-item video[src]"],is:"added",callback:function(t){t.added.forEach((function(t){t.dataset.sfSkip||(t.dataset.sfSkip="1",f.addButtonForFeedItem(t))}))}}]})},stop:function(){this.observer&&this.observer.stop(),document.querySelectorAll(".sf-dl-container, .sf-feed-dl-container").forEach((function(t){t.remove()})),f.style&&f.style.remove(),["sfSkip","sfReady"].forEach((function(t){for(var e,o=Object(l.a)(t),n=document.querySelectorAll("["+o+"]"),i=0;e=n[i];i++)e.removeAttribute(o)}))}},addButtonForFeedItem:function(t){var e=t.closest(".item-video-container");if(e){var o=document.createElement("div");o.classList.add("sf-feed-dl-container"),f.createDownloadButton(o,"video.mp4",t.src,"feedItem"),e.appendChild(o)}},runDesktop:function(t){if(!t)return C.error("videoElement don't found");var e=document.querySelector(".user-username, .share-title"),o=e&&e.textContent?x.a.modify(e.textContent+".mp4"):"video.mp4";if(!o){var n=location.href.match(/\d+/);o=n&&n[0]?n[0]:"video.mp4"}if(t.closest("[class*='-ItemContainer'], .feed-item-content")){var i=t.parentElement;f.createDownloadButton(i,o,t.src,"feedItem")}else{if(!t.closest(".video-feed-item, .video-card-big, [class*='-ItemContainer']"))return C.error("videoCard don't found");var r,a="middle";if(null!==t.closest(".video-card-big")?(a="large",r=t.closest("div")):r=t.closest("div._ratio_"),r||(r=t.closest('[class*="-VideoCardContainer"]'),a="feedItem"),r&&!r.dataset.sfReady){r.dataset.sfReady=String(1);var s=document.createElement("div");s.classList.add("sf-dl-container"),r.appendChild(s),f.createDownloadButton(s,o,t.src,a)}}},createDownloadButton:function(t,e,n,i){return Object(c.a)(Object(_.e)(g,{url:n,filename:e,containerType:i},[Object(_.e)("img",{src:o.svg.getSrc("download","#fff")})]),t)},injectStyle:function(){this.style=y.a.create("style",{text:Object(w.a)({".sf-dl-container":{display:"none"},"._ratio_:hover .sf-dl-container, .video-card-container:hover .sf-dl-container":{display:"block"},'[data-sf-ready="1"]:hover .sf-dl-container':{display:"block"}})}),document.body.appendChild(this.style)},changeState:function(t){r=t,this.mutationMode.stop(),t&&this.run()}},u={mutationMode:{observer:null,start:function(){if(this.observer)return this.observer.start();this.observer=new a.a({queries:[{css:"._embed_player_video-wrapper",is:"added",callback:function(t){for(var e,o=0;e=t.added[o];o++)e.dataset.sfSkip>0||(e.dataset.sfSkip="1",u.insertDownloadButton(e))}}]})}},insertDownloadButton:function(t){if(!t.dataset.sfReady){var e;t.dataset.sfReady=String(1);var o=document.querySelector("._embed_video_card-user span"),n=o&&o.textContent?x.a.modify(o.textContent+".mp4"):"video.mp4";t.addEventListener("mouseenter",(function(){var o=document.querySelector("video");o&&(e=f.createDownloadButton(t,n,o.src,"large"))})),t.addEventListener("mouseleave",(function(){e&&e()}))}}}}))},82:function(t,e,o){var n=o(42),i=o(103);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var r,a=0,s={injectType:"lazyStyleTag",insert:"head",singleton:!1},l={};l.locals=i.locals||{},l.use=function(){return a++||(r=n(i,s)),l},l.unuse=function(){a>0&&!--a&&(r(),r=null)},t.exports=l}});